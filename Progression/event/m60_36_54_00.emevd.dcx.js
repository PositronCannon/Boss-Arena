// ==EMEVD==
// @docs    er-common.emedf.json
// @compress    DCX_KRAK
// @game    Sekiro
// @string    "N:\\GR\\data\\Param\\event\\common_func.emevd\u0000N:\\GR\\data\\Param\\event\\common_macro.emevd\u0000\u0000\u0000\u0000\u0000\u0000"
// @linked    [0,82]
// @version    3.4.2
// ==/EMEVD==

$Event(0, Default, function() {
    InitializeCommonEvent(1, 90005600, 76352, 1036541951, 1084227584, 0);
    InitializeCommonEvent(0, 90005100, 71602, 76352, 1036541981, 77350, 3, 78350, 78351, 78352, 78353, 78354, 78355, 78356, 78357, 78358, 78359);
    InitializeCommonEvent(2, 90005600, 76353, 1036541952, 1084227584, 0);
    InitializeCommonEvent(0, 90005261, 1036540800, 1036542805, 1092616192, 0, 0);
    InitializeCommonEvent(0, 90005870, 1036540800, 904680603, 19);
    InitializeCommonEvent(0, 90005860, 1036540800, 0, 1036540800, 0, 30375, 0);
    InitializeEvent(0, 1036542350, 1036542450, 16488, 16489);
    InitializeCommonEvent(0, 90005300, 1036540498, 1036540498, 40334, 0, 0);
    InitializeCommonEvent(0, 90005261, 1036540210, 1036542210, 1084227584, 1050253722, 0);
    InitializeCommonEvent(2, 90005261, 1036540212, 1036542210, 1084227584, 1045220557, 0);
    InitializeCommonEvent(0, 90005261, 1036540208, 1036542220, 1084227584, 0, 0);
    InitializeCommonEvent(0, 90005250, 1036540425, 1036542425, 0, -1);
    InitializeCommonEvent(1, 90005250, 1036540426, 1036542425, 1073741824, -1);
    InitializeCommonEvent(0, 90005250, 1036540414, 1036542414, 0, 0);
    InitializeCommonEvent(0, 90005211, 1036540410, 30010, 20010, 1036542410, 1092616192, 1088631603, 0, 0, 0, 0);
    InitializeCommonEvent(1, 90005211, 1036540411, 30010, 20010, 1036542410, 1092616192, 1088421888, 0, 0, 0, 0);
    InitializeCommonEvent(2, 90005211, 1036540204, 30010, 20010, 1036542410, 1092616192, 1088841318, 0, 0, 0, 0);
    InitializeCommonEvent(3, 90005211, 1036540205, 30010, 20010, 1036542410, 1092616192, 1089470464, 0, 0, 0, 0);
    InitializeCommonEvent(4, 90005211, 1036540450, 30000, 20000, 1036542410, 1084227584, 0, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005250, 1036540305, 1036542305, 0, -1);
    InitializeCommonEvent(1, 90005250, 1036540306, 1036542305, 0, -1);
    InitializeCommonEvent(2, 90005250, 1036540307, 1036542305, 0, -1);
    InitializeCommonEvent(0, 90005391, 1036540350, 1036542350, 1036540350, 1036540355, 1);
    InitializeEvent(0, 1036542250, 1036540350, 1036542350, 1036540350, 1036540355, 1, 1036540100);
    InitializeEvent(0, 1036542580, 0);
    InitializeEvent(0, 1036542240, 1036541200, 1036541201, 82032);
    InitializeEvent(0, 1036542301, 0);
    InitializeEvent(0, 1036542300, 1036541300, 1061997773);
    InitializeEvent(1, 1036542300, 1036541301, 0);
    InitializeEvent(2, 1036542300, 1036541302, 1082969293);
    InitializeEvent(3, 1036542300, 1036541303, 1066192077);
    InitializeEvent(4, 1036542300, 1036541304, 1086324736);
    InitializeEvent(5, 1036542300, 1036541305, 1088421888);
    InitializeEvent(6, 1036542300, 1036541306, 1065353216);
    InitializeEvent(7, 1036542300, 1036541307, 1069547520);
    InitializeEvent(8, 1036542300, 1036541308, 1080452710);
    InitializeEvent(9, 1036542300, 1036541309, 1084227584);
    InitializeEvent(10, 1036542300, 1036541310, 1080033280);
    InitializeEvent(11, 1036542300, 1036541311, 1086324736);
    InitializeEvent(12, 1036542300, 1036541312, 1082130432);
    InitializeEvent(13, 1036542300, 1036541313, 1082340147);
    InitializeEvent(14, 1036542300, 1036541314, 1089260749);
    InitializeEvent(15, 1036542300, 1036541315, 1082969293);
    InitializeEvent(16, 1036542300, 1036541316, 1087373312);
    InitializeEvent(17, 1036542300, 1036541317, 1089680179);
    InitializeEvent(18, 1036542300, 1036541318, 1087583027);
    InitializeEvent(19, 1036542300, 1036541319, 1088421888);
    InitializeEvent(20, 1036542300, 1036541320, 1088631603);
    InitializeEvent(21, 1036542300, 1036541321, 1089470464);
    InitializeEvent(22, 1036542300, 1036541322, 1050253722);
    InitializeEvent(23, 1036542300, 1036541323, 1082549862);
    InitializeEvent(24, 1036542300, 1036541324, 0);
    InitializeEvent(25, 1036542300, 1036541325, 1065353216);
    InitializeEvent(0, 1036542500, 0);
    InitializeEvent(0, 1036542450, 1036541400);
    InitializeEvent(1, 1036542450, 1036541401);
    InitializeEvent(2, 1036542450, 1036541402);
    InitializeEvent(3, 1036542450, 1036541403);
    InitializeEvent(4, 1036542450, 1036541404);
    InitializeEvent(5, 1036542450, 1036541405);
    InitializeEvent(6, 1036542450, 1036541406);
    InitializeEvent(7, 1036542450, 1036541407);
    InitializeEvent(8, 1036542450, 1036541408);
    InitializeCommonEvent(0, 90005706, 1036540701, 930021, 0);
    //init boss reward
    InitializeEvent(0, 1036549990, 0);
});

//fullgrown fallingstar
$Event(1036549990, Default, function() {
    WaitFor(CharacterDead(1036540800));
    //boss rewards (3 bonus items + guaranteed flag)
    InitializeCommonEvent(0,90001033,1049304228,1049304130,1049304140,-1,1049304975,1049304976,1049304977,1049304978,1049305709,1049305712,1049305714,1049305716,1049300228);
});

$Event(50, Default, function() {
    SetCharacterBackreadState(1036540701, true);
});

$Event(1036542580, Default, function() {
    RegisterLadder(1036540580, 1036540851, 1036541580);
});

$Event(1036542200, Restart, function(X0_4) {
    ForceCharacterDeath(X0_4, false);
    EndEvent();
});

$Event(1036542240, Restart, function(X0_4, X4_4, X8_4) {
    if (!EventFlag(X8_4)) {
        CreateAssetfollowingSFX(X0_4, 200, 803220);
    }
L0:
    WaitFor(EventFlag(X8_4));
    ForceAnimationPlayback(X4_4, 1, false, false, false);
    DeleteAssetfollowingSFX(X0_4, true);
});

$Event(1036542250, Restart, function(X0_4, X4_4, X8_4, X12_4, X16_4, X20_4) {
    EndIf(EventFlag(X0_4));
    WaitFor(EventFlag(X4_4) && CharacterDead(X12_4));
    WaitFixedTimeSeconds(1);
    if (Signed(X16_4) != 0) {
        SpawnOneshotSFX(TargetEntityType.Character, X8_4, 960, 601111);
    } else {
L2:
        SpawnOneshotSFX(TargetEntityType.Character, X8_4, 960, 601110);
    }
L3:
    WaitFixedTimeSeconds(5);
    DisableCharacter(X12_4);
    EndIf(!PlayerIsInOwnWorld());
    if (Signed(X20_4) != 0) {
        AwardItemsIncludingClients(X20_4);
    }
    SetNetworkconnectedEventFlagID(X0_4, ON);
});

$Event(1036542400, Restart, function(X0_4, X4_4, X8_4) {
    DisableCharacterAI(X0_4);
    DisableCharacterGravity(X0_4);
    WaitFor(InArea(10000, X4_4));
    WaitFixedTimeSeconds(X8_4);
    ForceAnimationPlayback(X0_4, 3032, false, true, false);
    EnableCharacterAI(X0_4);
    WaitFixedTimeSeconds(2.8);
    EnableCharacterGravity(X0_4);
    EndEvent();
});

$Event(1036542450, Restart, function(X0_4) {
    DisableAsset(X0_4);
    EndEvent();
});

$Event(1036542500, Default, function() {
    if (EventFlag(57)) {
        InitializeCommonEvent(0, 90005694, 1036542350, 1036541350, 200, 0, 802003270, 1065353216, 0, 1065353216);
    }
    if (EventFlag(56)) {
        InitializeCommonEvent(0, 90005694, 1036542350, 1036541350, 200, 0, 802003260, 1065353216, 0, 1065353216);
    }
    if (EventFlag(55)) {
        InitializeCommonEvent(0, 90005694, 1036542350, 1036541350, 200, 0, 802003250, 1065353216, 0, 1065353216);
    }
    if (EventFlag(54)) {
        InitializeCommonEvent(0, 90005694, 1036542350, 1036541350, 200, 0, 802003240, 1065353216, 0, 1065353216);
    }
    if (EventFlag(53)) {
        InitializeCommonEvent(0, 90005694, 1036542350, 1036541350, 200, 0, 802003230, 1065353216, 0, 1065353216);
    }
    if (EventFlag(52)) {
        InitializeCommonEvent(0, 90005694, 1036542350, 1036541350, 200, 0, 802003220, 1065353216, 0, 1065353216);
    }
    if (EventFlag(51)) {
        InitializeCommonEvent(0, 90005694, 1036542350, 1036541350, 200, 0, 802003210, 1065353216, 0, 1065353216);
    }
    if (EventFlag(50)) {
        InitializeCommonEvent(0, 90005694, 1036542350, 1036541350, 200, 0, 802003200, 1065353216, 0, 1065353216);
    }
    if (EventFlag(57)) {
        InitializeCommonEvent(0, 90005694, 1036542351, 1036541351, 200, 0, 802003270, 1065353216, 0, 1065353216);
    }
    if (EventFlag(56)) {
        InitializeCommonEvent(0, 90005694, 1036542351, 1036541351, 200, 0, 802003260, 1065353216, 0, 1065353216);
    }
    if (EventFlag(55)) {
        InitializeCommonEvent(0, 90005694, 1036542351, 1036541351, 200, 0, 802003250, 1065353216, 0, 1065353216);
    }
    if (EventFlag(54)) {
        InitializeCommonEvent(0, 90005694, 1036542351, 1036541351, 200, 0, 802003240, 1065353216, 0, 1065353216);
    }
    if (EventFlag(53)) {
        InitializeCommonEvent(0, 90005694, 1036542351, 1036541351, 200, 0, 802003230, 1065353216, 0, 1065353216);
    }
    if (EventFlag(52)) {
        InitializeCommonEvent(0, 90005694, 1036542351, 1036541351, 200, 0, 802003220, 1065353216, 0, 1065353216);
    }
    if (EventFlag(51)) {
        InitializeCommonEvent(0, 90005694, 1036542351, 1036541351, 200, 0, 802003210, 1065353216, 0, 1065353216);
    }
    if (EventFlag(50)) {
        InitializeCommonEvent(0, 90005694, 1036542351, 1036541351, 200, 0, 802003200, 1065353216, 0, 1065353216);
    }
    if (EventFlag(57)) {
        InitializeCommonEvent(0, 90005694, 1036542352, 1036541352, 200, 0, 802003270, 1065353216, 0, 1065353216);
    }
    if (EventFlag(56)) {
        InitializeCommonEvent(0, 90005694, 1036542352, 1036541352, 200, 0, 802003260, 1065353216, 0, 1065353216);
    }
    if (EventFlag(55)) {
        InitializeCommonEvent(0, 90005694, 1036542352, 1036541352, 200, 0, 802003250, 1065353216, 0, 1065353216);
    }
    if (EventFlag(54)) {
        InitializeCommonEvent(0, 90005694, 1036542352, 1036541352, 200, 0, 802003240, 1065353216, 0, 1065353216);
    }
    if (EventFlag(53)) {
        InitializeCommonEvent(0, 90005694, 1036542352, 1036541352, 200, 0, 802003230, 1065353216, 0, 1065353216);
    }
    if (EventFlag(52)) {
        InitializeCommonEvent(0, 90005694, 1036542352, 1036541352, 200, 0, 802003220, 1065353216, 0, 1065353216);
    }
    if (EventFlag(51)) {
        InitializeCommonEvent(0, 90005694, 1036542352, 1036541352, 200, 0, 802003210, 1065353216, 0, 1065353216);
    }
    if (EventFlag(50)) {
        InitializeCommonEvent(0, 90005694, 1036542352, 1036541352, 200, 0, 802003200, 1065353216, 0, 1065353216);
    }
    if (EventFlag(57)) {
        InitializeCommonEvent(0, 90005694, 1036542353, 1036541353, 200, 0, 802003270, 1065353216, 0, 1065353216);
    }
    if (EventFlag(56)) {
        InitializeCommonEvent(0, 90005694, 1036542353, 1036541353, 200, 0, 802003260, 1065353216, 0, 1065353216);
    }
    if (EventFlag(55)) {
        InitializeCommonEvent(0, 90005694, 1036542353, 1036541353, 200, 0, 802003250, 1065353216, 0, 1065353216);
    }
    if (EventFlag(54)) {
        InitializeCommonEvent(0, 90005694, 1036542353, 1036541353, 200, 0, 802003240, 1065353216, 0, 1065353216);
    }
    if (EventFlag(53)) {
        InitializeCommonEvent(0, 90005694, 1036542353, 1036541353, 200, 0, 802003230, 1065353216, 0, 1065353216);
    }
    if (EventFlag(52)) {
        InitializeCommonEvent(0, 90005694, 1036542353, 1036541353, 200, 0, 802003220, 1065353216, 0, 1065353216);
    }
    if (EventFlag(51)) {
        InitializeCommonEvent(0, 90005694, 1036542353, 1036541353, 200, 0, 802003210, 1065353216, 0, 1065353216);
    }
    if (EventFlag(50)) {
        InitializeCommonEvent(0, 90005694, 1036542353, 1036541353, 200, 0, 802003200, 1065353216, 0, 1065353216);
    }
    if (EventFlag(57)) {
        InitializeCommonEvent(0, 90005694, 1036542354, 1036541354, 200, 0, 802003270, 1065353216, 0, 1065353216);
    }
    if (EventFlag(56)) {
        InitializeCommonEvent(0, 90005694, 1036542354, 1036541354, 200, 0, 802003260, 1065353216, 0, 1065353216);
    }
    if (EventFlag(55)) {
        InitializeCommonEvent(0, 90005694, 1036542354, 1036541354, 200, 0, 802003250, 1065353216, 0, 1065353216);
    }
    if (EventFlag(54)) {
        InitializeCommonEvent(0, 90005694, 1036542354, 1036541354, 200, 0, 802003240, 1065353216, 0, 1065353216);
    }
    if (EventFlag(53)) {
        InitializeCommonEvent(0, 90005694, 1036542354, 1036541354, 200, 0, 802003230, 1065353216, 0, 1065353216);
    }
    if (EventFlag(52)) {
        InitializeCommonEvent(0, 90005694, 1036542354, 1036541354, 200, 0, 802003220, 1065353216, 0, 1065353216);
    }
    if (EventFlag(51)) {
        InitializeCommonEvent(0, 90005694, 1036542354, 1036541354, 200, 0, 802003210, 1065353216, 0, 1065353216);
    }
    if (EventFlag(50)) {
        InitializeCommonEvent(0, 90005694, 1036542354, 1036541354, 200, 0, 802003200, 1065353216, 0, 1065353216);
    }
    if (EventFlag(57)) {
        InitializeCommonEvent(0, 90005694, 1036542355, 1036541355, 200, 0, 802003270, 1065353216, 0, 1065353216);
    }
    if (EventFlag(56)) {
        InitializeCommonEvent(0, 90005694, 1036542355, 1036541355, 200, 0, 802003260, 1065353216, 0, 1065353216);
    }
    if (EventFlag(55)) {
        InitializeCommonEvent(0, 90005694, 1036542355, 1036541355, 200, 0, 802003250, 1065353216, 0, 1065353216);
    }
    if (EventFlag(54)) {
        InitializeCommonEvent(0, 90005694, 1036542355, 1036541355, 200, 0, 802003240, 1065353216, 0, 1065353216);
    }
    if (EventFlag(53)) {
        InitializeCommonEvent(0, 90005694, 1036542355, 1036541355, 200, 0, 802003230, 1065353216, 0, 1065353216);
    }
    if (EventFlag(52)) {
        InitializeCommonEvent(0, 90005694, 1036542355, 1036541355, 200, 0, 802003220, 1065353216, 0, 1065353216);
    }
    if (EventFlag(51)) {
        InitializeCommonEvent(0, 90005694, 1036542355, 1036541355, 200, 0, 802003210, 1065353216, 0, 1065353216);
    }
    if (EventFlag(50)) {
        InitializeCommonEvent(0, 90005694, 1036542355, 1036541355, 200, 0, 802003200, 1065353216, 0, 1065353216);
    }
    if (EventFlag(57)) {
        InitializeCommonEvent(0, 90005694, 1036542356, 1036541356, 200, 0, 802003270, 1065353216, 0, 1065353216);
    }
    if (EventFlag(56)) {
        InitializeCommonEvent(0, 90005694, 1036542356, 1036541356, 200, 0, 802003260, 1065353216, 0, 1065353216);
    }
    if (EventFlag(55)) {
        InitializeCommonEvent(0, 90005694, 1036542356, 1036541356, 200, 0, 802003250, 1065353216, 0, 1065353216);
    }
    if (EventFlag(54)) {
        InitializeCommonEvent(0, 90005694, 1036542356, 1036541356, 200, 0, 802003240, 1065353216, 0, 1065353216);
    }
    if (EventFlag(53)) {
        InitializeCommonEvent(0, 90005694, 1036542356, 1036541356, 200, 0, 802003230, 1065353216, 0, 1065353216);
    }
    if (EventFlag(52)) {
        InitializeCommonEvent(0, 90005694, 1036542356, 1036541356, 200, 0, 802003220, 1065353216, 0, 1065353216);
    }
    if (EventFlag(51)) {
        InitializeCommonEvent(0, 90005694, 1036542356, 1036541356, 200, 0, 802003210, 1065353216, 0, 1065353216);
    }
    if (EventFlag(50)) {
        InitializeCommonEvent(0, 90005694, 1036542356, 1036541356, 200, 0, 802003200, 1065353216, 0, 1065353216);
    }
    if (EventFlag(57)) {
        InitializeCommonEvent(0, 90005694, 1036542357, 1036541357, 200, 0, 802003270, 1065353216, 0, 1065353216);
    }
    if (EventFlag(56)) {
        InitializeCommonEvent(0, 90005694, 1036542357, 1036541357, 200, 0, 802003260, 1065353216, 0, 1065353216);
    }
    if (EventFlag(55)) {
        InitializeCommonEvent(0, 90005694, 1036542357, 1036541357, 200, 0, 802003250, 1065353216, 0, 1065353216);
    }
    if (EventFlag(54)) {
        InitializeCommonEvent(0, 90005694, 1036542357, 1036541357, 200, 0, 802003240, 1065353216, 0, 1065353216);
    }
    if (EventFlag(53)) {
        InitializeCommonEvent(0, 90005694, 1036542357, 1036541357, 200, 0, 802003230, 1065353216, 0, 1065353216);
    }
    if (EventFlag(52)) {
        InitializeCommonEvent(0, 90005694, 1036542357, 1036541357, 200, 0, 802003220, 1065353216, 0, 1065353216);
    }
    if (EventFlag(51)) {
        InitializeCommonEvent(0, 90005694, 1036542357, 1036541357, 200, 0, 802003210, 1065353216, 0, 1065353216);
    }
    if (EventFlag(50)) {
        InitializeCommonEvent(0, 90005694, 1036542357, 1036541357, 200, 0, 802003200, 1065353216, 0, 1065353216);
    }
    if (EventFlag(57)) {
        InitializeCommonEvent(0, 90005694, 1036542358, 1036541358, 200, 0, 802003270, 1065353216, 0, 1065353216);
    }
    if (EventFlag(56)) {
        InitializeCommonEvent(0, 90005694, 1036542358, 1036541358, 200, 0, 802003260, 1065353216, 0, 1065353216);
    }
    if (EventFlag(55)) {
        InitializeCommonEvent(0, 90005694, 1036542358, 1036541358, 200, 0, 802003250, 1065353216, 0, 1065353216);
    }
    if (EventFlag(54)) {
        InitializeCommonEvent(0, 90005694, 1036542358, 1036541358, 200, 0, 802003240, 1065353216, 0, 1065353216);
    }
    if (EventFlag(53)) {
        InitializeCommonEvent(0, 90005694, 1036542358, 1036541358, 200, 0, 802003230, 1065353216, 0, 1065353216);
    }
    if (EventFlag(52)) {
        InitializeCommonEvent(0, 90005694, 1036542358, 1036541358, 200, 0, 802003220, 1065353216, 0, 1065353216);
    }
    if (EventFlag(51)) {
        InitializeCommonEvent(0, 90005694, 1036542358, 1036541358, 200, 0, 802003210, 1065353216, 0, 1065353216);
    }
    if (EventFlag(50)) {
        InitializeCommonEvent(0, 90005694, 1036542358, 1036541358, 200, 0, 802003200, 1065353216, 0, 1065353216);
    }
});

$Event(1036542300, Restart, function(X0_4, X4_4) {
    WaitFor(EntityInRadiusOfEntity(10000, X0_4, 70, 1));
    if (!ThisEventSlot()) {
        WaitFixedTimeSeconds(X4_4);
        SetThisEventSlot(ON);
    }
L0:
    if (EventFlag(50)) {
        ShootBullet(1036540400, X0_4, -1, 802803200, 0, 0, 0);
    }
    if (EventFlag(51)) {
        ShootBullet(1036540400, X0_4, -1, 802803210, 0, 0, 0);
    }
    if (EventFlag(52)) {
        ShootBullet(1036540400, X0_4, -1, 802803220, 0, 0, 0);
    }
    if (EventFlag(53)) {
        ShootBullet(1036540400, X0_4, -1, 802803230, 0, 0, 0);
    }
    if (EventFlag(54)) {
        ShootBullet(1036540400, X0_4, -1, 802803240, 0, 0, 0);
    }
    if (EventFlag(55)) {
        ShootBullet(1036540400, X0_4, -1, 802803250, 0, 0, 0);
    }
    if (EventFlag(56)) {
        ShootBullet(1036540400, X0_4, -1, 802803260, 0, 0, 0);
    }
    if (EventFlag(57)) {
        ShootBullet(1036540400, X0_4, -1, 802803270, 0, 0, 0);
    }
    WaitFixedTimeSeconds(8);
    RestartIf(mainGroupAbuse);
});

$Event(1036542301, Restart, function() {
    CreateBulletOwner(1036540400);
});

$Event(1036542350, Restart, function(X0_4, X4_4, X8_4) {
    EndIf(EventFlag(1036540800));
    DisableNetworkSync();
    WaitFor(InArea(20000, X0_4));
    SetSpEffect(20000, X4_4);
    WaitFixedTimeSeconds(0.1);
    WaitFor(!InArea(20000, X0_4));
    WaitFixedTimeSeconds(0.1);
    SetSpEffect(20000, X8_4);
    RestartEvent();
});

$Event(1036542800, Restart, function() {
    EndIf(EventFlag(1036540800));
    DisableCharacterAI(1036540800);
    DisableCharacter(1036540800);
    if (!EventFlag(1036540805)) {
        WaitFor(InArea(10000, 1036542800) && ActionButtonInArea(9000, 1036541800));
        DisableAsset(1036541800);
        EnableCharacter(1036540800);
        ForceAnimationPlayback(1036540800, 20016, false, true, false);
        EnableCharacterAI(1036540800);
        SetNetworkUpdateRate(1036540800, true, CharacterUpdateFrequency.AlwaysUpdate);
        WaitFor(!InArea(10000, 1036542800));
        DisableCharacterAI(1036540800);
        ForceAnimationPlayback(1036540800, 3030, true, true, true);
        WaitFixedTimeSeconds(3.4);
        IssueShortWarpRequest(1036540800, TargetEntityType.Area, 1036542801, 0);
        DisableCharacter(1036540800);
        SetNetworkconnectedEventFlagID(1036540805, ON);
        RestartEvent();
    }
L0:
    WaitFor(InArea(10000, 1036542802) && InArea(10000, 1036542800));
    IssueShortWarpRequest(1036540800, TargetEntityType.Area, 1036542801, 0);
    WaitFixedTimeSeconds(3);
    EnableCharacter(1036540800);
    ForceAnimationPlayback(1036540800, 20016, false, true, false);
    EnableCharacterAI(1036540800);
    SetNetworkUpdateRate(1036540800, true, CharacterUpdateFrequency.AlwaysUpdate);
    WaitFor(!InArea(10000, 1036542800));
    DisableCharacterAI(1036540800);
    ForceAnimationPlayback(1036540800, 3030, true, true, true);
    WaitFixedTimeSeconds(3.4);
    IssueShortWarpRequest(1036540800, TargetEntityType.Area, 1036542801, 0);
    DisableCharacter(1036540800);
    RestartEvent();
});

$Event(1036542801, Restart, function() {
    EndIf(EventFlag(1036540800));
    WaitFor(CharacterHPValue(1036540800) <= 0);
    WaitFixedTimeSeconds(4);
    PlaySE(1036540800, SoundType.SFX, 888880000);
    WaitFor(CharacterDead(1036540800));
    HandleBossDefeatAndDisplayBanner(1036540800, TextBannerType.EnemyFelled);
    //boss rewards (3 bonus items + guaranteed flag)
    InitializeCommonEvent(0,90001033,1049304228,1049304124,-1,1049304004,1049304975,1049304976,1049304977,1049304978,1049305709,1049305712,1049305714,1049305716,1049300228);
    //roundtable warp
    WaitFixedTimeSeconds(6);
    WarpPlayer(11, 10, 0, 0, 11102021, 0)
});

$Event(1036542810, Restart, function() {
    if (EventFlag(1036540800)) {
        DisableCharacter(1036540800);
        DisableCharacterCollision(1036540800);
        ForceCharacterDeath(1036540800, false);
        EndEvent();
    }
L0:
    DisableCharacterAI(1036540800);
    DisableCharacter(1036540800);
    WaitFor(InArea(10000, 1036542800));
    EnableCharacter(1036540800);
    ForceAnimationPlayback(1036540800, 20016, false, true, false);
    EnableCharacterAI(1036540800);
    SetNetworkUpdateRate(1036540800, true, CharacterUpdateFrequency.AlwaysUpdate);
    SetNetworkconnectedEventFlagID(1036540801, ON);
});

$Event(1036542849, Restart, function() {
    InitializeCommonEvent(0, 9005822, 1036540800, 90003101, 0, 0, 0, 0, 0, 0);
});
