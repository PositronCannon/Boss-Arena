// ==EMEVD==
// @docs    er-common.emedf.json
// @compress    DCX_KRAK
// @game    Sekiro
// @string    "N:\\GR\\data\\Param\\event\\common_func.emevd\u0000N:\\GR\\data\\Param\\event\\common_macro.emevd\u0000\u0000\u0000\u0000\u0000\u0000"
// @linked    [0,82]
// @version    3.4.2
// ==/EMEVD==

$Event(0, Default, function() {
    
    RegisterBonfire(71211, 12011951, 0, 0, 0, 5);
    RegisterBonfire(71212, 12011952, 0, 0, 0, 5);
    RegisterBonfire(71213, 12011953, 0, 0, 0, 5);
    RegisterBonfire(71214, 12011954, 0, 0, 0, 5);
    RegisterBonfire(71215, 12011955, 0, 0, 0, 5);
    RegisterBonfire(71216, 12011956, 0, 0, 0, 5);
    RegisterBonfire(71217, 12011957, 0, 0, 0, 5);
    RegisterBonfire(71218, 12011958, 0, 0, 0, 5);
    RegisterBonfire(71219, 12011959, 0, 0, 0, 5);
    InitializeCommonEvent(0, 9005810, 12010800, 71210, 12010950, 12011950, 1084227584);
    InitializeCommonEvent(0, 90005620, 12010570, 12011570, 12011571, 0, 12012570, 12012571, 12012572);
    InitializeEvent(0, 12012569, 12010570, 12011573);
    InitializeEvent(1, 12012569, 12010570, 12011575);
    InitializeCommonEvent(0, 90005251, 12010201, 1092616192, 0, -1);
    InitializeCommonEvent(0, 90005251, 12010202, 1092616192, 0, -1);
    InitializeCommonEvent(0, 90005251, 12010204, 1092616192, 0, -1);
    InitializeCommonEvent(0, 90005251, 12010207, 1092616192, 0, -1);
    InitializeCommonEvent(0, 90005251, 12010214, 1109393408, 0, -1);
    InitializeCommonEvent(0, 90005201, 12010203, 30001, 20001, 1096810496, 1056964608, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005201, 12010205, 30001, 20001, 1092616192, 1073741824, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005250, 12010210, 12012200, 1056964608, -1);
    InitializeCommonEvent(0, 90005200, 12010211, 30009, 20022, 12012211, 0, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005200, 12010212, 30009, 20022, 12012211, 1092616192, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005251, 12010216, 1077936128, 0, -1);
    InitializeCommonEvent(0, 90005201, 12010222, 30001, 20001, 1090519040, 0, 1, 0, 0, 0);
    InitializeCommonEvent(0, 90005300, 12010240, 12010240, 12010105, 1080033280, 0);
    InitializeEvent(0, 12012220, 12010231);
    InitializeEvent(1, 12012220, 12010232);
    InitializeEvent(2, 12012220, 12010233);
    InitializeEvent(3, 12012220, 12010234);
    InitializeEvent(4, 12012220, 12010235);
    InitializeEvent(5, 12012220, 12010236);
    InitializeEvent(6, 12012220, 12010237);
    InitializeEvent(7, 12012220, 12010240);
    InitializeEvent(0, 12012231, 12010231, 0);
    InitializeEvent(1, 12012231, 12010232, 1077936128);
    InitializeEvent(2, 12012231, 12010233, 1086324736);
    InitializeEvent(3, 12012231, 12010234, 1091567616);
    InitializeEvent(4, 12012231, 12010235, 1094713344);
    InitializeEvent(5, 12012231, 12010236, 1094713344);
    InitializeEvent(6, 12012231, 12010237, 1098907648);
    InitializeCommonEvent(0, 90005261, 12010245, 12012245, 1106247680, 0, -1);
    InitializeCommonEvent(0, 90005250, 12010246, 12012246, 1065353216, -1);
    InitializeEvent(0, 12012239, 0);
    InitializeEvent(0, 12012249, 0);
    InitializeEvent(0, 12012240, 0);
    InitializeEvent(0, 12012256, 0);
    InitializeEvent(0, 12012257, 0);
    InitializeEvent(0, 12012288, 12010298, 12010248, 12022298);
    InitializeEvent(1, 12012288, 12010299, 12010249, 12022299);
    InitializeCommonEvent(0, 90005261, 12010251, 12012251, 1092616192, 0, -1);
    InitializeCommonEvent(0, 90005250, 12010260, 12012260, 1056964608, 3006);
    InitializeCommonEvent(0, 90005250, 12010263, 12012260, 0, -1);
    InitializeCommonEvent(0, 90005250, 12010264, 12012260, 0, -1);
    InitializeCommonEvent(0, 90005251, 12010276, 1103626240, 0, -1);
    InitializeCommonEvent(0, 90005261, 12015280, 12012280, 1092616192, 0, -1);
    InitializeCommonEvent(0, 90005200, 12010288, 30000, 20000, 12012288, 0, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005200, 12010289, 30000, 20000, 12012289, 0, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005200, 12010290, 30000, 20000, 12012290, 0, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005200, 12010291, 30000, 20000, 12012290, 0, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005200, 12010292, 30000, 20000, 12012290, 0, 0, 0, 0, 0);
    InitializeEvent(0, 12012301, 0);
    InitializeCommonEvent(0, 90005251, 12010305, 1084227584, 0, -1);
    InitializeCommonEvent(0, 90005200, 12010320, 30001, 20001, 12012320, 1086324736, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005200, 12010330, 30000, 20000, 12012330, 0, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005200, 12010331, 30000, 20000, 12012330, 1056964608, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005200, 12010332, 30000, 20000, 12012330, 1061997773, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005200, 12010333, 30000, 20000, 12012330, 1067030938, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005200, 12010334, 30000, 20000, 12012330, 1067030938, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005200, 12010335, 30000, 20000, 12012330, 1069547520, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005860, 12010850, 0, 12010850, 1, 30600, 0);
    InitializeCommonEvent(0, 90005870, 12010850, 904650601, 25);
    InitializeCommonEvent(0, 90005201, 12010850, 30000, 20000, 1101004800, 0, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005251, 12010850, 1101004800, 0, -1);
    InitializeCommonEvent(0, 90005251, 12010373, 1094713344, 0, -1);
    InitializeCommonEvent(0, 90005251, 12010375, 1099956224, 0, -1);
    InitializeCommonEvent(0, 90005250, 12010377, 12012377, 0, 3000);
    InitializeCommonEvent(0, 90005250, 12010378, 12012377, 1073741824, 3001);
    InitializeCommonEvent(0, 90005250, 12010379, 12012377, 1073741824, 3001);
    InitializeCommonEvent(0, 90005211, 12010400, 30005, 20005, 12012400, 1106247680, 0, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005300, 12010400, 12010400, 0, 1080033280, 0);
    InitializeCommonEvent(0, 90005300, 12010401, 12010401, 12015995, 1080033280, 0);
    InitializeCommonEvent(0, 90005300, 12010403, 12010403, 40600, 1069547520, 0);
    InitializeCommonEvent(0, 90005300, 12010404, 12010404, 40602, 1069547520, 0);
    InitializeCommonEvent(0, 90005300, 12010420, 12010420, 12015997, 1080033280, 0);
    InitializeCommonEvent(0, 90005201, 12010420, 30002, 20002, 1097859072, 0, 0, 0, 0, 0);
    InitializeEvent(0, 12012421, 0);
    InitializeCommonEvent(0, 90005300, 12010421, 12010421, 0, 1069547520, 0);
    InitializeCommonEvent(0, 90005200, 12010415, 30005, 20005, 12012410, 1067869798, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005200, 12010416, 30005, 20005, 12012410, 1061997773, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005200, 12010417, 30005, 20005, 12012410, 1065353216, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005200, 12010418, 30005, 20005, 12012410, 1058642330, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005200, 12010419, 30005, 20005, 12012410, 1056964608, 0, 0, 0, 0);
    InitializeEvent(0, 12012800, 0);
    InitializeEvent(0, 12012810, 0);
    InitializeEvent(0, 12012849, 0);
    InitializeEvent(0, 12012820, 0);
    InitializeEvent(0, 12012830, 0);
    InitializeEvent(0, 12012811, 0);
    InitializeEvent(0, 12012812, 0);
    InitializeCommonEvent(0, 90005501, 12010510, 12010511, 2, 12011510, 12011511, 12011512, 12010512);
    InitializeCommonEvent(0, 90005501, 12010515, 12010516, 3, 12011515, 12011516, 12011517, 12010517);
    InitializeCommonEvent(0, 90005501, 12010520, 12010521, 6, 12011520, 12011521, 12011522, 12010522);
    InitializeCommonEvent(0, 90005501, 12010525, 12010526, 9, 12011525, 12011526, 12011527, 12010527);
    InitializeEvent(0, 12010509, 0);
    InitializeEvent(0, 12012506, 0);
    InitializeEvent(0, 12012507, 0);
    InitializeEvent(0, 12012530, 0);
    InitializeEvent(0, 12012590, 0);
    InitializeEvent(0, 12012591, 0);
    InitializeEvent(0, 12012593, 0);
    InitializeEvent(0, 12012594, 0);
    InitializeEvent(0, 12012595, 0);
    InitializeEvent(0, 12012580, 12010590, 105, 12012580, 1101004800, 1120403456);
    InitializeEvent(1, 12012581, 12010591, 105, 12012581, 1120403456, 1137180672);
    InitializeEvent(2, 12012582, 12010593, 105, 12012583, 1120403456, 1137180672);
    InitializeEvent(3, 12012583, 12010594, 105, 12012584, 1120403456, 1137180672);
    InitializeEvent(4, 12012584, 12010595, 105, 12012585, 1108082688, 1125515264);
    InitializeEvent(0, 12010700, 0);
    InitializeEvent(0, 12010701, 0);
    InitializeEvent(0, 12010702, 0);
    InitializeEvent(0, 12010705, 0);
    InitializeEvent(0, 12010706, 0);
    InitializeEvent(0, 12010707, 0);
    InitializeEvent(0, 12010708, 0);
    InitializeCommonEvent(0, 90005750, 12011710, 4350, 103940, 400394, 400394, 1034509430, 0);
    InitializeCommonEvent(0, 90005726, 4805, 4806, 4808, 1035469205, 12010705, 12016700);
    InitializeCommonEvent(0, 90005703, 12010705, 4806, 4807, 12019006, 4806, 4805, 4809, 0);
    InitializeCommonEvent(0, 90005704, 12010705, 4806, 4805, 12019006, 3);
    InitializeCommonEvent(0, 90005702, 12010705, 4808, 4805, 4809);
});

$Event(50, Default, function() {
    InitializeEvent(0, 12010519, 0);
    InitializeEvent(0, 12012050, 0);
    SetCharacterBackreadState(12010715, true);
    SetCharacterBackreadState(12010720, true);
});

$Event(12010700, Restart, function() {
    EndIf(!PlayerIsInOwnWorld());
    WaitFor(
        EntityInRadiusOfEntity(10000, 12010711, 3, 1)
            || EntityInRadiusOfEntity(10000, 12010712, 3, 1)
            || EntityInRadiusOfEntity(10000, 12010713, 3, 1));
    SetEventFlagID(12012710, ON);
    WaitFor(
        !EntityInRadiusOfEntity(10000, 12010711, 3, 1)
            && !EntityInRadiusOfEntity(10000, 12010712, 3, 1)
            && !EntityInRadiusOfEntity(10000, 12010713, 3, 1));
    SetEventFlagID(12012710, OFF);
    RestartEvent();
});

$Event(12010701, Restart, function() {
    EndIf(!PlayerIsInOwnWorld());
    WaitFor(
        EntityInRadiusOfEntity(10000, 12010712, 3, 1)
            || EntityInRadiusOfEntity(10000, 12010713, 3, 1));
    SetEventFlagID(12012711, ON);
    WaitFor(
        !EntityInRadiusOfEntity(10000, 12010712, 3, 1)
            && !EntityInRadiusOfEntity(10000, 12010713, 3, 1));
    SetEventFlagID(12012711, OFF);
    RestartEvent();
});

$Event(12010702, Restart, function() {
    EndIf(!PlayerIsInOwnWorld());
    WaitFor(EntityInRadiusOfEntity(10000, 12010713, 3, 1));
    SetEventFlagID(12012712, ON);
    WaitFor(!EntityInRadiusOfEntity(10000, 12010713, 3, 1));
    SetEventFlagID(12012712, OFF);
    RestartEvent();
});

$Event(12010705, Restart, function() {
    SetCharacterBackreadState(12010715, true);
    if (!EventFlag(12012715)) {
        if (EventFlag(12019280)) {
            ForceCharacterDeath(12010715, false);
            EndEvent();
        }
        WaitFor(
            EventFlag(12019257)
                && PlayerIsInOwnWorld()
                && EntityInRadiusOfEntity(20000, 12010715, 53, 1));
    }
L0:
    if (PlayerIsInOwnWorld()) {
        SetEventFlagID(12012715, ON);
    }
    SetCharacterBackreadState(12010715, false);
    EnableCharacter(12010715);
    WaitFixedTimeFrames(1);
    ForceAnimationPlayback(12010715, 20039, false, false, false);
    EndEvent();
});

$Event(12010706, Restart, function() {
    EndIf(!PlayerIsInOwnWorld());
    EndIf(EventFlag(12019280));
    WaitFor(CharacterDead(12010715) || CharacterHPValue(12010715) <= 0);
    SetEventFlagID(12019280, ON);
    SetEventFlagID(12012716, ON);
    EndEvent();
});

$Event(12010707, Restart, function() {
    EndIf(!PlayerIsInOwnWorld());
    EndIf(EventFlag(12019280));
    EndIf(EventFlag(12019271));
    SetEventFlagID(12019270, OFF);
    WaitFor(EventFlag(12012715) && EntityInRadiusOfEntity(20000, 12010715, 25, 1));
    SetCharacterTalkRange(12010714, 100);
    SetEventFlagID(12019270, ON);
    WaitFor(ElapsedSeconds(30) || EventFlag(12019280));
    if (!EventFlag(12019280)) {
        SetCharacterTalkRange(12010714, 17);
    }
    EndEvent();
});

$Event(12010708, Restart, function() {
    EndIf(!PlayerIsInOwnWorld());
    EndIf(EventFlag(12019280));
    EndIf(EventFlag(12019273));
    SetEventFlagID(12019272, OFF);
    WaitFor(EventFlag(12019280));
    WarpCharacterAndCopyFloor(12010714, TargetEntityType.Character, 20000, 11, 20000);
    SetCharacterTalkRange(12010714, 100);
    SetEventFlagID(12019272, ON);
    WaitFor(ElapsedSeconds(30));
    SetCharacterTalkRange(12010714, 17);
    EndEvent();
});

$Event(12012050, Restart, function() {
    EndIf(ThisEventSlot());
    SetSpEffect(12010340, 90010);
    SetSpEffect(12010850, 90010);
    SetSpEffect(12010420, 90010);
    SetSpEffect(12010245, 5490);
    WaitFor(PlayerInMap(12, 1, 0, 0));
    DisableAsset(12015650);
});

$Event(12012569, Default, function(X0_4, X4_4) {
    if (EventFlag(X0_4)) {
        DisableAsset(X4_4);
        EndEvent();
    }
L0:
    CreateAssetfollowingSFX(X4_4, 101, 806043);
    WaitFor(PlayerIsInOwnWorld() && EventFlag(X0_4));
    DeleteAssetfollowingSFX(X4_4, true);
    PlaySE(X4_4, SoundType.SFX, 90011);
    WaitFixedTimeSeconds(0.5);
    DisableAsset(X4_4);
});

$Event(12012580, Restart, function(X0_4, X4_4, X8_4, X12_4, X16_4) {
    EndIf(EventFlag(X0_4));
    WaitFor(EventFlag(X0_4));
    WaitFixedTimeSeconds(1);
    SetCameraVibration(103, TargetEntityType.Area, X8_4, -1, X12_4, X16_4);
    WaitFixedTimeSeconds(0.7);
    SetCameraVibration(105, TargetEntityType.Area, X8_4, -1, X12_4, X16_4);
    WaitFixedTimeSeconds(1);
    SetCameraVibration(106, TargetEntityType.Area, X8_4, -1, X12_4, X16_4);
    WaitFixedTimeSeconds(0.9);
    SetCameraVibration(105, TargetEntityType.Area, X8_4, -1, X12_4, X16_4);
    WaitFixedTimeSeconds(0.9);
    SetCameraVibration(X4_4, TargetEntityType.Area, X8_4, -1, X12_4, X16_4);
    WaitFixedTimeSeconds(0.9);
    SetCameraVibration(105, TargetEntityType.Area, X8_4, -1, X12_4, X16_4);
    WaitFixedTimeSeconds(0.8);
    SetCameraVibration(105, TargetEntityType.Area, X8_4, -1, X12_4, X16_4);
    WaitFixedTimeSeconds(0.5);
    SetCameraVibration(102, TargetEntityType.Area, X8_4, -1, X12_4, X16_4);
});

$Event(12012581, Restart, function(X0_4, X4_4, X8_4, X12_4, X16_4) {
    EndIf(EventFlag(X0_4));
    WaitFor(EventFlag(X0_4));
    WaitFixedTimeSeconds(1);
    SetCameraVibration(103, TargetEntityType.Area, X8_4, -1, X12_4, X16_4);
    WaitFixedTimeSeconds(1);
    SetCameraVibration(105, TargetEntityType.Area, X8_4, -1, X12_4, X16_4);
    WaitFixedTimeSeconds(0.8);
    SetCameraVibration(X4_4, TargetEntityType.Area, X8_4, -1, X12_4, X16_4);
    WaitFixedTimeSeconds(0.6);
    SetCameraVibration(105, TargetEntityType.Area, X8_4, -1, X12_4, X16_4);
    WaitFixedTimeSeconds(0.8);
    SetCameraVibration(105, TargetEntityType.Area, X8_4, -1, X12_4, X16_4);
    WaitFixedTimeSeconds(1.2);
    SetCameraVibration(105, TargetEntityType.Area, X8_4, -1, X12_4, X16_4);
    WaitFixedTimeSeconds(1.5);
    SetCameraVibration(105, TargetEntityType.Area, X8_4, -1, X12_4, X16_4);
});

$Event(12012582, Restart, function(X0_4, X4_4, X8_4, X12_4, X16_4) {
    EndIf(EventFlag(X0_4));
    WaitFor(EventFlag(X0_4));
    WaitFixedTimeSeconds(1);
    SetCameraVibration(103, TargetEntityType.Area, X8_4, -1, X12_4, X16_4);
    WaitFixedTimeSeconds(1);
    SetCameraVibration(105, TargetEntityType.Area, X8_4, -1, X12_4, X16_4);
    WaitFixedTimeSeconds(1.2);
    SetCameraVibration(105, TargetEntityType.Area, X8_4, -1, X12_4, X16_4);
    WaitFixedTimeSeconds(1.2);
    SetCameraVibration(X4_4, TargetEntityType.Area, X8_4, -1, X12_4, X16_4);
    WaitFixedTimeSeconds(0.5);
    SetCameraVibration(106, TargetEntityType.Area, X8_4, -1, X12_4, X16_4);
    WaitFixedTimeSeconds(1.5);
    SetCameraVibration(105, TargetEntityType.Area, X8_4, -1, X12_4, X16_4);
    WaitFixedTimeSeconds(1.5);
    SetCameraVibration(102, TargetEntityType.Area, X8_4, -1, X12_4, X16_4);
});

$Event(12012583, Restart, function(X0_4, X4_4, X8_4, X12_4, X16_4) {
    EndIf(EventFlag(X0_4));
    WaitFor(EventFlag(X0_4));
    WaitFixedTimeSeconds(1);
    SetCameraVibration(103, TargetEntityType.Area, X8_4, -1, X12_4, X16_4);
    WaitFixedTimeSeconds(0.5);
    SetCameraVibration(105, TargetEntityType.Area, X8_4, -1, X12_4, X16_4);
    WaitFixedTimeSeconds(0.5);
    SetCameraVibration(X4_4, TargetEntityType.Area, X8_4, -1, X12_4, X16_4);
    WaitFixedTimeSeconds(0.5);
    SetCameraVibration(105, TargetEntityType.Area, X8_4, -1, X12_4, X16_4);
    WaitFixedTimeSeconds(1);
    SetCameraVibration(105, TargetEntityType.Area, X8_4, -1, X12_4, X16_4);
    WaitFixedTimeSeconds(1);
    SetCameraVibration(102, TargetEntityType.Area, X8_4, -1, X12_4, X16_4);
    WaitFixedTimeSeconds(0.8);
    SetCameraVibration(102, TargetEntityType.Area, X8_4, -1, X12_4, X16_4);
    WaitFixedTimeSeconds(1.2);
    SetCameraVibration(103, TargetEntityType.Area, X8_4, -1, X12_4, X16_4);
    WaitFixedTimeSeconds(0.5);
    SetCameraVibration(102, TargetEntityType.Area, X8_4, -1, X12_4, X16_4);
});

$Event(12012584, Restart, function(X0_4, X4_4, X8_4, X12_4, X16_4) {
    EndIf(EventFlag(X0_4));
    WaitFor(EventFlag(X0_4));
    WaitFixedTimeSeconds(1);
    SetCameraVibration(105, TargetEntityType.Area, X8_4, -1, X12_4, X16_4);
    WaitFixedTimeSeconds(0.5);
    SetCameraVibration(102, TargetEntityType.Area, X8_4, -1, X12_4, X16_4);
    WaitFixedTimeSeconds(0.8);
    SetCameraVibration(105, TargetEntityType.Area, X8_4, -1, X12_4, X16_4);
    WaitFixedTimeSeconds(0.8);
    SetCameraVibration(105, TargetEntityType.Area, X8_4, -1, X12_4, X16_4);
    WaitFixedTimeSeconds(1);
    SetCameraVibration(X4_4, TargetEntityType.Area, X8_4, -1, X12_4, X16_4);
    WaitFixedTimeSeconds(1);
    SetCameraVibration(105, TargetEntityType.Area, X8_4, -1, X12_4, X16_4);
    WaitFixedTimeSeconds(1.3);
    SetCameraVibration(105, TargetEntityType.Area, X8_4, -1, X12_4, X16_4);
});

$Event(12012590, Restart, function() {
    if (EventFlag(12010590)) {
        ReproduceAssetAnimation(12011590, 2);
        ReproduceAssetAnimation(12011596, 2);
        EndEvent();
    }
L0:
    ReproduceAssetAnimation(12011590, 1);
    ReproduceAssetAnimation(12011596, 0);
    WaitFor(PlayerIsInOwnWorld() && !EventFlag(12010590) && InArea(10000, 12012590));
    SetNetworkconnectedEventFlagID(12010590, ON);
    ForceAnimationPlayback(12011596, 1, false, true, false);
    WaitFixedTimeSeconds(1);
    ForceAnimationPlayback(12011590, 0, false, false, false);
    EndEvent();
});

$Event(12012591, Restart, function() {
    if (EventFlag(12010591)) {
        ReproduceAssetAnimation(12011591, 2);
        ReproduceAssetAnimation(12011592, 2);
        ReproduceAssetAnimation(12011597, 2);
        EnableHit(12014594);
        EndEvent();
    }
L0:
    ReproduceAssetAnimation(12011591, 1);
    ReproduceAssetAnimation(12011592, 1);
    ReproduceAssetAnimation(12011597, 0);
    DisableHit(12014594);
    WaitFor(PlayerIsInOwnWorld() && !EventFlag(12010591) && InArea(10000, 12012591));
    SetNetworkconnectedEventFlagID(12010591, ON);
    SetCameraVibration(107, TargetEntityType.Area, 12012581, -1, 50, 100);
    ForceAnimationPlayback(12011597, 1, false, true, false);
    WaitFixedTimeSeconds(1);
    ForceAnimationPlayback(12011591, 0, false, false, false);
    ForceAnimationPlayback(12011592, 0, false, false, false);
    EnableHit(12014594);
    EndEvent();
});

$Event(12012593, Restart, function() {
    if (EventFlag(12010593)) {
        ReproduceAssetAnimation(12011593, 2);
        ReproduceAssetAnimation(12011598, 2);
        EndEvent();
    }
L0:
    ReproduceAssetAnimation(12011593, 1);
    ReproduceAssetAnimation(12011598, 0);
    DisableAsset(12011699);
    DisableAssetTreasure(12011699);
    WaitFor(PlayerIsInOwnWorld() && !EventFlag(12010593) && InArea(10000, 12012593));
    SetNetworkconnectedEventFlagID(12010593, ON);
    ForceAnimationPlayback(12011598, 1, false, true, false);
    WaitFixedTimeSeconds(1);
    ForceAnimationPlayback(12011593, 0, false, true, false);
    EnableAsset(12011699);
    EnableAssetTreasure(12011699);
    EndEvent();
});

$Event(12012594, Restart, function() {
    if (EventFlag(12010594)) {
        ReproduceAssetAnimation(12011594, 2);
        EndEvent();
    }
L0:
    ReproduceAssetAnimation(12011594, 1);
    DisableHit(12014591);
    WaitFor(PlayerIsInOwnWorld() && !EventFlag(12010594) && InArea(10000, 12012594));
    SetNetworkconnectedEventFlagID(12010594, ON);
    ForceAnimationPlayback(12011594, 0, false, false, false);
    EnableHit(12014591);
    EndEvent();
});

$Event(12012595, Restart, function() {
    if (EventFlag(12010595)) {
        ReproduceAssetAnimation(12011595, 2);
        ReproduceAssetAnimation(12011599, 2);
        EndEvent();
    }
L0:
    ReproduceAssetAnimation(12011595, 1);
    ReproduceAssetAnimation(12011599, 0);
    WaitFor(PlayerIsInOwnWorld() && !EventFlag(12010595) && InArea(10000, 12012595));
    SetNetworkconnectedEventFlagID(12010595, ON);
    ForceAnimationPlayback(12011599, 1, false, false, false);
    WaitFixedTimeSeconds(1);
    ForceAnimationPlayback(12011595, 0, false, false, false);
    EndEvent();
});

$Event(12012421, Restart, function() {
    EndIf(SpecialStandbyEndedFlag(12010421));
    DisableCharacter(12010421);
    DisableHit(12014421);
    chrSp = (CharacterType(10000, TargetType.BlackPhantom) && CharacterHasSpEffect(10000, 3710))
        || CharacterType(10000, TargetType.Alive)
        || CharacterType(10000, TargetType.BluePhantom)
        || CharacterType(10000, TargetType.WhitePhantom);
    sp = CharacterHasSpEffect(12010421, 481)
        && !CharacterHasSpEffect(12010421, 90100)
        && !CharacterHasSpEffect(12010421, 90110)
        && !CharacterHasSpEffect(12010421, 90160);
    sp2 = CharacterHasSpEffect(12010421, 482)
        && !CharacterHasSpEffect(12010421, 90100)
        && !CharacterHasSpEffect(12010421, 90120)
        && !CharacterHasSpEffect(12010421, 90160)
        && !CharacterHasSpEffect(12010421, 90162);
    sp3 = CharacterHasSpEffect(12010421, 483)
        && !CharacterHasSpEffect(12010421, 90100)
        && !CharacterHasSpEffect(12010421, 90140)
        && !CharacterHasSpEffect(12010421, 90160)
        && !CharacterHasSpEffect(12010421, 90161);
    sp4 = CharacterHasSpEffect(12010421, 484)
        && !CharacterHasSpEffect(12010421, 90100)
        && !CharacterHasSpEffect(12010421, 90130)
        && !CharacterHasSpEffect(12010421, 90161)
        && !CharacterHasSpEffect(12010421, 90162);
    sp5 = CharacterHasSpEffect(12010421, 487)
        && !CharacterHasSpEffect(12010421, 90100)
        && !CharacterHasSpEffect(12010421, 90150)
        && !CharacterHasSpEffect(12010421, 90160);
    areaFlagChrSp = InArea(10000, 12012421)
        && EventFlag(12010591)
        && EventFlag(12010593)
        && EventFlag(12010594)
        && chrSp;
    WaitFor(
        areaFlagChrSp
            || HasDamageType(12010421, 0, DamageType.Unspecified)
            || CharacterHasStateInfo(12010421, 2)
            || CharacterHasStateInfo(12010421, 5)
            || CharacterHasStateInfo(12010421, 6)
            || CharacterHasStateInfo(12010421, 260)
            || CharacterHasStateInfo(12010421, 436)
            || sp
            || sp2
            || sp3
            || sp4
            || sp5);
    WaitFixedTimeSeconds(0.1);
    SetNetworkconnectedThisEventSlot(ON);
    SetSpecialStandbyEndedFlag(12010421, ON);
    EnableCharacter(12010421);
    EndEvent();
});

$Event(12012220, Restart, function(X0_4) {
    EndIf(ThisEventSlot());
    SetThisEventSlot(OFF);
    WaitFor(
        HasDamageType(X0_4, 0, DamageType.Unspecified)
            || CharacterHasStateInfo(X0_4, 436)
            || CharacterHasStateInfo(X0_4, 2)
            || CharacterHasStateInfo(X0_4, 5)
            || CharacterHasStateInfo(X0_4, 6)
            || CharacterHasStateInfo(X0_4, 260)
            || (CharacterHasSpEffect(X0_4, 481)
                && !CharacterHasSpEffect(X0_4, 90100)
                && !CharacterHasSpEffect(X0_4, 90110)
                && !CharacterHasSpEffect(X0_4, 90160))
            || (CharacterHasSpEffect(X0_4, 482)
                && !CharacterHasSpEffect(X0_4, 90100)
                && !CharacterHasSpEffect(X0_4, 90120)
                && !CharacterHasSpEffect(X0_4, 90160)
                && !CharacterHasSpEffect(X0_4, 90162))
            || (CharacterHasSpEffect(X0_4, 483)
                && !CharacterHasSpEffect(X0_4, 90100)
                && !CharacterHasSpEffect(X0_4, 90140)
                && !CharacterHasSpEffect(X0_4, 90160)
                && !CharacterHasSpEffect(X0_4, 90161))
            || (CharacterHasSpEffect(X0_4, 484)
                && !CharacterHasSpEffect(X0_4, 90100)
                && !CharacterHasSpEffect(X0_4, 90130)
                && !CharacterHasSpEffect(X0_4, 90161)
                && !CharacterHasSpEffect(X0_4, 90162))
            || (CharacterHasSpEffect(X0_4, 487)
                && !CharacterHasSpEffect(X0_4, 90100)
                && !CharacterHasSpEffect(X0_4, 90150)
                && !CharacterHasSpEffect(X0_4, 90160)));
    SetEventFlagID(12012230, ON);
});

$Event(12012231, Restart, function(X0_4, X4_4) {
    EndIf(SpecialStandbyEndedFlag(X0_4));
    DisableCharacterGravity(X0_4);
    SetSpEffect(X0_4, 2900);
    ForceAnimationPlayback(X0_4, 30001, true, false, false);
    WaitFor(HasDamageType(X0_4, 0, DamageType.Unspecified) || EventFlag(12012230));
    WaitFixedTimeSeconds(0.1);
    SetNetworkconnectedThisEventSlot(ON);
    SetSpecialStandbyEndedFlag(X0_4, ON);
    if (!(!CharacterHasSpEffect(X0_4, 5080) && !CharacterHasSpEffect(X0_4, 5450))) {
        WaitFixedTimeSeconds(X4_4);
        EnableCharacterGravity(X0_4);
        ForceAnimationPlayback(X0_4, 20001, true, false, false);
        EndEvent();
    }
L0:
    EnableCharacterGravity(X0_4);
    EndEvent();
});

$Event(12012249, Restart, function() {
    if (EventFlag(12012247) || EventFlag(12012249)) {
        ForceAnimationPlayback(12010247, 20003, false, false, false);
        EndEvent();
    }
L0:
    DisableCharacterAI(12010247);
    WaitFor(
        (HasDamageType(12010247, 0, DamageType.Unspecified)
            || CharacterHasStateInfo(12010247, 436)
            || CharacterHasStateInfo(12010247, 2)
            || CharacterHasStateInfo(12010247, 5)
            || CharacterHasStateInfo(12010247, 6)
            || CharacterHasStateInfo(12010247, 260))
            && !EventFlag(12012247));
    SetNetworkconnectedEventFlagID(12012249, ON);
    EnableCharacterAI(12010247);
});

$Event(12012239, Restart, function() {
    WaitFor(InArea(12010245, 12012239));
    SetSpEffect(12010245, 16318);
    WaitFixedTimeSeconds(1);
    WaitFor(!InArea(12010245, 12012239));
    SetSpEffect(12010245, 16319);
    WaitFixedTimeSeconds(1);
    RestartEvent();
});

$Event(12012240, Restart, function() {
    EndIf(EventFlag(12012249));
    EndIf(EventFlag(12012247));
    WaitFor(InArea(10000, 12012247) && !EventFlag(12012249));
    WaitFixedTimeSeconds(1);
    if (!EventFlag(12012240)) {
        InvokeEnemyGenerator(12013240);
        SetNetworkconnectedEventFlagID(12012240, ON);
        WaitFixedTimeSeconds(3);
        DisableGenerator(12013240);
    } else {
L0:
        if (!EventFlag(12012241)) {
            InvokeEnemyGenerator(12013241);
            SetNetworkconnectedEventFlagID(12012241, ON);
            WaitFixedTimeSeconds(8);
            DisableGenerator(12013241);
        } else {
L1:
            if (!EventFlag(12012242)) {
                InvokeEnemyGenerator(12013242);
                SetNetworkconnectedEventFlagID(12012242, ON);
                WaitFixedTimeSeconds(5);
                DisableGenerator(12013242);
            } else {
L2:
                if (!EventFlag(12012243)) {
                    InvokeEnemyGenerator(12013243);
                    SetNetworkconnectedEventFlagID(12012243, ON);
                    WaitFixedTimeSeconds(5);
                    DisableGenerator(12013243);
                } else {
L3:
                    if (!EventFlag(12012244)) {
                        InvokeEnemyGenerator(12013244);
                        SetNetworkconnectedEventFlagID(12012244, ON);
                        WaitFixedTimeSeconds(8);
                        DisableGenerator(12013244);
                    } else {
L4:
                        if (!EventFlag(12012245)) {
                            InvokeEnemyGenerator(12013245);
                            SetNetworkconnectedEventFlagID(12012245, ON);
                            WaitFixedTimeSeconds(8);
                            DisableGenerator(12013245);
                        } else {
L5:
                            if (!EventFlag(12012246)) {
                                InvokeEnemyGenerator(12013246);
                                SetNetworkconnectedEventFlagID(12012246, ON);
                                WaitFixedTimeSeconds(3);
                                DisableGenerator(12013246);
                            } else {
L6:
                                GotoIf(L1, EventFlag(12012247));
                                InvokeEnemyGenerator(12013247);
                                EnableCharacterAI(12010247);
                                ForceAnimationPlayback(12010247, 20003, false, false, false);
                                SetNetworkconnectedEventFlagID(12012247, ON);
                                DisableGenerator(12013247);
                                EndEvent();
                            }
                        }
                    }
                }
            }
        }
    }
L10:
    RestartEvent();
});

$Event(12012256, Restart, function() {
    if (EventFlag(12012256) && !EventFlag(12012257)) {
        ReproduceAssetAnimation(12011256, 0);
        ForceAnimationPlayback(12010256, 20003, false, false, false);
        EndEvent();
    }
L0:
    if (EventFlag(12012256) && EventFlag(12012257)) {
        ReproduceAssetAnimation(12011256, 2);
        EndEvent();
    }
L1:
    ReproduceAssetAnimation(12011256, 2);
    DisableCharacterAI(12010256);
    WaitFor(PlayerIsInOwnWorld() && InArea(10000, 12012256) && !CharacterDead(12010256));
    SetNetworkconnectedEventFlagID(12012256, ON);
    ForceAnimationPlayback(12011256, 3, false, false, false);
    ForceAnimationPlayback(12010256, 20003, false, false, false);
    EnableCharacterAI(12010256);
});

$Event(12012257, Restart, function() {
    EndIf(EventFlag(12012257));
    WaitFor(EventFlag(12012256) && (CharacterDead(12010256) || !InArea(10000, 12012257)));
    SetNetworkconnectedEventFlagID(12012257, ON);
    ForceAnimationPlayback(12011256, 1, false, false, false);
});

$Event(12012288, Restart, function(X0_4, X4_4, X8_4) {
    if (CharacterDead(X4_4)) {
        DisableCharacter(X0_4);
    }
    if (ThisEventSlot() && !PlayerIsInOwnWorld()) {
        DisableCharacter(X0_4);
        DisableCharacterCollision(X0_4);
        EndEvent();
    }
L0:
    if (PlayerIsInOwnWorld()) {
        SetThisEventSlot(OFF);
    }
    DisableCharacter(X4_4);
    DisableCharacterCollision(X4_4);
    WaitFor(CharacterHasSpEffect(X0_4, 16307));
    EnableCharacter(X4_4);
    EnableCharacterCollision(X4_4);
    SetCharacterHome(X4_4, X8_4);
    DisableCharacterCollision(X0_4);
    WaitFixedTimeFrames(5);
    WarpCharacterAndCopyFloor(X4_4, TargetEntityType.Character, X0_4, 900, X0_4);
    ForceAnimationPlayback(X4_4, 63010, false, false, true);
    SetSpEffect(X4_4, 16316);
    WaitFixedTimeSeconds(4.5);
    DisableCharacter(X0_4);
    DisableCharacterCollision(X0_4);
    DisableCharacterAI(X0_4);
    EnableCharacterAI(X4_4);
});

$Event(12012301, Restart, function() {
    if (EventFlag(12012301)) {
        ClearSpEffect(12015301, 8081);
        ClearSpEffect(12015301, 8082);
        EndEvent();
    }
L0:
    SetSpEffect(12015301, 8081);
    SetSpEffect(12015301, 8082);
    WaitFor(InArea(10000, 12012301, 0));
    ClearSpEffect(12015301, 8081);
    ClearSpEffect(12015301, 8082);
    SetNetworkconnectedEventFlagID(12012301, ON);
});

$Event(12012506, Default, function() {
    WaitFor(PlayerIsInOwnWorld() && !EventFlag(12040800) && ActionButtonInArea(9711, 12011506));
    SendInvadingPhantomsHome(0);
    SetEventFlagID(9021, ON);
    if (PlayerIsInOwnWorld()) {
        PlayCutsceneToPlayerAndWarp(12010000, CutscenePlayMode.Skippable, 12042506, 12040000, 10000, 0, false);
        PlayCutsceneToPlayer(12010001, CutscenePlayMode.UnskippableWithFadeOutSkip, 10000);
    } else {
        PlayCutsceneToPlayerAndWarp(12010000, CutscenePlayMode.Skippable, 12042508, 12040000, 10000, 0, false);
        PlayCutsceneToPlayer(12010001, CutscenePlayMode.UnskippableWithFadeOutSkip, 10000);
    }
    WaitFixedTimeRealFrames(1);
    EndEvent();
});

$Event(12012507, Default, function() {
    EndIf(!PlayerIsInOwnWorld());
    WaitFor(PlayerIsInOwnWorld() && EventFlag(12040800) && ActionButtonInArea(9711, 12011506));
    SendAllPhantomsHome();
    WaitFixedTimeSeconds(1);
    SetEventFlagID(9021, ON);
    PlayCutsceneToPlayerAndWarp(12010000, CutscenePlayMode.Skippable, 12042506, 12040000, 10000, 0, false);
    PlayCutsceneToPlayer(12010001, CutscenePlayMode.UnskippableWithFadeOutSkip, 10000);
    EndEvent();
});

$Event(12010509, Default, function() {
    InitializeCommonEvent(0, 90005500, 12010510, 12010511, 2, 12011510, 12011511, 12013511, 12011512, 12013512, 12012511, 12012512, 12010512, 12010513, 0);
    InitializeCommonEvent(0, 90005500, 12010515, 12010516, 3, 12011515, 12011516, 12013516, 12011517, 12013517, 12012516, 12012517, 12010517, 12010518, 0);
    InitializeCommonEvent(0, 90005500, 12010520, 12010521, 6, 12011520, 12011521, 12013521, 12011522, 12013522, 12012521, 12012522, 12010522, 12010523, 0);
    InitializeCommonEvent(0, 90005500, 12010525, 12010526, 9, 12011525, 12011526, 12013526, 12011527, 12013527, 12012526, 12012527, 12010527, 12010528, 0);
});

$Event(12010519, Default, function() {
    EndIf(ThisEventSlot());
    SetEventFlagID(12010510, ON);
    SetEventFlagID(12010515, ON);
    SetEventFlagID(12010520, ON);
    SetEventFlagID(12010525, ON);
});

$Event(12012530, Restart, function() {
    RegisterLadder(12010530, 12010531, 12011530);
    RegisterLadder(12010532, 12010533, 12011532);
});

$Event(12012800, Restart, function() {
    EndIf(EventFlag(12010800));
    WaitFor(CharacterHPValue(12010800) <= 0);
    ForceCharacterDeath(12010801, false);
    ForceCharacterDeath(12010802, false);
    WaitFixedTimeSeconds(4);
    PlaySE(12010800, SoundType.SFX, 888880000);
    WaitFor(CharacterDead(12010800));
    HandleBossDefeatAndDisplayBanner(12010800, TextBannerType.GreatEnemyFelled);
    WaitFixedTimeSeconds(6);
    WarpPlayer(11, 10, 0, 0, 11102021, -11100);
});

$Event(12012810, Restart, function() {
    if (EventFlag(12010800)) {
        DisableCharacter(12010800);
        DisableCharacterCollision(12010800);
        ForceCharacterDeath(12010800, false);
        DisableCharacter(12010801);
        DisableCharacterCollision(12010801);
        ForceCharacterDeath(12010801, false);
        DisableCharacter(12010802);
        DisableCharacterCollision(12010802);
        ForceCharacterDeath(12010802, false);
        EndEvent();
    }
L0:
    DisableCharacterAI(12010801);
    DisableCharacterAI(12010802);
    DisableCharacterHPBarDisplay(12010801);
    DisableCharacterHPBarDisplay(12010802);
    CreateReferredDamagePair(12010801, 12010800);
    CreateReferredDamagePair(12010802, 12010800);
    EnableCharacterImmortality(12010801);
    EnableCharacterImmortality(12010802);
    DisableCharacterGravity(12010800);
    DisableCharacterCollision(12010800);
    DisableCharacter(12010802);
    ForceAnimationPlayback(12010801, 30002, true, false, false);
    if (!EventFlag(12010801)) {
        DisableCharacter(12010800);
        DisableCharacter(12010801);
        WaitFor(
            (PlayerIsInOwnWorld()
                && InArea(10000, 12012801)
                && CharacterBackreadStatus(12010801)
                && ((CharacterType(10000, TargetType.BlackPhantom) && CharacterHasSpEffect(10000, 3710))
                    || CharacterType(10000, TargetType.Alive)
                    || CharacterType(10000, TargetType.GrayPhantom)
                    || CharacterType(10000, TargetType.WhitePhantom)))
                || HasDamageType(12010801, 0, DamageType.Unspecified)
                || CharacterHasStateInfo(12010801, 436)
                || CharacterHasStateInfo(12010801, 2)
                || CharacterHasStateInfo(12010801, 5)
                || CharacterHasStateInfo(12010801, 6)
                || CharacterHasStateInfo(12010801, 260));
        WaitFixedTimeSeconds(0.1);
        EnableCharacter(12010800);
        EnableCharacter(12010801);
        ForceAnimationPlayback(12010801, 20002, false, false, false);
    } else {
L1:
        WaitFor(EventFlag(12012805) && InArea(10000, 12012800));
        ForceAnimationPlayback(12010801, 20002, false, false, false);
    }
L2:
    WaitFixedTimeSeconds(3);
    SetNetworkconnectedEventFlagID(12010840, ON);
    WaitFixedTimeSeconds(2);
    SetNetworkconnectedEventFlagID(12012803, ON);
    WaitFixedTimeSeconds(0.1);
    SetNetworkconnectedEventFlagID(12010801, ON);
    EnableCharacterAI(12010801);
    SetNetworkUpdateRate(12010801, true, CharacterUpdateFrequency.AlwaysUpdate);
    DisplayBossHealthBar(Enabled, 12010800, 0, 904650000);
});

$Event(12012820, Restart, function() {
    EndIf(EventFlag(12010800));
    WaitFor(
        EntityInRadiusOfEntity(12010802, 10000, 50, 1) && CharacterHasSpEffect(12010802, 13208));
    ChangeCamera(-1, 4651);
    WaitFixedTimeFrames(1);
    RestartEvent();
});

$Event(12012830, Restart, function() {
    EndIf(EventFlag(12010800));
    DisableNetworkSync();
    WaitFor(
        EntityInRadiusOfEntity(12010802, 10000, 50, 1) && !CharacterHasSpEffect(12010802, 13208));
    ChangeCamera(-1, 4650);
    WaitFixedTimeFrames(1);
    RestartEvent();
});

$Event(12012811, Restart, function() {
    EndIf(EventFlag(12010800));
    WaitFor(CharacterHasSpEffect(12010801, 13209));
    SetEventFlagID(12012811, ON);
    SetEventFlagID(12012802, ON);
    EnableCharacter(12010802);
    DisableCharacterCollision(12010802);
    EnableCharacterAI(12010802);
    SetNetworkUpdateRate(12010802, true, CharacterUpdateFrequency.AlwaysUpdate);
    IssueShortWarpRequest(12010802, TargetEntityType.Character, 12010801, 100);
    WaitFixedTimeFrames(90);
    DisableCharacter(12010801);
    EnableCharacterCollision(12010802);
});

$Event(12012812, Restart, function() {
    EndIf(EventFlag(12010800));
    WaitFor(InArea(10000, 12012812));
    SetNetworkUpdateRate(12010800, true, CharacterUpdateFrequency.AlwaysUpdate);
    SetNetworkUpdateRate(12010801, true, CharacterUpdateFrequency.AlwaysUpdate);
});

$Event(12012849, Restart, function() {
    InitializeCommonEvent(0, 9005811, 12010800, 12011801, 4, 12010840);
    InitializeCommonEvent(0, 9005822, 12010800, 920300, 12012805, 12012806, 12012803, 12012802, 0, 0);
    InitializeCommonEvent(0, 9005800, 12010800, 12011800, 12012800, 12012805, 12015800, 10000, 12010801, 12012801);
    InitializeCommonEvent(0, 9005801, 12010800, 12011800, 12012800, 12012805, 12012806, 10000);
    InitializeCommonEvent(0, 9005811, 12010800, 12011800, 5, 12010801);
    InitializeCommonEvent(0, 9005822, 12010800, 920300, 12012805, 12012806, 12012803, 12012802, 0, 0);
});


