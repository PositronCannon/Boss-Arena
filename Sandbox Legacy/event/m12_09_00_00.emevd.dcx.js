// ==EMEVD==
// @docs    er-common.emedf.json
// @compress    DCX_KRAK
// @game    Sekiro
// @string    "N:\\GR\\data\\Param\\event\\common_func.emevd\u0000N:\\GR\\data\\Param\\event\\common_macro.emevd\u0000\u0000\u0000\u0000\u0000\u0000"
// @linked    [0,82]
// @version    3.4.2
// ==/EMEVD==

$Event(0, Default, function() {
    InitializeEvent(0, 12092849, 0);
    InitializeEvent(0, 12092800, 0);
    InitializeEvent(0, 12092810, 0);
    InitializeEvent(0, 12092848, 0);
    InitializeEvent(0, 12092200, 12090200, 12092858);
    InitializeEvent(1, 12092200, 12090201, 12092858);
    InitializeEvent(2, 12092200, 12090202, 12092858);
    InitializeEvent(3, 12092200, 12090203, 12092858);
    InitializeEvent(4, 12092200, 12090204, 12092858);
    InitializeEvent(5, 12092200, 12090205, 12092858);
    InitializeEvent(6, 12092200, 12090206, 12092858);
    InitializeEvent(7, 12092200, 12090220, 12092858);
    InitializeEvent(8, 12092200, 12090221, 12092858);
    InitializeEvent(9, 12092200, 12090222, 12092858);
    InitializeEvent(10, 12092200, 12090223, 12092858);
    InitializeEvent(11, 12092200, 12090224, 12092858);
    InitializeEvent(12, 12092200, 12090225, 12092858);
    InitializeEvent(13, 12092200, 12090226, 12092858);
    InitializeEvent(14, 12092200, 12090240, 12092858);
    InitializeEvent(15, 12092200, 12090241, 12092859);
    InitializeEvent(16, 12092200, 12090242, 12092858);
    InitializeEvent(17, 12092200, 12090243, 12092858);
    InitializeEvent(18, 12092200, 12090244, 12092858);
    InitializeEvent(19, 12092200, 12090245, 12092858);
    InitializeEvent(20, 12092200, 12090246, 12092858);
    InitializeEvent(21, 12092200, 12090260, 12092858);
    InitializeEvent(22, 12092200, 12090261, 12092859);
    InitializeEvent(23, 12092200, 12090262, 12092858);
    InitializeEvent(24, 12092200, 12090263, 12092858);
    InitializeEvent(25, 12092200, 12090264, 12092858);
    InitializeEvent(26, 12092200, 12090265, 12092858);
    InitializeEvent(27, 12092200, 12090266, 12092858);
    InitializeEvent(0, 12092230, 12092870, 12090200);
    InitializeEvent(1, 12092230, 12092871, 12090201);
    InitializeEvent(2, 12092230, 12092872, 12090202);
    InitializeEvent(3, 12092230, 12092873, 12090203);
    InitializeEvent(4, 12092230, 12092874, 12090204);
    InitializeEvent(5, 12092230, 12092875, 12090205);
    InitializeEvent(6, 12092230, 12092876, 12090206);
    InitializeEvent(7, 12092230, 12092877, 12090220);
    InitializeEvent(8, 12092230, 12092878, 12090221);
    InitializeEvent(9, 12092230, 12092879, 12090222);
    InitializeEvent(10, 12092230, 12092880, 12090223);
    InitializeEvent(11, 12092230, 12092881, 12090224);
    InitializeEvent(12, 12092230, 12092882, 12090225);
    InitializeEvent(13, 12092230, 12092883, 12090226);
    InitializeEvent(14, 12092230, 12092884, 12090240);
    InitializeEvent(15, 12092230, 12092885, 12090241);
    InitializeEvent(16, 12092230, 12092886, 12090242);
    InitializeEvent(17, 12092230, 12092887, 12090243);
    InitializeEvent(18, 12092230, 12092888, 12090244);
    InitializeEvent(19, 12092230, 12092889, 12090245);
    InitializeEvent(20, 12092230, 12092890, 12090246);
    InitializeEvent(21, 12092230, 12092891, 12090260);
    InitializeEvent(22, 12092230, 12092892, 12090261);
    InitializeEvent(23, 12092230, 12092893, 12090262);
    InitializeEvent(24, 12092230, 12092894, 12090263);
    InitializeEvent(25, 12092230, 12092895, 12090264);
    InitializeEvent(26, 12092230, 12092896, 12090265);
    InitializeEvent(27, 12092230, 12092897, 12090266);
    InitializeEvent(0, 12092260, 12092870, 12090200, 12090800);
    InitializeEvent(1, 12092260, 12092871, 12090201, 12090800);
    InitializeEvent(2, 12092260, 12092872, 12090202, 12090800);
    InitializeEvent(3, 12092260, 12092873, 12090203, 12090800);
    InitializeEvent(4, 12092260, 12092874, 12090204, 12090800);
    InitializeEvent(5, 12092260, 12092875, 12090205, 12090800);
    InitializeEvent(6, 12092260, 12092876, 12090206, 12090800);
    InitializeEvent(7, 12092260, 12092877, 12090220, 12090800);
    InitializeEvent(8, 12092260, 12092878, 12090221, 12090800);
    InitializeEvent(9, 12092260, 12092879, 12090222, 12090800);
    InitializeEvent(10, 12092260, 12092880, 12090223, 12090800);
    InitializeEvent(11, 12092260, 12092881, 12090224, 12090800);
    InitializeEvent(12, 12092260, 12092882, 12090225, 12090800);
    InitializeEvent(13, 12092260, 12092883, 12090226, 12090800);
    InitializeEvent(14, 12092260, 12092884, 12090240, 12090800);
    InitializeEvent(15, 12092260, 12092885, 12090241, 12090800);
    InitializeEvent(16, 12092260, 12092886, 12090242, 12090800);
    InitializeEvent(17, 12092260, 12092887, 12090243, 12090800);
    InitializeEvent(18, 12092260, 12092888, 12090244, 12090800);
    InitializeEvent(19, 12092260, 12092889, 12090245, 12090800);
    InitializeEvent(20, 12092260, 12092890, 12090246, 12090800);
    InitializeEvent(21, 12092260, 12092891, 12090260, 12090800);
    InitializeEvent(22, 12092260, 12092892, 12090261, 12090800);
    InitializeEvent(23, 12092260, 12092893, 12090262, 12090800);
    InitializeEvent(24, 12092260, 12092894, 12090263, 12090800);
    InitializeEvent(25, 12092260, 12092895, 12090264, 12090800);
    InitializeEvent(26, 12092260, 12092896, 12090265, 12090800);
    InitializeEvent(27, 12092260, 12092897, 12090266, 12090800);
    InitializeEvent(0, 12092290, 0);
    InitializeEvent(0, 12092295, 12095200);
    InitializeEvent(0, 12092854, 12092850, 12092851, 12092852, 12092853, 12090800, 12095200);
    InitializeEvent(0, 12092859, 12092850, 12092851, 12092852, 12092853, 12092855, 12092856, 12092857, 12090800, 12095200, 12095201, 12095202, 12095203, 12095204, 12090200, 12090201, 12090202, 12090203, 12090204, 12090205, 12090206, 12090220, 12090221, 12090222, 12090223, 12090224, 12090225, 12090226, 12090240, 12090241, 12090242, 12090243, 12090244, 12090245, 12090246, 12090260, 12090261, 12090262, 12090263, 12090264, 12090265, 12090266, 12093200, 12093201, 12093202, 12093203, 12093204, 12093205, 12093206, 12093220, 12093221, 12093222, 12093223, 12093224, 12093225, 12093226, 12093240, 12093241, 12093242, 12093243, 12093244, 12093245, 12093246, 12093260, 12093261, 12093262, 12093263, 12093264, 12093265, 12093266, 12092858);
    InitializeEvent(0, 12092860, 12092858, 12090800, 12095201, 12095202, 12095203, 12095204, 12095200);
    InitializeEvent(0, 12092861, 12090800);
    InitializeEvent(0, 12092862, 12090800, 12095200);
    InitializeEvent(0, 12092863, 12090800, 12095200, 12092862);
    InitializeEvent(0, 12092864, 12090800, 12095200, 12092862, 12092863);
    InitializeEvent(0, 12092910, 12090290);
    InitializeEvent(0, 12092865, 12090800);
    InitializeEvent(0, 12092920, 12092907, 12090290, 12092300);
    InitializeEvent(1, 12092920, 12092907, 12090290, 12092301);
    InitializeEvent(2, 12092920, 12092907, 12090290, 12092302);
    InitializeEvent(3, 12092920, 12092907, 12090290, 12092303);
    InitializeEvent(4, 12092920, 12092907, 12090290, 12092304);
    InitializeEvent(5, 12092920, 12092907, 12090290, 12092305);
    InitializeEvent(6, 12092920, 12092907, 12090290, 12092306);
    InitializeEvent(7, 12092920, 12092907, 12090290, 12092307);
    InitializeEvent(8, 12092920, 12092907, 12090290, 12092308);
    InitializeEvent(9, 12092920, 12092907, 12090290, 12092309);
    InitializeEvent(10, 12092920, 12092907, 12090290, 12092310);
    InitializeEvent(11, 12092920, 12092908, 12090290, 12092311);
    InitializeEvent(12, 12092920, 12092908, 12090290, 12092312);
    InitializeEvent(13, 12092920, 12092908, 12090290, 12092313);
    InitializeEvent(14, 12092920, 12092908, 12090290, 12092314);
    InitializeEvent(15, 12092920, 12092908, 12090290, 12092315);
    InitializeEvent(16, 12092920, 12092908, 12090290, 12092316);
    InitializeEvent(17, 12092920, 12092908, 12090290, 12092317);
    InitializeEvent(18, 12092920, 12092908, 12090290, 12092318);
    InitializeEvent(19, 12092920, 12092908, 12090290, 12092319);
    InitializeEvent(20, 12092920, 12092908, 12090290, 12092320);
    InitializeEvent(21, 12092920, 12092908, 12090290, 12092321);
    InitializeEvent(22, 12092920, 12092908, 12090290, 12092322);
    InitializeEvent(23, 12092920, 12092908, 12090290, 12092323);
    InitializeEvent(24, 12092920, 12092908, 12090290, 12092324);
    InitializeEvent(25, 12092920, 12092908, 12090290, 12092325);
    InitializeEvent(26, 12092920, 12092908, 12090290, 12092326);
    InitializeEvent(27, 12092920, 12092908, 12090290, 12092327);
    InitializeEvent(28, 12092920, 12092908, 12090290, 12092328);
    InitializeEvent(29, 12092920, 12092908, 12090290, 12092329);
    InitializeEvent(30, 12092920, 12092908, 12090290, 12092330);
    InitializeEvent(31, 12092920, 12092909, 12090290, 12092331);
    InitializeEvent(32, 12092920, 12092909, 12090290, 12092332);
    InitializeEvent(33, 12092920, 12092909, 12090290, 12092333);
    InitializeEvent(34, 12092920, 12092909, 12090290, 12092334);
    InitializeEvent(35, 12092920, 12092909, 12090290, 12092335);
    InitializeEvent(36, 12092920, 12092909, 12090290, 12092336);
    InitializeEvent(37, 12092920, 12092909, 12090290, 12092337);
    InitializeEvent(38, 12092920, 12092909, 12090290, 12092338);
    InitializeEvent(39, 12092920, 12092909, 12090290, 12092339);
    InitializeEvent(40, 12092920, 12092909, 12090290, 12092340);
    InitializeEvent(41, 12092920, 12092909, 12090290, 12092341);
    InitializeEvent(42, 12092920, 12092909, 12090290, 12092342);
    InitializeEvent(43, 12092920, 12092909, 12090290, 12092343);
    InitializeEvent(44, 12092920, 12092909, 12090290, 12092344);
    InitializeEvent(45, 12092920, 12092909, 12090290, 12092345);
    InitializeEvent(46, 12092920, 12092909, 12090290, 12092346);
    InitializeEvent(47, 12092920, 12092909, 12090290, 12092347);
    InitializeEvent(48, 12092920, 12092909, 12090290, 12092348);
    InitializeEvent(49, 12092920, 12092909, 12090290, 12092349);
    InitializeEvent(50, 12092920, 12092909, 12090290, 12092350);
});

$Event(12092848, Default, function() {
    if (!EventFlag(12090800)) {
        DeleteAssetfollowingSFX(12091848, false);
        WaitFor(PlayerIsInOwnWorld() && EventFlag(12090800));
    }
L0:
    DeleteAssetfollowingSFX(12091848, true);
    CreateAssetfollowingSFX(12091848, 190, 1300);
    WaitFor(
        !(HasMultiplayerState(MultiplayerState.MultiplayerPending)
            || HasMultiplayerState(MultiplayerState.Multiplayer))
            && ActionButtonInArea(9526, 12091848));
    ForceAnimationPlayback(10000, 60460, false, false, false);
    WaitFixedTimeSeconds(2.5);
    SetPlayerRespawnPoint(12022201);
    SaveRequest();
    WarpPlayer(12, 2, 0, 0, 12022201, 0);
});

//regal ancestor
$Event(12092800, Default, function() {
    EndIf(EventFlag(12090800));
    WaitFor(HPRatio(12090800) <= 0);
    SetEventFlagID(12092907, OFF);
    SetEventFlagID(12092908, OFF);
    SetEventFlagID(12092909, OFF);
    ForceCharacterDeath(12095200, false);
    WaitFixedTimeSeconds(2);
    PlaySE(12090800, SoundType.SFX, 77777777);
    WaitFor(CharacterDead(12090800));
    HandleBossDefeatAndDisplayBanner(12090800, TextBannerType.LegendFelled);
    WaitFixedTimeSeconds(6);
    //boss rush
    if (AnyBatchEventFlags(1049308250, 1049308275)) {
        SetEventFlagID(1049302502, ON);
        InitializeCommonEvent(0, 90009920, 0);
    }
    //roundtable warp
    else
        WarpPlayer(11, 10, 0, 0, 11102021, 0);  
});

$Event(12092810, Restart, function() {
    if (EventFlag(12090800)) {
        DisableCharacter(12090800);
        DisableCharacterCollision(12090800);
        ForceCharacterDeath(12090800, false);
        EndEvent();
    }
L0:
    DisableCharacterAI(12090800);
    WaitFor(EventFlag(12092805) && InArea(10000, 12092800));
L2:
    EnableCharacterAI(12090800);
    SetNetworkUpdateRate(12090800, true, CharacterUpdateFrequency.AlwaysUpdate);
    DisplayBossHealthBar(Enabled, 12090800, 0, 904670001);
});

$Event(12092849, Default, function() {
    InitializeCommonEvent(0, 9005822, 12090800, 467000, 12090805, 12090806, 0, 12092802, 0, 0);
    InitializeCommonEvent(0, 9005800, 12090800, 12091800, 12092800, 12092805, 12095800, 10000, 0, 0);
    InitializeCommonEvent(0, 9005801, 12090800, 12091800, 12092800, 12092805, 12092806, 10000);
    InitializeCommonEvent(0, 9005811, 12090800, 12091800, 8, 0);
    InitializeCommonEvent(0, 9005822, 12090800, 467000, 12092805, 12092806, 0, 12092802, 0, 0);
});

$Event(12092200, Restart, function(X0_4, X4_4) {
    WaitFor(CharacterHasSpEffect(X0_4, 13605) && HPRatio(X0_4) == 0);
    ClearSpEffect(X0_4, 13605);
    SetEventFlagID(X4_4, ON);
    RestartEvent();
});

$Event(12092230, Restart, function(X0_4, X4_4) {
    WaitFor(EventFlag(X0_4));
    ClearSpEffect(X4_4, 13605);
    EnableCharacterInvincibility(X4_4);
    DisableCharacterCollision(X4_4);
    DisableCharacterGravity(X4_4);
    DisableCharacterAI(X4_4);
    SetNetworkUpdateRate(X4_4, true, CharacterUpdateFrequency.AlwaysUpdate);
    ForceAnimationPlayback(X4_4, 20000, false, true, false);
    ForceAnimationPlayback(X4_4, 20001, true, false, false);
    WaitFixedTimeSeconds(15);
    RestartEvent();
});

$Event(12092260, Restart, function(X0_4, X4_4, X8_4) {
    WaitFor(EventFlag(X0_4) && CharacterHasSpEffect(X8_4, 13610));
    SetEventFlagID(X0_4, OFF);
    DisableCharacterCollision(X8_4);
    IssueShortWarpRequest(X8_4, TargetEntityType.Character, X4_4, 260);
    if (!(EntityInRadiusOfEntity(20000, X4_4, 40, 1) && !EntityInRadiusOfEntity(20000, X4_4, 7, 1))) {
        ForceAnimationPlayback(X8_4, 3014, false, false, false);
    } else {
        ForceAnimationPlayback(X8_4, 3037, false, false, false);
    }
    if (CharacterHasSpEffect(X8_4, 13601)) {
        SetSpEffect(X8_4, 13613);
        SetSpEffect(X8_4, 13618);
    } else if (CharacterHasSpEffect(X8_4, 13602)) {
        SetSpEffect(X8_4, 13614);
        SetSpEffect(X8_4, 13619);
    } else if (CharacterHasSpEffect(X8_4, 13603)) {
        SetSpEffect(X8_4, 13615);
        SetSpEffect(X8_4, 13620);
    } else if (CharacterHasSpEffect(X8_4, 13604)) {
        SetSpEffect(X8_4, 13616);
        SetSpEffect(X8_4, 13621);
    }
L0:
    ForceAnimationPlayback(X4_4, 20002, false, true, false);
    DisableCharacterAI(X4_4);
    EnableCharacterGravity(X4_4);
    DisableCharacter(X4_4);
    DisableCharacterInvincibility(X4_4);
    ForceCharacterDeath(X4_4, false);
    SetNetworkUpdateRate(X4_4, false, CharacterUpdateFrequency.AlwaysUpdate);
    EnableCharacterCollision(X8_4);
    SetEventFlagID(X0_4, OFF);
    RestartEvent();
});

$Event(12092290, Restart, function() {
    WaitFor(EventFlag(12092901) && CharacterHasSpEffect(12090800, 13610));
    SetEventFlagID(12092901, OFF);
    DisableCharacterCollision(12090800);
    IssueShortWarpRequest(12090800, TargetEntityType.Area, 12092308, 0);
    ForceAnimationPlayback(12090800, 3014, false, false, false);
    if (CharacterHasSpEffect(12090800, 13601)) {
        SetSpEffect(12090800, 13613);
        SetSpEffect(12090800, 13618);
    } else if (CharacterHasSpEffect(12090800, 13602)) {
        SetSpEffect(12090800, 13614);
        SetSpEffect(12090800, 13619);
    } else if (CharacterHasSpEffect(12090800, 13603)) {
        SetSpEffect(12090800, 13615);
        SetSpEffect(12090800, 13620);
    } else if (CharacterHasSpEffect(12090800, 13604)) {
        SetSpEffect(12090800, 13616);
        SetSpEffect(12090800, 13621);
    }
L0:
    EnableCharacterCollision(12090800);
    SetEventFlagID(12092901, OFF);
    RestartEvent();
});

$Event(12092295, Restart, function(X0_4) {
    DisableLockOnPoint(X0_4, 220);
    DisableCharacterCollision(X0_4);
});

$Event(12092854, Restart, function(X0_4, X4_4, X8_4, X12_4, X16_4, X20_4) {
    WaitFor(CharacterHasSpEffect(X16_4, 13642));
    SetEventFlagID(X0_4, OFF);
    SetEventFlagID(X4_4, OFF);
    SetEventFlagID(X8_4, OFF);
    if (CharacterHasSpEffect(X20_4, 13605, Less, 5)) {
        SetEventFlagID(X8_4, ON);
    } else if (CharacterHasSpEffect(X20_4, 13605, Less, 10)) {
        SetEventFlagID(X4_4, ON);
    } else if (CharacterHasSpEffect(X20_4, 13605, GreaterOrEqual, 10)) {
        SetEventFlagID(X0_4, ON);
        Goto(L0);
    }
L0:
    ClearSpEffect(X20_4, 13643);
    SetEventFlagID(X12_4, OFF);
    WaitFixedTimeSeconds(2);
    SetEventFlagID(X12_4, ON);
    RestartEvent();
});

$Event(12092859, Restart, function(X0_4, X4_4, X8_4, X12_4, X16_4, X20_4, X24_4, X28_4, X32_4, X36_4, X40_4, X44_4, X48_4, X52_4, X56_4, X60_4, X64_4, X68_4, X72_4, X76_4, X80_4, X84_4, X88_4, X92_4, X96_4, X100_4, X104_4, X108_4, X112_4, X116_4, X120_4, X124_4, X128_4, X132_4, X136_4, X140_4, X144_4, X148_4, X152_4, X156_4, X160_4, X164_4, X168_4, X172_4, X176_4, X180_4, X184_4, X188_4, X192_4, X196_4, X200_4, X204_4, X208_4, X212_4, X216_4, X220_4, X224_4, X228_4, X232_4, X236_4, X240_4, X244_4, X248_4, X252_4, X256_4, X260_4, X264_4, X268_4, X272_4, X276_4) {
    if (!ThisEventSlot()) {
        SetEventFlagID(X12_4, ON);
        RestartEvent();
    }
    WaitFor(!EventFlag(X12_4));
    SetEventFlagID(X16_4, OFF);
    SetEventFlagID(X20_4, OFF);
    SetEventFlagID(X24_4, OFF);
    RandomlySetEventFlagInRange(X16_4, X24_4, ON);
    if (CharacterHasSpEffect(X28_4, 13645)) {
        GotoIf(L0, CharacterHasSpEffect(X36_4, 13605, GreaterOrEqual, 1));
        EnableCharacter(X60_4);
        EnableCharacterAI(X60_4);
        InvokeEnemyGenerator(X172_4);
        WaitFixedTimeFrames(1);
        SetSpEffect(X60_4, 13643);
        SetSpEffect(X60_4, 13605);
        DisableCharacterCollision(X60_4);
    } else {
L0:
        if (CharacterHasSpEffect(X28_4, 13646)) {
            if (!CharacterHasSpEffect(X40_4, 13605, GreaterOrEqual, 1)) {
                EnableCharacter(X80_4);
                EnableCharacterAI(X80_4);
                InvokeEnemyGenerator(X192_4);
                WaitFixedTimeFrames(1);
                SetSpEffect(X80_4, 13643);
                SetSpEffect(X80_4, 13605);
                DisableCharacterCollision(X80_4);
                Goto(L20);
            }
            if (!CharacterHasSpEffect(X48_4, 13605, GreaterOrEqual, 1)) {
                EnableCharacter(X136_4);
                EnableCharacterAI(X136_4);
                InvokeEnemyGenerator(X248_4);
                WaitFixedTimeFrames(1);
                SetSpEffect(X136_4, 13643);
                SetSpEffect(X136_4, 13605);
                DisableCharacterCollision(X136_4);
                Goto(L20);
            }
        }
L1:
        if (CharacterHasSpEffect(X28_4, 13647)) {
            if (!CharacterHasSpEffect(X44_4, 13605, GreaterOrEqual, 1)) {
                EnableCharacter(X108_4);
                EnableCharacterAI(X108_4);
                InvokeEnemyGenerator(X220_4);
                WaitFixedTimeFrames(1);
                SetSpEffect(X108_4, 13643);
                SetSpEffect(X108_4, 13605);
                DisableCharacterCollision(X108_4);
                Goto(L20);
            }
        }
L2:
        GotoIf(S0, EventFlag(X16_4));
        GotoIf(L3, EventFlag(X20_4));
        GotoIf(L4, EventFlag(X24_4));
S0:
        if (!CharacterHasSpEffect(X52_4, 13605)) {
            EnableCharacter(X52_4);
            EnableCharacterAI(X52_4);
            InvokeEnemyGenerator(X164_4);
            WaitFixedTimeFrames(1);
            SetSpEffect(X52_4, 13643);
            SetSpEffect(X52_4, 13605);
            DisableCharacterCollision(X52_4);
        } else if (!CharacterHasSpEffect(X80_4, 13605)) {
            EnableCharacter(X80_4);
            EnableCharacterAI(X80_4);
            InvokeEnemyGenerator(X192_4);
            WaitFixedTimeFrames(1);
            SetSpEffect(X80_4, 13643);
            SetSpEffect(X80_4, 13605);
            DisableCharacterCollision(X80_4);
        } else if (!CharacterHasSpEffect(X108_4, 13605)) {
            EnableCharacter(X108_4);
            EnableCharacterAI(X108_4);
            InvokeEnemyGenerator(X220_4);
            WaitFixedTimeFrames(1);
            SetSpEffect(X108_4, 13643);
            SetSpEffect(X108_4, 13605);
            DisableCharacterCollision(X108_4);
        } else if (!CharacterHasSpEffect(X136_4, 13605)) {
            EnableCharacter(X136_4);
            EnableCharacterAI(X136_4);
            InvokeEnemyGenerator(X248_4);
            WaitFixedTimeFrames(1);
            SetSpEffect(X136_4, 13643);
            SetSpEffect(X136_4, 13605);
            DisableCharacterCollision(X136_4);
        } else if (!CharacterHasSpEffect(X56_4, 13605)) {
            EnableCharacter(X56_4);
            EnableCharacterAI(X56_4);
            InvokeEnemyGenerator(X168_4);
            WaitFixedTimeFrames(1);
            SetSpEffect(X56_4, 13643);
            SetSpEffect(X56_4, 13605);
            DisableCharacterCollision(X56_4);
        } else if (!CharacterHasSpEffect(X84_4, 13605)) {
            EnableCharacter(X84_4);
            EnableCharacterAI(X84_4);
            InvokeEnemyGenerator(X196_4);
            WaitFixedTimeFrames(1);
            SetSpEffect(X84_4, 13643);
            SetSpEffect(X84_4, 13605);
            DisableCharacterCollision(X84_4);
        } else if (!CharacterHasSpEffect(X112_4, 13605)) {
            EnableCharacter(X112_4);
            EnableCharacterAI(X112_4);
            InvokeEnemyGenerator(X224_4);
            WaitFixedTimeFrames(1);
            SetSpEffect(X112_4, 13643);
            SetSpEffect(X112_4, 13605);
            DisableCharacterCollision(X112_4);
        } else if (!CharacterHasSpEffect(X140_4, 13605)) {
            EnableCharacter(X140_4);
            EnableCharacterAI(X140_4);
            InvokeEnemyGenerator(X252_4);
            WaitFixedTimeFrames(1);
            SetSpEffect(X140_4, 13643);
            SetSpEffect(X140_4, 13605);
            DisableCharacterCollision(X140_4);
        } else if (!CharacterHasSpEffect(X60_4, 13605)) {
            EnableCharacter(X60_4);
            EnableCharacterAI(X60_4);
            InvokeEnemyGenerator(X172_4);
            WaitFixedTimeFrames(1);
            SetSpEffect(X60_4, 13643);
            SetSpEffect(X60_4, 13605);
            DisableCharacterCollision(X60_4);
        } else if (!CharacterHasSpEffect(X88_4, 13605)) {
            EnableCharacter(X88_4);
            EnableCharacterAI(X88_4);
            InvokeEnemyGenerator(X200_4);
            WaitFixedTimeFrames(1);
            SetSpEffect(X88_4, 13643);
            SetSpEffect(X88_4, 13605);
            DisableCharacterCollision(X88_4);
        } else if (!CharacterHasSpEffect(X116_4, 13605)) {
            EnableCharacter(X116_4);
            EnableCharacterAI(X116_4);
            InvokeEnemyGenerator(X228_4);
            WaitFixedTimeFrames(1);
            SetSpEffect(X116_4, 13643);
            SetSpEffect(X116_4, 13605);
            DisableCharacterCollision(X116_4);
        } else if (!CharacterHasSpEffect(X144_4, 13605)) {
            EnableCharacter(X144_4);
            EnableCharacterAI(X144_4);
            InvokeEnemyGenerator(X256_4);
            WaitFixedTimeFrames(1);
            SetSpEffect(X144_4, 13643);
            SetSpEffect(X144_4, 13605);
            DisableCharacterCollision(X144_4);
        } else {
L3:
            if (!CharacterHasSpEffect(X120_4, 13605)) {
                EnableCharacter(X120_4);
                EnableCharacterAI(X120_4);
                InvokeEnemyGenerator(X232_4);
                WaitFixedTimeFrames(1);
                SetSpEffect(X120_4, 13643);
                SetSpEffect(X120_4, 13605);
                DisableCharacterCollision(X120_4);
            } else if (!CharacterHasSpEffect(X64_4, 13605)) {
                EnableCharacter(X64_4);
                EnableCharacterAI(X64_4);
                InvokeEnemyGenerator(X176_4);
                WaitFixedTimeFrames(1);
                SetSpEffect(X64_4, 13643);
                SetSpEffect(X64_4, 13605);
                DisableCharacterCollision(X64_4);
            } else if (!CharacterHasSpEffect(X148_4, 13605)) {
                EnableCharacter(X148_4);
                EnableCharacterAI(X148_4);
                InvokeEnemyGenerator(X260_4);
                WaitFixedTimeFrames(1);
                SetSpEffect(X148_4, 13643);
                SetSpEffect(X148_4, 13605);
                DisableCharacterCollision(X148_4);
            } else if (!CharacterHasSpEffect(X92_4, 13605)) {
                EnableCharacter(X92_4);
                EnableCharacterAI(X92_4);
                InvokeEnemyGenerator(X204_4);
                WaitFixedTimeFrames(1);
                SetSpEffect(X92_4, 13643);
                SetSpEffect(X92_4, 13605);
                DisableCharacterCollision(X92_4);
            } else if (!CharacterHasSpEffect(X124_4, 13605)) {
                EnableCharacter(X124_4);
                EnableCharacterAI(X124_4);
                InvokeEnemyGenerator(X236_4);
                WaitFixedTimeFrames(1);
                SetSpEffect(X124_4, 13643);
                SetSpEffect(X124_4, 13605);
                DisableCharacterCollision(X124_4);
            } else if (!CharacterHasSpEffect(X68_4, 13605)) {
                EnableCharacter(X68_4);
                EnableCharacterAI(X68_4);
                InvokeEnemyGenerator(X180_4);
                WaitFixedTimeFrames(1);
                SetSpEffect(X68_4, 13643);
                SetSpEffect(X68_4, 13605);
                DisableCharacterCollision(X68_4);
            } else if (!CharacterHasSpEffect(X152_4, 13605)) {
                EnableCharacter(X152_4);
                EnableCharacterAI(X152_4);
                InvokeEnemyGenerator(X264_4);
                WaitFixedTimeFrames(1);
                SetSpEffect(X152_4, 13643);
                SetSpEffect(X152_4, 13605);
                DisableCharacterCollision(X152_4);
            } else if (!CharacterHasSpEffect(X96_4, 13605)) {
                EnableCharacter(X96_4);
                EnableCharacterAI(X96_4);
                InvokeEnemyGenerator(X208_4);
                WaitFixedTimeFrames(1);
                SetSpEffect(X96_4, 13643);
                SetSpEffect(X96_4, 13605);
                DisableCharacterCollision(X96_4);
            } else {
L4:
                if (!CharacterHasSpEffect(X156_4, 13605)) {
                    EnableCharacter(X156_4);
                    EnableCharacterAI(X156_4);
                    InvokeEnemyGenerator(X268_4);
                    WaitFixedTimeFrames(1);
                    SetSpEffect(X156_4, 13643);
                    SetSpEffect(X156_4, 13605);
                    DisableCharacterCollision(X156_4);
                } else if (!CharacterHasSpEffect(X128_4, 13605)) {
                    EnableCharacter(X128_4);
                    EnableCharacterAI(X128_4);
                    InvokeEnemyGenerator(X240_4);
                    WaitFixedTimeFrames(1);
                    SetSpEffect(X128_4, 13643);
                    SetSpEffect(X128_4, 13605);
                    DisableCharacterCollision(X128_4);
                } else if (!CharacterHasSpEffect(X100_4, 13605)) {
                    EnableCharacter(X100_4);
                    EnableCharacterAI(X100_4);
                    InvokeEnemyGenerator(X212_4);
                    WaitFixedTimeFrames(1);
                    SetSpEffect(X100_4, 13643);
                    SetSpEffect(X100_4, 13605);
                    DisableCharacterCollision(X100_4);
                } else if (!CharacterHasSpEffect(X72_4, 13605)) {
                    EnableCharacter(X72_4);
                    EnableCharacterAI(X72_4);
                    InvokeEnemyGenerator(X184_4);
                    WaitFixedTimeFrames(1);
                    SetSpEffect(X72_4, 13643);
                    SetSpEffect(X72_4, 13605);
                    DisableCharacterCollision(X72_4);
                } else if (!CharacterHasSpEffect(X160_4, 13605)) {
                    EnableCharacter(X160_4);
                    EnableCharacterAI(X160_4);
                    InvokeEnemyGenerator(X272_4);
                    WaitFixedTimeFrames(1);
                    SetSpEffect(X160_4, 13643);
                    SetSpEffect(X160_4, 13605);
                    DisableCharacterCollision(X160_4);
                } else if (!CharacterHasSpEffect(X132_4, 13605)) {
                    EnableCharacter(X132_4);
                    EnableCharacterAI(X132_4);
                    InvokeEnemyGenerator(X244_4);
                    WaitFixedTimeFrames(1);
                    SetSpEffect(X132_4, 13643);
                    SetSpEffect(X132_4, 13605);
                    DisableCharacterCollision(X132_4);
                } else if (!CharacterHasSpEffect(X104_4, 13605)) {
                    EnableCharacter(X104_4);
                    EnableCharacterAI(X104_4);
                    InvokeEnemyGenerator(X216_4);
                    WaitFixedTimeFrames(1);
                    SetSpEffect(X104_4, 13643);
                    SetSpEffect(X104_4, 13605);
                    DisableCharacterCollision(X104_4);
                } else if (!CharacterHasSpEffect(X76_4, 13605)) {
                    EnableCharacter(X76_4);
                    EnableCharacterAI(X76_4);
                    InvokeEnemyGenerator(X188_4);
                    WaitFixedTimeFrames(1);
                    SetSpEffect(X76_4, 13643);
                    SetSpEffect(X76_4, 13605);
                    DisableCharacterCollision(X76_4);
                    Goto(L20);
                }
            }
        }
    }
L20:
    SetEventFlagID(X276_4, ON);
    if ((EventFlag(X0_4) && CharacterHasSpEffect(X32_4, 13643, GreaterOrEqual, 6))
        || (EventFlag(X4_4) && CharacterHasSpEffect(X32_4, 13643, GreaterOrEqual, 8))
        || (EventFlag(X8_4) && CharacterHasSpEffect(X32_4, 13643, GreaterOrEqual, 10))) {
        SetEventFlagID(X12_4, ON);
        ClearSpEffect(X32_4, 13643);
    }
    RestartEvent();
});

$Event(12092860, Restart, function(X0_4, X4_4, X8_4, X12_4, X16_4, X20_4, X24_4) {
    SetEventFlagID(X0_4, OFF);
    WaitFor(EventFlag(X0_4));
    if (!CharacterHasSpEffect(X8_4, 13605, Equal, 0)) {
        SetSpEffect(X4_4, 13606);
    } else {
        ClearSpEffect(X4_4, 13606);
    }
    if (!CharacterHasSpEffect(X12_4, 13605, Equal, 0)) {
        SetSpEffect(X4_4, 13607);
    } else {
        ClearSpEffect(X4_4, 13607);
    }
    if (!CharacterHasSpEffect(X16_4, 13605, Equal, 0)) {
        SetSpEffect(X4_4, 13608);
    } else {
        ClearSpEffect(X4_4, 13608);
    }
    if (!CharacterHasSpEffect(X20_4, 13605, Equal, 0)) {
        SetSpEffect(X4_4, 13609);
    } else {
        ClearSpEffect(X4_4, 13609);
    }
    if (!CharacterHasSpEffect(X24_4, 13605, GreaterOrEqual, 5)) {
        SetSpEffect(X4_4, 13625);
    } else {
        ClearSpEffect(X4_4, 13625);
    }
    SetEventFlagID(12092907, OFF);
    SetEventFlagID(12092908, OFF);
    SetEventFlagID(12092909, OFF);
    GotoIf(S0, CharacterHasSpEffect(X24_4, 13605, GreaterOrEqual, 20));
    GotoIf(S1, CharacterHasSpEffect(X24_4, 13605, GreaterOrEqual, 13));
    GotoIf(S2, CharacterHasSpEffect(X24_4, 13605, GreaterOrEqual, 1));
    Goto(S3);
S0:
    SetEventFlagID(12092909, ON);
    Goto(S3);
S1:
    SetEventFlagID(12092908, ON);
    Goto(S3);
S2:
    SetEventFlagID(12092907, ON);
S3:
    RestartEvent();
});

$Event(12092861, Restart, function(X0_4) {
    WaitFor(CharacterHasSpEffect(X0_4, 13623));
    EnableCharacterCollision(X0_4);
    RequestCharacterAIReplan(X0_4);
    RestartEvent();
});

$Event(12092862, Restart, function(X0_4, X4_4) {
    WaitFor(CharacterHasSpEffect(X0_4, 13624));
    SetSpEffect(X0_4, 13632);
    SetSpEffect(X0_4, 13646);
    SetSpEffect(X4_4, 13617);
    ForceCharacterDeath(X4_4, false);
    WaitFixedTimeSeconds(1);
    SetThisEventSlot(ON);
    SetEventFlagID(12092802, ON);
});

$Event(12092863, Restart, function(X0_4, X4_4, X8_4) {
    WaitFor(EventFlag(X8_4) && CharacterHasSpEffect(X0_4, 13624));
    SetSpEffect(X0_4, 13633);
    SetSpEffect(X0_4, 13647);
    SetSpEffect(X4_4, 13617);
    ForceCharacterDeath(X4_4, false);
    WaitFixedTimeSeconds(1);
    SetThisEventSlot(ON);
});

$Event(12092864, Restart, function(X0_4, X4_4, X8_4, X12_4) {
    WaitFor(EventFlag(X8_4) && EventFlag(X12_4) && CharacterHasSpEffect(X0_4, 13624));
    SetSpEffect(X0_4, 13634);
    SetSpEffect(X4_4, 13617);
    ForceCharacterDeath(X4_4, false);
    WaitFixedTimeSeconds(1);
    RestartEvent();
});

$Event(12092865, Restart, function(X0_4) {
    WaitFor(CharacterHasSpEffect(X0_4, 13624));
    ShootBullet(12090290, 12092300, -1, 246700910, 0, 0, 0);
    ShootBullet(12090290, 12092301, -1, 246700910, 0, 0, 0);
    ShootBullet(12090290, 12092302, -1, 246700910, 0, 0, 0);
    ShootBullet(12090290, 12092303, -1, 246700910, 0, 0, 0);
    ShootBullet(12090290, 12092304, -1, 246700910, 0, 0, 0);
    ShootBullet(12090290, 12092305, -1, 246700910, 0, 0, 0);
    ShootBullet(12090290, 12092306, -1, 246700910, 0, 0, 0);
    ShootBullet(12090290, 12092307, -1, 246700910, 0, 0, 0);
    ShootBullet(12090290, 12092308, -1, 246700910, 0, 0, 0);
    ShootBullet(12090290, 12092309, -1, 246700910, 0, 0, 0);
    WaitFixedTimeSeconds(1);
    ShootBullet(12090290, 12092310, -1, 246700910, 0, 0, 0);
    ShootBullet(12090290, 12092311, -1, 246700910, 0, 0, 0);
    ShootBullet(12090290, 12092312, -1, 246700910, 0, 0, 0);
    ShootBullet(12090290, 12092313, -1, 246700910, 0, 0, 0);
    ShootBullet(12090290, 12092314, -1, 246700910, 0, 0, 0);
    ShootBullet(12090290, 12092315, -1, 246700910, 0, 0, 0);
    ShootBullet(12090290, 12092316, -1, 246700910, 0, 0, 0);
    ShootBullet(12090290, 12092317, -1, 246700910, 0, 0, 0);
    ShootBullet(12090290, 12092318, -1, 246700910, 0, 0, 0);
    ShootBullet(12090290, 12092319, -1, 246700910, 0, 0, 0);
    WaitFixedTimeSeconds(1);
    ShootBullet(12090290, 12092320, -1, 246700910, 0, 0, 0);
    ShootBullet(12090290, 12092321, -1, 246700910, 0, 0, 0);
    ShootBullet(12090290, 12092322, -1, 246700910, 0, 0, 0);
    ShootBullet(12090290, 12092323, -1, 246700910, 0, 0, 0);
    ShootBullet(12090290, 12092324, -1, 246700910, 0, 0, 0);
    ShootBullet(12090290, 12092325, -1, 246700910, 0, 0, 0);
    ShootBullet(12090290, 12092326, -1, 246700910, 0, 0, 0);
    ShootBullet(12090290, 12092327, -1, 246700910, 0, 0, 0);
    ShootBullet(12090290, 12092328, -1, 246700910, 0, 0, 0);
    ShootBullet(12090290, 12092329, -1, 246700910, 0, 0, 0);
    WaitFixedTimeSeconds(1);
    ShootBullet(12090290, 12092330, -1, 246700910, 0, 0, 0);
    ShootBullet(12090290, 12092331, -1, 246700910, 0, 0, 0);
    ShootBullet(12090290, 12092332, -1, 246700910, 0, 0, 0);
    ShootBullet(12090290, 12092333, -1, 246700910, 0, 0, 0);
    ShootBullet(12090290, 12092334, -1, 246700910, 0, 0, 0);
    ShootBullet(12090290, 12092335, -1, 246700910, 0, 0, 0);
    ShootBullet(12090290, 12092336, -1, 246700910, 0, 0, 0);
    ShootBullet(12090290, 12092337, -1, 246700910, 0, 0, 0);
    ShootBullet(12090290, 12092338, -1, 246700910, 0, 0, 0);
    ShootBullet(12090290, 12092339, -1, 246700910, 0, 0, 0);
    WaitFixedTimeSeconds(1);
    ShootBullet(12090290, 12092340, -1, 246700910, 0, 0, 0);
    ShootBullet(12090290, 12092341, -1, 246700910, 0, 0, 0);
    ShootBullet(12090290, 12092342, -1, 246700910, 0, 0, 0);
    ShootBullet(12090290, 12092343, -1, 246700910, 0, 0, 0);
    ShootBullet(12090290, 12092344, -1, 246700910, 0, 0, 0);
    ShootBullet(12090290, 12092345, -1, 246700910, 0, 0, 0);
    ShootBullet(12090290, 12092346, -1, 246700910, 0, 0, 0);
    ShootBullet(12090290, 12092347, -1, 246700910, 0, 0, 0);
    ShootBullet(12090290, 12092348, -1, 246700910, 0, 0, 0);
    ShootBullet(12090290, 12092349, -1, 246700910, 0, 0, 0);
    ShootBullet(12090290, 12092350, -1, 246700910, 0, 0, 0);
    RestartEvent();
});

$Event(12092910, Restart, function(X0_4) {
    CreateBulletOwner(X0_4);
});

$Event(12092920, Restart, function(X0_4, X4_4, X8_4) {
    GotoIf(S0, X0_4 == 12092908);
    GotoIf(S1, X0_4 == 12092909);
    flag |= EventFlag(12092907);
S0:
    flag |= EventFlag(12092908);
S1:
    flag |= EventFlag(12092909);
    WaitFor(!CharacterDead(12090800) && flag);
    ShootBullet(X4_4, X8_4, -1, 246700900, 0, 0, 0);
    GotoIf(S2, EventFlag(12092908));
    GotoIf(S3, EventFlag(12092909));
    WaitRandomTimeSeconds(8, 10);
    Goto(S4);
S2:
    WaitRandomTimeSeconds(6, 8);
    Goto(S4);
S3:
    WaitRandomTimeSeconds(4, 6);
S4:
    RestartEvent();
});
