// ==EMEVD==
// @docs    er-common.emedf.json
// @compress    DCX_KRAK
// @game    Sekiro
// @string    "N:\\GR\\data\\Param\\event\\common_func.emevd\u0000N:\\GR\\data\\Param\\event\\common_macro.emevd\u0000\u0000\u0000\u0000\u0000\u0000"
// @linked    [0,82]
// @version    3.4.2
// ==/EMEVD==

$Event(0, Default, function() {
    //inf hp/fp/stam
    InitializeCommonEvent(0, 90001001, 0);
    InitializeCommonEvent(0, 90005600, 1038540000, 1038541950, 1084227584, 1038540480);
    InitializeCommonEvent(0, 90005100, 71602, 76351, 1038541980, 77350, 2, 78350, 78351, 78352, 78353, 78354, 78355, 78356, 78357, 78358, 78359);
    InitializeCommonEvent(0, 90005870, 1038540800, 904680601, 19);
    InitializeCommonEvent(0, 90005860, 1038540800, 1038540800, 1038540800, 0, 0, 0);
    InitializeCommonEvent(0, 90005250, 1038540229, 1038542229, 0, -1);
    InitializeCommonEvent(1, 90005250, 1038540227, 1038542229, 1065353216, -1);
    InitializeCommonEvent(2, 90005250, 1038540228, 1038542229, 1086324736, -1);
    InitializeEvent(0, 1038542260, 1038540229);
    InitializeEvent(1, 1038542260, 1038540227);
    InitializeEvent(2, 1038542260, 1038540228);
    InitializeCommonEvent(0, 90005261, 1038540200, 1038542220, 1084227584, 0, -1);
    InitializeCommonEvent(1, 90005261, 1038540201, 1038542220, 1084227584, 0, -1);
    InitializeCommonEvent(0, 90005790, 0, 1038540410, 1038542410, 1038542411, 1038540700, 22, 1038542701, 1038542700, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005791, 1038540410, 1038542410, 1038542411, 1038540700);
    InitializeCommonEvent(0, 90005792, 1038540410, 1038542410, 1038542411, 1038540700, 1038540700, 0);
    InitializeCommonEvent(0, 90005793, 1038540410, 1038542410, 1038542411, 1038540700, 1038542701, 1038542702, 0);
    InitializeCommonEvent(0, 90005261, 1038540370, 1038542370, 1084227584, 1077936128, -1);
    InitializeCommonEvent(1, 90005261, 1038540371, 1038542370, 1084227584, 1078355558, -1);
    InitializeCommonEvent(2, 90005261, 1038540372, 1038542370, 1084227584, 1078774989, -1);
    InitializeEvent(0, 1038542270, 1038540370);
    InitializeEvent(1, 1038542270, 1038540371);
    InitializeEvent(2, 1038542270, 1038540372);
    InitializeCommonEvent(0, 90005261, 1038540380, 1038542380, 1084227584, 0, 3020);
    InitializeCommonEvent(1, 90005261, 1038540381, 1038542381, 1084227584, 0, 3020);
    InitializeCommonEvent(2, 90005261, 1038540382, 1038542382, 1084227584, 0, 3020);
    InitializeCommonEvent(3, 90005261, 1038540383, 1038542383, 1084227584, 0, 3020);
    InitializeCommonEvent(4, 90005261, 1038540384, 1038542384, 1084227584, 0, 3020);
    InitializeCommonEvent(5, 90005261, 1038540385, 1038542385, 1084227584, 0, 3020);
    InitializeCommonEvent(4, 90005211, 1038540250, 30005, 20005, 1038542370, 1092616192, 0, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005201, 1038540211, 30007, 20007, 1080033280, 0, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005201, 1038540212, 30007, 20007, 1080033280, 0, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005201, 1038540213, 30007, 20007, 1080033280, 0, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005201, 1038540268, 30007, 20007, 1080033280, 0, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005201, 1038540269, 30007, 20007, 1080033280, 0, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005201, 1038540270, 30007, 20007, 1080033280, 0, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005201, 1038540271, 30007, 20007, 1080033280, 0, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005201, 1038540272, 30007, 20007, 1080033280, 0, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005201, 1038540273, 30007, 20007, 1080033280, 0, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005201, 1038540274, 30007, 20007, 1080033280, 0, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005201, 1038540275, 30007, 20007, 1080033280, 0, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005201, 1038540276, 30007, 20007, 1080033280, 0, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005201, 1038540277, 30007, 20007, 1080033280, 0, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005201, 1038540278, 30007, 20007, 1080033280, 0, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005201, 1038540279, 30007, 20007, 1080033280, 0, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005201, 1038540280, 30007, 20007, 1080033280, 0, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005201, 1038540281, 30007, 20007, 1080033280, 0, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005201, 1038540282, 30007, 20007, 1080033280, 0, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005201, 1038540283, 30007, 20007, 1080033280, 0, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005201, 1038540284, 30007, 20007, 1080033280, 0, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005201, 1038540285, 30007, 20007, 1080033280, 0, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005201, 1038540286, 30007, 20007, 1080033280, 0, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005201, 1038540287, 30007, 20007, 1080033280, 0, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005201, 1038540288, 30007, 20007, 1080033280, 0, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005201, 1038540289, 30007, 20007, 1080033280, 0, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005201, 1038540290, 30007, 20007, 1080033280, 0, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005201, 1038540291, 30007, 20007, 1080033280, 0, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005201, 1038540292, 30007, 20007, 1080033280, 0, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005201, 1038540294, 30007, 20007, 1080033280, 0, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005201, 1038540295, 30007, 20007, 1080033280, 0, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005201, 1038540296, 30007, 20007, 1080033280, 0, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005201, 1038540297, 30007, 20007, 1080033280, 0, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005201, 1038540298, 30007, 20007, 1080033280, 0, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005211, 1038540205, 30010, 20010, 1038542205, 1092616192, 1058642330, 0, 0, 0, 0);
    InitializeCommonEvent(1, 90005211, 1038540206, 30010, 20010, 1038542205, 1092616192, 0, 0, 0, 0, 0);
    InitializeEvent(0, 1038542250, 1038545200, 1038542200);
    InitializeCommonEvent(0, 90005261, 1038540340, 1039532350, 1092616192, 1065353216, -1);
    InitializeCommonEvent(1, 90005261, 1038540341, 1039532350, 1092616192, 0, -1);
    InitializeEvent(0, 1038542340, 0);
    InitializeCommonEvent(0, 90005251, 1038540330, 1090519040, 0, -1);
    InitializeEvent(0, 1038542580, 0);
    InitializeCommonEvent(0, 90005300, 1038540400, 1038540400, 1038540100, 0, 0);
    InitializeCommonEvent(0, 90005200, 1038540390, 30020, 20020, 1038542390, 1073741824, 0, 0, 0, 0);
    InitializeEvent(0, 1038542400, 0);
    InitializeEvent(0, 1038542500, 0);
    InitializeEvent(0, 1038542450, 1038541400);
    InitializeEvent(1, 1038542450, 1038541401);
    InitializeEvent(2, 1038542450, 1038541402);
    InitializeEvent(3, 1038542450, 1038541403);
});

$Event(1038542580, Default, function() {
    RegisterLadder(1038540580, 1038540581, 1038541580);
    RegisterLadder(1038540582, 1038540583, 1038541582);
    RegisterLadder(1038540584, 1038540585, 1038541584);
    RegisterLadder(1038540586, 1038540587, 1038541586);
    RegisterLadder(1038540588, 1038540589, 1038541588);
    RegisterLadder(1038540590, 1038540591, 1038541590);
});

$Event(1038542250, Restart, function(X0_4, X4_4) {
    ClearSpEffect(X0_4, 4800);
    ClearSpEffect(X0_4, 5660);
    SetSpEffect(X0_4, 4802);
    EndIf(EventFlag(1050562200));
    SetSpEffect(X0_4, 4800);
    SetSpEffect(X0_4, 5660);
    WaitFor(
        ((CharacterType(10000, TargetType.BlackPhantom) && CharacterHasSpEffect(10000, 3710))
            || CharacterType(10000, TargetType.Alive)
            || CharacterType(10000, TargetType.GrayPhantom)
            || CharacterType(10000, TargetType.WhitePhantom))
            && (HasDamageType(X0_4, 10000, DamageType.Unspecified)
                || HasDamageType(X0_4, 35000, DamageType.Unspecified)
                || HasDamageType(35000, X0_4, DamageType.Unspecified)
                || CharacterHasStateInfo(X0_4, 436)
                || CharacterHasStateInfo(X0_4, 2)
                || CharacterHasStateInfo(X0_4, 5)
                || CharacterHasStateInfo(X0_4, 6)
                || CharacterHasStateInfo(X0_4, 260)
                || EntityInRadiusOfEntity(10000, X0_4, 10, 1)
                || EntityInRadiusOfEntity(35000, X0_4, 10, 1)
                || InArea(10000, X4_4)
                || InArea(35000, X4_4)));
    SetNetworkconnectedEventFlagID(1050562200, ON);
    ClearSpEffect(X0_4, 4800);
    ClearSpEffect(X0_4, 5660);
});

$Event(1038542260, Restart, function(X0_4) {
    SetSpEffect(X0_4, 8087);
    EndEvent();
});

$Event(1038542270, Restart, function(X0_4) {
    SetSpEffect(X0_4, 8092);
    EndEvent();
});

$Event(1038542340, Restart, function() {
    WaitFor(InArea(1038540340, 1038542340));
    ChangeCharacterPatrolBehavior(1038540340, 1038543340);
    EndEvent();
});

$Event(1038542400, Restart, function() {
    EndIf(CharacterDead(1038540400) || CharacterDead(1038540390));
    SetCharacterTeamType(1038540400, TeamType.ArchEnemyTeam);
    SetCharacterTeamType(1038540390, TeamType.ArchEnemyTeam);
    EndEvent();
});

$Event(1038542450, Restart, function(X0_4) {
    DisableAsset(X0_4);
    EndEvent();
});

$Event(1038542500, Default, function() {
    if (EventFlag(57)) {
        InitializeCommonEvent(0, 90005694, 1038542200, 1038541200, 200, 0, 802003270, 1065353216, 0, 1065353216);
    }
    if (EventFlag(56)) {
        InitializeCommonEvent(0, 90005694, 1038542200, 1038541200, 200, 0, 802003260, 1065353216, 0, 1065353216);
    }
    if (EventFlag(55)) {
        InitializeCommonEvent(0, 90005694, 1038542200, 1038541200, 200, 0, 802003250, 1065353216, 0, 1065353216);
    }
    if (EventFlag(54)) {
        InitializeCommonEvent(0, 90005694, 1038542200, 1038541200, 200, 0, 802003240, 1065353216, 0, 1065353216);
    }
    if (EventFlag(53)) {
        InitializeCommonEvent(0, 90005694, 1038542200, 1038541200, 200, 0, 802003230, 1065353216, 0, 1065353216);
    }
    if (EventFlag(52)) {
        InitializeCommonEvent(0, 90005694, 1038542200, 1038541200, 200, 0, 802003220, 1065353216, 0, 1065353216);
    }
    if (EventFlag(51)) {
        InitializeCommonEvent(0, 90005694, 1038542200, 1038541200, 200, 0, 802003210, 1065353216, 0, 1065353216);
    }
    if (EventFlag(50)) {
        InitializeCommonEvent(0, 90005694, 1038542200, 1038541200, 200, 0, 802003200, 1065353216, 0, 1065353216);
    }
    if (EventFlag(57)) {
        InitializeCommonEvent(0, 90005694, 1038542201, 1038541201, 200, 0, 802003270, 1065353216, 0, 1065353216);
    }
    if (EventFlag(56)) {
        InitializeCommonEvent(0, 90005694, 1038542201, 1038541201, 200, 0, 802003260, 1065353216, 0, 1065353216);
    }
    if (EventFlag(55)) {
        InitializeCommonEvent(0, 90005694, 1038542201, 1038541201, 200, 0, 802003250, 1065353216, 0, 1065353216);
    }
    if (EventFlag(54)) {
        InitializeCommonEvent(0, 90005694, 1038542201, 1038541201, 200, 0, 802003240, 1065353216, 0, 1065353216);
    }
    if (EventFlag(53)) {
        InitializeCommonEvent(0, 90005694, 1038542201, 1038541201, 200, 0, 802003230, 1065353216, 0, 1065353216);
    }
    if (EventFlag(52)) {
        InitializeCommonEvent(0, 90005694, 1038542201, 1038541201, 200, 0, 802003220, 1065353216, 0, 1065353216);
    }
    if (EventFlag(51)) {
        InitializeCommonEvent(0, 90005694, 1038542201, 1038541201, 200, 0, 802003210, 1065353216, 0, 1065353216);
    }
    if (EventFlag(50)) {
        InitializeCommonEvent(0, 90005694, 1038542201, 1038541201, 200, 0, 802003200, 1065353216, 0, 1065353216);
    }
    if (EventFlag(57)) {
        InitializeCommonEvent(0, 90005694, 1038542202, 1038541202, 200, 0, 802003270, 1065353216, 0, 1065353216);
    }
    if (EventFlag(56)) {
        InitializeCommonEvent(0, 90005694, 1038542202, 1038541202, 200, 0, 802003260, 1065353216, 0, 1065353216);
    }
    if (EventFlag(55)) {
        InitializeCommonEvent(0, 90005694, 1038542202, 1038541202, 200, 0, 802003250, 1065353216, 0, 1065353216);
    }
    if (EventFlag(54)) {
        InitializeCommonEvent(0, 90005694, 1038542202, 1038541202, 200, 0, 802003240, 1065353216, 0, 1065353216);
    }
    if (EventFlag(53)) {
        InitializeCommonEvent(0, 90005694, 1038542202, 1038541202, 200, 0, 802003230, 1065353216, 0, 1065353216);
    }
    if (EventFlag(52)) {
        InitializeCommonEvent(0, 90005694, 1038542202, 1038541202, 200, 0, 802003220, 1065353216, 0, 1065353216);
    }
    if (EventFlag(51)) {
        InitializeCommonEvent(0, 90005694, 1038542202, 1038541202, 200, 0, 802003210, 1065353216, 0, 1065353216);
    }
    if (EventFlag(50)) {
        InitializeCommonEvent(0, 90005694, 1038542202, 1038541202, 200, 0, 802003200, 1065353216, 0, 1065353216);
    }
    if (EventFlag(57)) {
        InitializeCommonEvent(0, 90005694, 1038542203, 1038541203, 200, 0, 802003270, 1065353216, 0, 1065353216);
    }
    if (EventFlag(56)) {
        InitializeCommonEvent(0, 90005694, 1038542203, 1038541203, 200, 0, 802003260, 1065353216, 0, 1065353216);
    }
    if (EventFlag(55)) {
        InitializeCommonEvent(0, 90005694, 1038542203, 1038541203, 200, 0, 802003250, 1065353216, 0, 1065353216);
    }
    if (EventFlag(54)) {
        InitializeCommonEvent(0, 90005694, 1038542203, 1038541203, 200, 0, 802003240, 1065353216, 0, 1065353216);
    }
    if (EventFlag(53)) {
        InitializeCommonEvent(0, 90005694, 1038542203, 1038541203, 200, 0, 802003230, 1065353216, 0, 1065353216);
    }
    if (EventFlag(52)) {
        InitializeCommonEvent(0, 90005694, 1038542203, 1038541203, 200, 0, 802003220, 1065353216, 0, 1065353216);
    }
    if (EventFlag(51)) {
        InitializeCommonEvent(0, 90005694, 1038542203, 1038541203, 200, 0, 802003210, 1065353216, 0, 1065353216);
    }
    if (EventFlag(50)) {
        InitializeCommonEvent(0, 90005694, 1038542203, 1038541203, 200, 0, 802003200, 1065353216, 0, 1065353216);
    }
});
