// ==EMEVD==
// @docs    er-common.emedf.json
// @compress    DCX_KRAK
// @game    Sekiro
// @string    "N:\\GR\\data\\Param\\event\\common_func.emevd\u0000N:\\GR\\data\\Param\\event\\common_macro.emevd\u0000\u0000\u0000\u0000\u0000\u0000"
// @linked    [0,82]
// @version    3.4.2
// ==/EMEVD==

$Event(0, Default, function() {
    RegisterBonfire(2051450000, 2051451950, 0, 0, 0, 5);
    InitializeEvent(0, 2051452810, 2051450701);
    InitializeEvent(0, 2051452811, 2051450701);
    InitializeEvent(0, 2051452812, 2051450720);
    InitializeEvent(0, 2051452800, 2051450720);
    InitializeEvent(0, 2051452849, 0);
    InitializeEvent(0, 2051452311, 0);
    InitializeEvent(0, 2051452814, 2051450720);
    InitializeEvent(0, 2051452310, 0);
    InitializeEvent(0, 2051452320, 2051450300, 2051452300);
    InitializeEvent(1, 2051452320, 2051450301, 2051452301);
    InitializeEvent(2, 2051452320, 2051450302, 2051452302);
    InitializeEvent(3, 2051452320, 2051450303, 2051452303);
    InitializeEvent(4, 2051452320, 2051450304, 2051452304);
    InitializeEvent(5, 2051452320, 2051450305, 2051452305);
    InitializeEvent(6, 2051452320, 2051450306, 2051452306);
    InitializeEvent(7, 2051452320, 2051450307, 2051452307);
    InitializeEvent(8, 2051452320, 2051450308, 2051452308);
    InitializeEvent(9, 2051452320, 2051450309, 2051452309);
    InitializeEvent(0, 2051452839, 0);
    InitializeCommonEvent(0, 90005250, 2051450221, 2051452221, 0, -1);
    InitializeCommonEvent(0, 90005250, 2051450222, 2051452222, 0, -1);
    InitializeCommonEvent(0, 90005250, 2051450223, 2051452223, 0, -1);
    InitializeEvent(0, 2051452205, 2051450250, 2051452250, 2051452270, 1073741824, 2051450251);
    InitializeEvent(0, 2051452200, 2051450390, 12603, 2051452399, 2051452398, 2051452397);
    InitializeCommonEvent(0, 90005300, 2051450390, 2051450390, 40906, 0, 0);
    InitializeEvent(0, 2051452600, 0);
    InitializeEvent(0, 2051452601, 0);
    InitializeEvent(0, 2051452698, 0);
    InitializeEvent(0, 2051452580, 0);
    InitializeCommonEvent(0, 90005515, 2051458560, 2051451560);
    InitializeCommonEvent(0, 900005610, 2051451654, 100, 800, 0);
    InitializeCommonEvent(0, 900005610, 2051451655, 100, 800, 0);
    InitializeCommonEvent(0, 900005610, 2051451656, 100, 800, 0);
    InitializeCommonEvent(0, 900005610, 2051451657, 100, 800, 0);
    InitializeCommonEvent(0, 90005790, 0, 2051450180, 2051452181, 2051452182, 2051450730, 22, 2051452730, 2051452731, 0, 2051459739, 0, 0);
    InitializeCommonEvent(0, 90005791, 2051450180, 2051452181, 2051452182, 2051450730);
    InitializeCommonEvent(0, 90005792, 2051450180, 2051452181, 2051452182, 2051450730, 0, 0);
    InitializeCommonEvent(0, 90005793, 2051450180, 2051452181, 2051452182, 2051450730, 2051452730, 2051452732, 0);
    InitializeCommonEvent(0, 90005774, 2051450180, 106720, 400672);
    InitializeEvent(0, 2051450700, 2051450700, 4320, 4325, 90100, 2051452730, 2051459722, 4338, 2051450800, 2051459725);
    InitializeEvent(0, 2051450702, 4320, 2051452730, 4338);
    InitializeEvent(0, 2051450722, 2051459721, 2051450180);
    InitializeCommonEvent(0, 90005734, 4325, 2051459739, 2051452731, 2051452731, 2051459739, -1);
    InitializeEvent(0, 2051450704, 2051450701, 4322, 4323, 4326, 4338, 1114636288, 2051452706);
    InitializeEvent(0, 2051450701, 2051450702, 4320, 4326, 90102, 2051450800, 2051459747, 2051459748, 90105, 2051459732);
    InitializeEvent(0, 2051450706, 2051451500, 209523, 2051459724, 2051452706, 2051450800, 25000800);
    InitializeEvent(0, 2051450705, 2051452709, 2051452811, 2051450800, 2051452701);
    InitializeEvent(0, 2051450721, 2051450702, 2051459747, 2051459748, 1092616192, 90205, 1082130432, 2051459734, 2051459742, 1092616192);
    InitializeCommonEvent(0, 90005750, 2051451703, 4350, 106710, 400671, 400671, 2051459742, 6102);
    InitializeEvent(0, 2051450707, 2051452720, 2051452721, 2051452722, 2051450702, 711, 2051451702, 711, 1051931443, 90216, -1, -1, 1066192077, 1075419546, 2051459727, 2051452725, 2051459729, 1028443341, 2051459743, 90217, 2051459744);
    InitializeEvent(0, 2051450708, 2051452723, 2051452724, 2051452722, 2051450702, 90202, 1, -1, 9600, 0, 2051459743, 90203, 2051459744);
    InitializeEvent(0, 2051450709, 2051452725, 2051459728, 1028443341);
    InitializeEvent(0, 2051450703, 4323, 2051452705, 4338);
    InitializeEvent(0, 2051450710, 2051450710, 4500, 4505, 90100, 2051452719, 2051459725, 2051459223, 2051459214, 2051459215, 2051459209, 2051459225, 90101, 1113325568, 2051452711, 2051452718, 2051459234);
    InitializeEvent(0, 2051450711, 2051450720, 4506, 4502, 4503, 2051452709, 1119092736, 2051452701);
    InitializeEvent(0, 2051450715, 2051451500, 1, 464032, 2051450800, 2051459213, 2051459725, 25000800, 4506, 2051452719, 2051459230, 2051453570);
    InitializeEvent(0, 2051450712, 4505, 2051459725, 2051452716, 2051452716, 2051452719, 2051451500, 1, 464032, 2051459217);
    InitializeEvent(0, 2051450713, 2051459217, 2051452719, 2051459725);
    InitializeEvent(0, 2051450714, 2051459205, 2051452730);
    InitializeEvent(0, 2051450716, 2051459203, 2051452731, 2051452732);
    InitializeEvent(0, 2051450717, 25000800, 2051452732);
    InitializeEvent(0, 2051450718, 2051450800, 2051452731);
    InitializeEvent(0, 2051450719, 2051459206, 2050400600, 2053460600);
    InitializeCommonEvent(0, 90005747, 2051450800, 4506, 2051452734, 1106247680, 2051452733, 0, 0);
    InitializeCommonEvent(0, 90005734, 4505, 2051459238, 2051452715, 2051452715, 2051452714, 0);
    InitializeCommonEvent(0, 90005734, 4505, 2051459225, 2051452710, 2051452710, 2051452713, 0);
    InitializeCommonEvent(0, 90005734, 4505, 2051459216, 2051452716, 2051452716, 2051459216, -1);
    InitializeCommonEvent(0, 90005744, 2051450710, 2051459246, 2051459246, 90200);
    InitializeCommonEvent(0, 90005744, 2051450710, 2051459202, 2051459202, 90204);
    InitializeCommonEvent(0, 90005744, 2051450710, 2051459201, 2051459201, 90205);
    InitializeCommonEvent(0, 90005744, 2051450710, 2051459249, 2051459249, 90200);
    InitializeCommonEvent(0, 90005744, 2051450710, 2051459248, 2051459248, 90201);
    InitializeCommonEvent(0, 90005702, 2051450720, 4503, 4500, 4504);
    InitializeEvent(0, 2051450725, 2051459250, 2051452739, 2051450800);
    InitializeEvent(0, 2051450990, 0);
});

//throne interaction info message
$Event(2051450990, Restart, function() {
    if (EventFlag(1049308207)) {
        DisplayBlinkingMessage(80866);
    }
});

$Event(200, Default, function() {
    InitializeCommonEvent(0, 90005301, -2043517016, -2043517016, 2051450700, 1082130432, 0);
});

$Event(250, Default, function() {
    InitializeCommonEvent(0, 90005431, -2043517016);
    InitializeCommonEvent(0, 90005432, -2043517016, -2043515016);
    InitializeCommonEvent(0, 90005435, -2043517016, -2043515015, -2043515014, -2043515013, -2043515012);
    InitializeCommonEvent(0, 90005436, -2043517016, 2051452291, 2051452292);
    InitializeCommonEvent(0, 90005437, -2043517016, -2043515008, -2043515007);
});

$Event(2051452200, Default, function(X0_4, X4_4, X8_4, X12_4, X16_4) {
    EndIf(CharacterDead(X0_4));
    WaitFor(CharacterHasSpEffect(X0_4, X4_4) && !CharacterDead(X0_4));
    SetEventFlagID(2051452201, OFF);
    SetEventFlagID(2051452202, OFF);
    WaitFixedTimeFrames(1);
    RandomlySetEventFlagInRange(2051452201, 2051452202, ON);
    WaitFixedTimeFrames(1);
    GotoIf(L1, InArea(X0_4, X8_4));
    GotoIf(L2, InArea(X0_4, X12_4));
    GotoIf(L3, InArea(X0_4, X16_4));
L1:
    GotoIf(S0, EventFlag(2051452201));
    Goto(S1);
S0:
    WarpCharacterAndCopyFloor(X0_4, TargetEntityType.Area, X12_4, -1, X0_4);
    ForceAnimationPlayback(X0_4, 20025, true, true, false);
    Goto(L0);
S1:
    WarpCharacterAndCopyFloor(X0_4, TargetEntityType.Area, X16_4, -1, X0_4);
    ForceAnimationPlayback(X0_4, 20025, true, true, false);
    Goto(L0);
L2:
    GotoIf(S2, EventFlag(2051452201));
    Goto(S3);
S2:
    WarpCharacterAndCopyFloor(X0_4, TargetEntityType.Area, X8_4, -1, X0_4);
    ForceAnimationPlayback(X0_4, 20025, true, true, false);
    Goto(L0);
S3:
    WarpCharacterAndCopyFloor(X0_4, TargetEntityType.Area, X16_4, -1, X0_4);
    ForceAnimationPlayback(X0_4, 20025, true, true, false);
    Goto(L0);
L3:
    GotoIf(S4, EventFlag(2051452201));
    Goto(S5);
S4:
    WarpCharacterAndCopyFloor(X0_4, TargetEntityType.Area, X8_4, -1, X0_4);
    ForceAnimationPlayback(X0_4, 20025, true, true, false);
    Goto(L0);
S5:
    WarpCharacterAndCopyFloor(X0_4, TargetEntityType.Area, X12_4, -1, X0_4);
    ForceAnimationPlayback(X0_4, 20025, true, true, false);
    Goto(L0);
L0:
    RequestCharacterAIReplan(X0_4);
    WaitFixedTimeSeconds(1);
    RestartEvent();
});

$Event(2051452205, Restart, function(X0_4, X4_4, X8_4, X12_4, X16_4) {
    if (!CharacterHasSpEffect(X0_4, 20011469)) {
        SetSpEffect(X0_4, 20011469);
    }
    DisableCharacterCollision(X16_4);
    DisableCharacterGravity(X16_4);
    DisableCharacterAI(X16_4);
    DisableLockOnPoint(X16_4, 220);
    WaitFor(
        ((CharacterType(10000, TargetType.BlackPhantom) && CharacterHasSpEffect(10000, 3710))
            || CharacterType(10000, TargetType.Alive)
            || CharacterType(10000, TargetType.BluePhantom)
            || CharacterType(10000, TargetType.WhitePhantom))
            && (InArea(10000, X4_4) || EntityInRadiusOfEntity(10000, X0_4, X12_4, 1)));
    if (EntityInRadiusOfEntity(10000, X0_4, X12_4, 1)
        || InArea(10000, X8_4)
        || HasDamageType(X0_4, 0, DamageType.Unspecified)
        || CharacterHasStateInfo(X0_4, 436)
        || CharacterHasStateInfo(X0_4, 2)
        || CharacterHasStateInfo(X0_4, 5)
        || CharacterHasStateInfo(X0_4, 6)
        || CharacterHasStateInfo(X0_4, 260)) {
        SetSpEffect(X16_4, 20013351);
        ForceAnimationPlayback(X0_4, 3020, false, false, false);
        EndEvent();
    }
L0:
    SetSpEffect(X0_4, 20011467);
    if (!CharacterHasSpEffect(X0_4, 5025)) {
        ForceAnimationPlayback(X0_4, 3000, false, false, false);
    }
    WaitFixedTimeSeconds(0.1);
    RestartEvent();
});

$Event(2051452310, Restart, function() {
    if (!EventFlag(2051452300)) {
        ForceAnimationPlayback(2051450300, 30000, false, false, false);
    }
    if (!EventFlag(2051452301)) {
        ForceAnimationPlayback(2051450301, 30000, false, false, false);
    }
    if (!EventFlag(2051452302)) {
        ForceAnimationPlayback(2051450302, 30000, false, false, false);
    }
    if (!EventFlag(2051452303)) {
        ForceAnimationPlayback(2051450303, 30000, false, false, false);
    }
    if (!EventFlag(2051452304)) {
        ForceAnimationPlayback(2051450304, 30000, false, false, false);
    }
    if (!EventFlag(2051452305)) {
        ForceAnimationPlayback(2051450305, 30000, false, false, false);
    }
    if (!EventFlag(2051452306)) {
        ForceAnimationPlayback(2051450306, 30000, false, false, false);
    }
    if (!EventFlag(2051452307)) {
        ForceAnimationPlayback(2051450307, 30000, false, false, false);
    }
    if (!EventFlag(2051452308)) {
        ForceAnimationPlayback(2051450308, 30000, false, false, false);
    }
    if (!EventFlag(2051452309)) {
        ForceAnimationPlayback(2051450309, 30000, false, false, false);
    }
    WaitFor(CharacterHasSpEffect(2051450720, 20018650));
    if (!EventFlag(2051452300)) {
        SetEventFlagID(2051452300, ON);
        EnableLockOnPoint(2051450300, 220);
        IncrementEventValue(2051452312, 5, 10);
        EnableCharacterAI(2051450300);
        ForceAnimationPlayback(2051450300, 20006, false, false, false);
        IssueShortWarpRequest(2051450300, TargetEntityType.Character, 2051450720, 615);
        ActivateMultiplayerdependantBuffs(2051450300);
        SetNetworkUpdateRate(2051450300, true, CharacterUpdateFrequency.AlwaysUpdate);
    } else if (!EventFlag(2051452301)) {
        SetEventFlagID(2051452301, ON);
        EnableLockOnPoint(2051450301, 220);
        IncrementEventValue(2051452312, 5, 10);
        EnableCharacterAI(2051450301);
        ForceAnimationPlayback(2051450301, 20006, false, false, false);
        IssueShortWarpRequest(2051450301, TargetEntityType.Character, 2051450720, 615);
        ActivateMultiplayerdependantBuffs(2051450301);
        SetNetworkUpdateRate(2051450301, true, CharacterUpdateFrequency.AlwaysUpdate);
    } else if (!EventFlag(2051452302)) {
        SetEventFlagID(2051452302, ON);
        EnableLockOnPoint(2051450302, 220);
        IncrementEventValue(2051452312, 5, 10);
        EnableCharacterAI(2051450302);
        ForceAnimationPlayback(2051450302, 20006, false, false, false);
        IssueShortWarpRequest(2051450302, TargetEntityType.Character, 2051450720, 615);
        ActivateMultiplayerdependantBuffs(2051450302);
        SetNetworkUpdateRate(2051450302, true, CharacterUpdateFrequency.AlwaysUpdate);
    } else if (!EventFlag(2051452303)) {
        SetEventFlagID(2051452303, ON);
        EnableLockOnPoint(2051450303, 220);
        IncrementEventValue(2051452312, 5, 10);
        EnableCharacterAI(2051450303);
        ForceAnimationPlayback(2051450303, 20006, false, false, false);
        IssueShortWarpRequest(2051450303, TargetEntityType.Character, 2051450720, 615);
        ActivateMultiplayerdependantBuffs(2051450303);
        SetNetworkUpdateRate(2051450303, true, CharacterUpdateFrequency.AlwaysUpdate);
    } else if (!EventFlag(2051452304)) {
        SetEventFlagID(2051452304, ON);
        EnableLockOnPoint(2051450304, 220);
        IncrementEventValue(2051452312, 5, 10);
        EnableCharacterAI(2051450304);
        ForceAnimationPlayback(2051450304, 20006, false, false, false);
        IssueShortWarpRequest(2051450304, TargetEntityType.Character, 2051450720, 615);
        ActivateMultiplayerdependantBuffs(2051450304);
        SetNetworkUpdateRate(2051450304, true, CharacterUpdateFrequency.AlwaysUpdate);
    } else if (!EventFlag(2051452305)) {
        SetEventFlagID(2051452305, ON);
        EnableLockOnPoint(2051450305, 220);
        IncrementEventValue(2051452312, 5, 10);
        EnableCharacterAI(2051450305);
        ForceAnimationPlayback(2051450305, 20006, false, false, false);
        IssueShortWarpRequest(2051450305, TargetEntityType.Character, 2051450720, 615);
        ActivateMultiplayerdependantBuffs(2051450305);
        SetNetworkUpdateRate(2051450305, true, CharacterUpdateFrequency.AlwaysUpdate);
    } else if (!EventFlag(2051452306)) {
        SetEventFlagID(2051452306, ON);
        EnableLockOnPoint(2051450306, 220);
        IncrementEventValue(2051452312, 5, 10);
        EnableCharacterAI(2051450306);
        ForceAnimationPlayback(2051450306, 20006, false, false, false);
        IssueShortWarpRequest(2051450306, TargetEntityType.Character, 2051450720, 615);
        ActivateMultiplayerdependantBuffs(2051450306);
        SetNetworkUpdateRate(2051450306, true, CharacterUpdateFrequency.AlwaysUpdate);
    } else if (!EventFlag(2051452307)) {
        SetEventFlagID(2051452307, ON);
        EnableLockOnPoint(2051450307, 220);
        IncrementEventValue(2051452312, 5, 10);
        EnableCharacterAI(2051450307);
        ForceAnimationPlayback(2051450307, 20006, false, false, false);
        IssueShortWarpRequest(2051450307, TargetEntityType.Character, 2051450720, 615);
        ActivateMultiplayerdependantBuffs(2051450307);
        SetNetworkUpdateRate(2051450307, true, CharacterUpdateFrequency.AlwaysUpdate);
    } else if (!EventFlag(2051452308)) {
        SetEventFlagID(2051452308, ON);
        EnableLockOnPoint(2051450308, 220);
        IncrementEventValue(2051452312, 5, 10);
        EnableCharacterAI(2051450308);
        ForceAnimationPlayback(2051450308, 20006, false, false, false);
        IssueShortWarpRequest(2051450308, TargetEntityType.Character, 2051450720, 615);
        ActivateMultiplayerdependantBuffs(2051450308);
        SetNetworkUpdateRate(2051450308, true, CharacterUpdateFrequency.AlwaysUpdate);
    } else if (!EventFlag(2051452309)) {
        SetEventFlagID(2051452309, ON);
        EnableLockOnPoint(2051450309, 220);
        IncrementEventValue(2051452312, 5, 10);
        EnableCharacterAI(2051450309);
        ForceAnimationPlayback(2051450309, 20006, false, false, false);
        IssueShortWarpRequest(2051450309, TargetEntityType.Character, 2051450720, 615);
        ActivateMultiplayerdependantBuffs(2051450309);
        SetNetworkUpdateRate(2051450309, true, CharacterUpdateFrequency.AlwaysUpdate);
        Goto(L20);
    }
L20:
    WaitFixedTimeSeconds(0.1);
    RestartEvent();
});

$Event(2051452311, Restart, function() {
    EndIf(!PlayerIsInOwnWorld());
    SetSpEffect(2051450720, 20018693);
    ClearSpEffect(2051450720, 20018711);
    WaitFor(EventValue(2051452312, 5) >= 8);
    ClearSpEffect(2051450720, 20018693);
    SetSpEffect(2051450720, 20018711);
    WaitFor(EventValue(2051452312, 5) < 8);
    RestartEvent();
});

$Event(2051452320, Restart, function(X0_4, X4_4) {
    EndIf(!PlayerIsInOwnWorld());
    WaitFor(CharacterDead(X0_4) && EventFlag(X4_4));
    ClearCharactersAITarget(X0_4);
    DisableLockOnPoint(X0_4, 220);
    ForceAnimationPlayback(X0_4, 30000, false, false, false);
    WaitFixedTimeSeconds(3);
    SetNetworkconnectedEventFlagID(X4_4, OFF);
    EventValueOperation(2051452312, 5, 1, 0, 1, CalculationType.Sub);
    RestartEvent();
});

$Event(2051452698, Restart, function() {
    DisableNetworkSync();
    WaitFor(
        !HasMultiplayerState(MultiplayerState.Invasion)
            && InArea(20000, 2051452698)
            && !EventFlag(2051452820)
            && EventFlag(2051459203));
    SetSpEffect(20000, 9621);
    WaitFixedTimeSeconds(0.1);
    WaitFor(
        !InArea(20000, 2051452698)
            || HasMultiplayerState(MultiplayerState.Invasion)
            || EventFlag(2051452820)
            || !EventFlag(2051459203));
    WaitFixedTimeSeconds(0.1);
    ClearSpEffect(20000, 9621);
    RestartEvent();
});

$Event(2051452810, Restart, function(X0_4) {
    DisableCharacter(X0_4);
    DisableCharacterCollision(X0_4);
    DisableCharacterGravity(X0_4);
    DisableCharacterAI(X0_4);
    EnableCharacterFadeOnEnable(X0_4);
    if (PlayerIsInOwnWorld()) {
        SetNetworkUpdateAuthority(X0_4, AuthorityLevel.Forced);
    }
    EndIf(EventFlag(2051450800));
    DisableCharacter(X0_4);
    DisableCharacterCollision(X0_4);
    DisableCharacterGravity(X0_4);
    DisableCharacterAI(X0_4);
    SetCharacterTeamType(X0_4, TeamType.Disabled);
    EnableCharacterImmortality(X0_4);
    WaitFixedTimeFrames(1);
    WaitFor(EventFlag(2051452424) && CharacterBackreadStatus(X0_4));
    SendInvadingPhantomsHome(0);
    SetNetworkUpdateRate(X0_4, true, CharacterUpdateFrequency.AlwaysUpdate);
    SetSpEffect(X0_4, 110);
    SetSpEffect(X0_4, 111);
    EnableCharacter(X0_4);
    EnableCharacterCollision(X0_4);
    EnableCharacterInvincibility(X0_4);
    ForceAnimationPlayback(X0_4, 90200, false, true, false);
    SetCharacterMaphit(X0_4, true);
    EnableCharacterGravity(X0_4);
    DisableCharacterInvincibility(X0_4);
    EnableCharacterAI(X0_4);
    RequestCharacterAIReplan(X0_4);
    ClearCharactersAITarget(X0_4);
    EnableCharacterHPBarDisplay(X0_4);
    SetCharacterTeamType(X0_4, TeamType.Enemy);
    SetCharacterEventTarget(X0_4, 10000);
    DisplayNetworkMessage(4080830, false);
    SetNetworkconnectedEventFlagID(2051452820, ON);
    EndEvent();
});

$Event(2051452811, Restart, function(X0_4) {
    EndIf(EventFlag(2051450800));
    WaitFor(PlayerIsInOwnWorld() && CharacterBackreadStatus(X0_4) && HPRatio(X0_4) <= 0);
L10:
    WaitFixedTimeSeconds(5);
    SetEventFlagID(2051452811, ON);
    DisplayNetworkMessage(4080832, false);
    EndEvent();
});

$Event(2051452812, Restart, function(X0_4) {
    DisableCharacter(X0_4);
    DisableCharacterCollision(X0_4);
    DisableCharacterGravity(X0_4);
    DisableCharacterAI(X0_4);
    if (PlayerIsInOwnWorld()) {
        SetNetworkUpdateAuthority(X0_4, AuthorityLevel.Forced);
    }
    EndIf(EventFlag(2051450800));
    SetSpEffect(X0_4, 18677);
    EnableCharacter(X0_4);
    DisableCharacterCollision(X0_4);
    DisableCharacterGravity(X0_4);
    DisableCharacterAI(X0_4);
    SetCharacterTeamType(X0_4, TeamType.Disabled);
    EnableCharacterImmortality(X0_4);
    WaitFor(EventFlag(2051452709) && CharacterBackreadStatus(X0_4));
    if (PlayerIsInOwnWorld()) {
        SendInvadingPhantomsHome(0);
    }
    EnableCharacter(X0_4);
    EnableCharacterCollision(X0_4);
    SetSpEffect(X0_4, 18677);
    SetNetworkUpdateRate(X0_4, true, CharacterUpdateFrequency.AlwaysUpdate);
    SetSpEffect(X0_4, 110);
    SetSpEffect(X0_4, 111);
    WaitFixedTimeSeconds(4);
    ClearSpEffect(X0_4, 18677);
    EnableCharacterInvincibility(X0_4);
    ForceAnimationPlayback(X0_4, 90202, false, true, false);
    EndIf(!PlayerIsInOwnWorld());
    SetNetworkconnectedEventFlagID(2051452813, ON);
    EnableCharacterCollision(X0_4);
    SetCharacterMaphit(X0_4, true);
    EnableCharacterGravity(X0_4);
    DisableCharacterInvincibility(X0_4);
    EnableCharacterAI(X0_4);
    RequestCharacterAIReplan(X0_4);
    ClearCharactersAITarget(X0_4);
    DisplayBossHealthBar(Enabled, X0_4, 0, 142001);
    SetCharacterTeamType(X0_4, TeamType.Enemy);
    SetCharacterEventTarget(X0_4, 10000);
    EndEvent();
});

$Event(2051452814, Restart, function(X0_4) {
    EndIf(EventFlag(2051450800));
    EndIf(PlayerIsInOwnWorld());
    WaitFor(EventFlag(2051452813));
    EnableCharacterCollision(X0_4);
    SetCharacterMaphit(X0_4, true);
    EnableCharacterGravity(X0_4);
    DisableCharacterInvincibility(X0_4);
    EnableCharacterAI(X0_4);
    RequestCharacterAIReplan(X0_4);
    ClearCharactersAITarget(X0_4);
    DisplayBossHealthBar(Enabled, X0_4, 0, 142001);
    SetCharacterTeamType(X0_4, TeamType.Enemy);
});

$Event(2051452800, Restart, function(X0_4) {
    EndIf(EventFlag(2051450800));
    WaitFor(PlayerIsInOwnWorld() && CharacterBackreadStatus(X0_4) && HPRatio(X0_4) <= 0);
    ForceCharacterDeath(2051455300, false);
L10:
    WaitFixedTimeSeconds(8);
    HandleBossDefeatAndDisplayBanner(X0_4, TextBannerType.EnemyFelled);
    //roundtable warp
    WaitFixedTimeSeconds(6);
    WarpPlayer(11, 10, 0, 0, 11102021, 0);
});

$Event(2051452839, Restart, function() {
    EndIf(!PlayerIsInOwnWorld());
    SetEventFlagID(2051450839, ON);
    EndIf(EventFlag(2051450800));
    EndIf(!EventFlag(25000800));
    SetEventFlagID(2051450839, OFF);
    WaitFor(EventFlag(2051450800));
    SetEventFlagID(2051450839, OFF);
    EndEvent();
});

$Event(2051452840, Restart, function() {
    if (!EventFlag(2051450800)) {
        WaitFixedTimeFrames(1);
L0:
        WaitFor((EventFlag(2051452424) && PlayerIsInOwnWorld()) || EventFlag(2051450800));
        if (PlayerIsInOwnWorld()) {
            SendInvadingPhantomsHome(0);
            RestartIf(EventFlag(2051450800));
L1:
            if (PlayerIsInOwnWorld()) {
                IssueBossRoomEntryNotification();
                SetNetworkUpdateAuthority(2051455800, AuthorityLevel.Forced);
            }
        }
L2:
        ActivateMultiplayerdependantBuffs(2051455800);
        SetNetworkconnectedEventFlagID(2051452805, ON);
        EndIf(!PlayerIsInOwnWorld());
        EndEvent();
    }
L10:
    EndEvent();
});

$Event(2051452841, Restart, function(X0_4, X4_4) {
    DisableNetworkSync();
    EndIf(EventFlag(2051450800));
    EndIf(PlayerIsInOwnWorld());
    WaitFor(EventFlag(2051452805));
    cond |= ActionButtonInArea(10000, X0_4) || InArea(10000, 2051452699);
    WaitFor(
        !EventFlag(2051450800)
            && EventFlag(2051452805)
            && CharacterType(10000, TargetType.WhitePhantom)
            && cond);
    if (!InArea(10000, 2051452699)) {
        SuppressSoundForFogGate(5);
        RotateCharacter(10000, X4_4, 60060, true);
        cond |= ElapsedSeconds(3);
        WaitFor(CharacterType(10000, TargetType.WhitePhantom) && (InArea(10000, X4_4) || cond));
        RestartIf(cond.Passed);
    }
L5:
    SetEventFlagID(2051452806, ON);
    RestartEvent();
});

$Event(2051452844, Restart, function(X0_4, X4_4) {
    DisableNetworkSync();
    DisableAsset(X0_4);
    DeleteAssetfollowingSFX(X0_4, true);
    WaitFor(EventFlag(2051452424) && !EventFlag(2051450800));
    EnableAsset(X0_4);
    DeleteAssetfollowingSFX(X0_4, true);
    CreateAssetfollowingSFX(X0_4, 101, X4_4);
    WaitFor(EventFlag(2051452424) && EventFlag(2051450800));
    RestartEvent();
});

$Event(2051452849, Restart, function() {
    InitializeEvent(0, 2051452840, 0);
    InitializeEvent(0, 2051452841, 2051451800, 2051452800);
    InitializeEvent(1, 2051452841, 2051451801, 2051452801);
    InitializeEvent(2, 2051452841, 2051451802, 2051452802);
    InitializeEvent(0, 2051452844, 2051451800, 3);
    InitializeEvent(1, 2051452844, 2051451801, 3);
    InitializeEvent(2, 2051452844, 2051451802, 1570);
});

$Event(2051452600, Default, function() {
    EndIf(!PlayerIsInOwnWorld());
    if (EventFlag(9440)) {
        if (EventFlag(2051450180)) {
            SetNetworkconnectedEventFlagID(2051452602, OFF);
            WaitFor(PlayerIsInOwnWorld() && ObjActEventFlag(2051453600));
            SendInvadingPhantomsHome(0);
            WaitFixedTimeSeconds(10);
            WarpCharacterAndCopyFloorWithFadeout(10000, TargetEntityType.Area, 25002600, -1, 25000800, false, true);
            WaitFixedTimeSeconds(3);
            EnableObjAct(2051451600, 52407);
            RestartEvent();
        }
    }
L9:
    DisableObjAct(2051451600, 52407);
    WaitFor(EventFlag(9440) && EventFlag(2051450180));
    EnableObjAct(2051451600, 52407);
    RestartEvent();
});

$Event(2051452601, Restart, function() {
    DisableNetworkSync();
    EndIf(PlayerIsInOwnWorld());
    WaitFor(EventFlag(2051452602));
    WarpCharacterAndCopyFloorWithFadeout(20000, TargetEntityType.Area, 25002601, 10, 25000800, false, true);
    SetEventFlagID(25002806, ON);
    EndEvent();
});

$Event(2051452580, Default, function() {
    RegisterLadder(2051450580, 2051450581, 2051451580);
});

$Event(2051450700, Restart, function(X0_4, X4_4, X8_4, X12_4, X16_4, X20_4, X24_4, X28_4, X32_4) {
    DisableNetworkSync();
    WaitFixedTimeFrames(1);
    if (PlayerIsInOwnWorld()) {
    }
L10:
    DisableCharacter(X0_4);
    SetCharacterBackreadState(X0_4, true);
    GotoIf(S1, !EventFlag(X8_4));
    GotoIf(S0, !EventFlag(X28_4));
    Goto(L20);
S0:
    GotoIf(S1, !EventFlag(X32_4));
    Goto(L20);
S1:
    if (!EventFlag(X8_4)) {
        WaitFor(EventFlag(X8_4));
        RestartEvent();
    }
L0:
    if (!EventFlag(X4_4)) {
    }
L1:
    GotoIf(S2, EventFlag(X16_4));
    Goto(L20);
S2:
    EnableCharacter(X0_4);
    SetCharacterBackreadState(X0_4, false);
    EnableCharacterInvincibility(X0_4);
    DisableCharacterGravity(X0_4);
    WaitFor(CharacterBackreadStatus(X0_4));
    ResetCharacterPosition(X0_4);
    WaitFixedTimeRealFrames(1);
    IssueShortWarpRequest(X0_4, TargetEntityType.Area, 2051452700, -1);
    SetEventFlagID(X20_4, ON);
    ForceAnimationPlayback(X0_4, X12_4, false, false, false);
    SetCharacterTeamType(X0_4, TeamType.FriendlyNPC);
    WaitFixedTimeRealFrames(1);
    Goto(L20);
L20:
    WaitFor(!EventFlag(X8_4) || EventFlag(X24_4));
    RestartEvent();
});

$Event(2051450701, Restart, function(X0_4, X4_4, X8_4, X12_4, X16_4, X20_4, X24_4, X28_4, X32_4) {
    DisableNetworkSync();
    WaitFixedTimeRealFrames(2);
    if (PlayerIsInOwnWorld()) {
    }
L10:
    DisableCharacter(X0_4);
    SetCharacterBackreadState(X0_4, true);
    flag = EventFlag(X8_4) && EventFlag(X16_4);
    if (!flag) {
        WaitFor(flag);
        if (!EventFlag(X32_4)) {
            SetEventFlagID(X32_4, ON);
            EndEvent();
        }
        RestartEvent();
    }
L0:
    if (!EventFlag(X4_4)) {
    }
L1:
    EndIf(EventFlag(X20_4));
    EnableCharacter(X0_4);
    SetCharacterBackreadState(X0_4, false);
    EnableCharacterInvincibility(X0_4);
    SetCharacterTeamType(X0_4, TeamType.FriendlyNPC);
    WaitFixedTimeRealFrames(1);
    WaitFor(CharacterBackreadStatus(X0_4));
    IssueShortWarpRequest(X0_4, TargetEntityType.Area, 2051452702, -1);
    WaitFixedTimeRealFrames(1);
    if (EventFlag(X24_4)) {
        ForceAnimationPlayback(X0_4, X28_4, false, false, false);
    } else {
        ForceAnimationPlayback(X0_4, X12_4, false, false, false);
        Goto(L20);
    }
L20:
    WaitFor(!EventFlag(X8_4) || !EventFlag(X16_4));
    RestartEvent();
});

$Event(2051450702, Restart, function(X0_4, X4_4, X8_4) {
    WaitFixedTimeFrames(1);
    EndIf(!PlayerIsInOwnWorld());
    EndIf(!EventFlag(X0_4));
    EndIf(EventFlag(X4_4));
    WaitFor(EventFlag(X4_4));
    SetEventFlagID(X8_4, ON);
    EndEvent();
});

$Event(2051450703, Restart, function(X0_4, X4_4, X8_4) {
    WaitFixedTimeFrames(1);
    EndIf(!PlayerIsInOwnWorld());
    EndIf(EventFlag(X0_4));
    WaitFor(EventFlag(X4_4));
    SetEventFlagID(X8_4, ON);
    EndEvent();
});

$Event(2051450704, Restart, function(X0_4, X4_4, X8_4, X12_4, X16_4, X20_4, X24_4) {
    DisableNetworkSync();
    WaitFixedTimeFrames(1);
    if (PlayerIsInOwnWorld()) {
    }
L10:
    WaitFor(EventFlag(X24_4));
    SetCharacterTalkRange(X0_4, X20_4);
    if (!EventFlag(X12_4)) {
        WaitFor(EventFlag(X12_4));
        RestartEvent();
    }
L0:
    GotoIf(L3, EventFlag(X4_4));
    GotoIf(L4, EventFlag(X8_4));
L1:
    Goto(L20);
L3:
    Goto(L20);
L4:
    DisableCharacter(X0_4);
    SetCharacterBackreadState(X0_4, true);
    Goto(L20);
L20:
    WaitFor(!EventFlag(X12_4) || EventFlag(X16_4));
    RestartEvent();
});

$Event(2051450705, Restart, function(X0_4, X4_4, X8_4, X12_4) {
    WaitFixedTimeFrames(1);
    EndIf(EventFlag(X8_4));
    WaitFor(EventFlag(X4_4) && EventFlag(X12_4));
    SetEventFlagID(X0_4, ON);
    EndEvent();
});

$Event(2051450706, Restart, function(X0_4, X4_4, X8_4, X12_4, X16_4, X20_4) {
    EndIf(!PlayerIsInOwnWorld());
    EndIf(EventFlag(X16_4));
    EndIf(!EventFlag(X20_4));
    SetEventFlagID(X8_4, OFF);
    SetNetworkconnectedEventFlagID(2051452424, OFF);
    WaitFor(ActionButtonInArea(X4_4, X0_4));
    SetEventFlagID(X8_4, ON);
    SetNetworkconnectedEventFlagID(X12_4, ON);
    SetNetworkconnectedEventFlagID(2051452424, ON);
    WaitFixedTimeSeconds(1);
    EndEvent();
});

$Event(2051450707, Restart, function(X0_4, X4_4, X8_4, X12_4, X16_4, X20_4, X24_2, X28_4, X32_4, X36_4, X40_4, X44_4, X48_4, X52_4, X56_4, X60_4, X64_4, X68_4, X72_4, X76_4) {
    EndIf(!PlayerIsInOwnWorld());
    SetEventFlagID(X60_4, OFF);
    WaitFor(EventFlag(X0_4));
    if (Signed(X16_4) != 0) {
        GotoIf(L0, X20_4 == 0);
        WarpAssetToCharacter(X20_4, X12_4, X24_2);
        WaitFixedTimeRealFrames(1);
        area &= EntityInRadiusOfEntity(10000, X20_4, X28_4, 1);
        GotoIf(S0, !area);
        SetEventFlagID(X4_4, ON);
        SetEventFlagID(X60_4, ON);
        Goto(L15);
S0:
        GotoIf(S1, 
            !(EntityInRadiusOfEntity(10000, X20_4, X44_4, 1)
                && EntityInRadiusOfEntity(10000, X12_4, X44_4, 1)));
        SetEventFlagID(X4_4, ON);
        SetEventFlagID(X60_4, ON);
        Goto(L15);
S1:
        RotateCharacter(10000, X20_4, -1, true);
        RotateCharacter(10000, X20_4, 90006, false);
        Goto(L8);
    }
L0:
    RotateCharacter(10000, X12_4, -1, true);
    area &= EntityInRadiusOfEntity(10000, X12_4, X28_4, 1);
    GotoIf(L9, area);
    RotateCharacter(10000, X12_4, 90006, false);
    Goto(L8);
L8:
    SetEventFlagID(X52_4, ON);
    WaitFixedTimeRealFrames(1);
    SetEventFlagID(X52_4, OFF);
    sp = !CharacterHasSpEffect(10000, 9900);
    flagTime = !EventFlag(X0_4) || ElapsedSeconds(X48_4);
    spFlagTimeArea |= sp || flagTime;
    if (Signed(X16_4) != 0) {
        GotoIf(S2, X20_4 == 0);
        spFlagTimeArea |= EntityInRadiusOfEntity(10000, X20_4, X28_4, 1);
    } else {
S2:
        spFlagTimeArea |= EntityInRadiusOfEntity(10000, X12_4, X28_4, 1);
    }
    WaitFor(spFlagTimeArea);
    GotoIf(L20, sp.Passed);
    GotoIf(L19, flagTime.Passed);
L9:
    SetEventFlagID(X4_4, ON);
    if (Signed(X16_4) != 0) {
        RequestCharacterAnimationReset(10000, Disabled);
        GotoIf(S3, EventFlag(X60_4));
        RotateCharacter(10000, X12_4, -1, true);
        RotateCharacter(10000, X12_4, X32_4, false);
        Goto(S4);
    }
S3:
    Goto(L15);
S4:
    SetEventFlagID(X56_4, ON);
    WaitFixedTimeSeconds(X64_4);
L15:
    if (X8_4 != 0) {
        SetEventFlagID(X8_4, ON);
    }
    if (Signed(X16_4) != 0) {
        IssueShortWarpRequest(10000, TargetEntityType.Character, X12_4, X16_4);
    }
    if (Signed(X40_4) != -1) {
        RotateCharacter(10000, X12_4, X32_4, false);
        Goto(S5);
    }
    GotoIf(S6, !EventFlag(X68_4));
S5:
    RotateCharacter(10000, X12_4, X32_4, true);
    Goto(L8);
S6:
    if (EventFlag(X76_4)) {
        RotateCharacter(10000, X12_4, X72_4, true);
        Goto(L8);
    }
L8:
    WaitFixedTimeRealFrames(1);
    sp2 = !CharacterHasSpEffect(10000, 9900);
    WaitFor(!EventFlag(X0_4) || sp2);
    if (!sp2.Passed) {
        if (Signed(X36_4) != -1) {
            if (Signed(X40_4) != -1) {
                sp3 = !CharacterHasSpEffect(10000, 9900);
                WaitFor(CharacterHasSpEffect(10000, X40_4) || sp3);
                GotoIf(L20, sp3.Passed);
            }
L10:
            SetEventFlagID(X4_4, OFF);
            ForceAnimationPlayback(10000, X36_4, false, true, false);
            RestartEvent();
        }
L18:
        SetEventFlagID(X4_4, OFF);
        RestartEvent();
    }
L19:
    SetEventFlagID(X0_4, OFF);
    ForceAnimationPlayback(10000, 0, false, false, false);
    RestartEvent();
L20:
    SetEventFlagID(X0_4, OFF);
    SetEventFlagID(X4_4, OFF);
    RestartEvent();
});

$Event(2051450708, Restart, function(X0_4, X4_4, X8_4, X12_4, X16_4, X20_4, X24_4, X28_4, X32_4, X36_4, X40_4, X44_4) {
    EndIf(!PlayerIsInOwnWorld());
    if (X8_4 != 0) {
        cond &= EventFlag(X8_4);
    }
    cond &= EventFlag(X0_4);
    WaitFor(cond);
    SetEventFlagID(X4_4, ON);
    if (X8_4 != 0) {
        SetEventFlagID(X8_4, OFF);
    }
    if (X20_4 != 1) {
        if (Signed(X28_4) != -1) {
            if (EventFlag(X36_4)) {
                ForceAnimationPlayback(X12_4, X16_4, false, false, false);
            }
            if (EventFlag(X44_4)) {
                ForceAnimationPlayback(X12_4, X40_4, false, false, false);
            }
            Goto(S0);
        }
        GotoIf(S1, !EventFlag(X36_4));
S0:
        ForceAnimationPlayback(X12_4, X16_4, false, false, false);
S1:
        if (EventFlag(X44_4)) {
            ForceAnimationPlayback(X12_4, X40_4, false, false, false);
        }
    } else {
L0:
        if (Signed(X28_4) != -1) {
            if (EventFlag(X36_4)) {
                RotateCharacter(X12_4, 10000, X16_4, false);
            }
            if (EventFlag(X44_4)) {
                RotateCharacter(X12_4, 10000, X40_4, false);
            }
            Goto(S2);
        }
        GotoIf(S3, !EventFlag(X36_4));
S2:
        RotateCharacter(X12_4, 10000, X16_4, false);
S3:
        if (EventFlag(X44_4)) {
            RotateCharacter(X12_4, 10000, X40_4, false);
        }
        Goto(L10);
    }
L10:
    cond &= !EventFlag(X0_4);
    if (Signed(X28_4) != -1) {
        cond &= CharacterHasSpEffect(X12_4, X28_4);
    }
    WaitFor(cond);
    if (Signed(X24_4) != -1) {
        SetEventFlagID(X4_4, OFF);
        WaitFixedTimeSeconds(X32_4);
        RestartEvent();
    }
L19:
    SetEventFlagID(X4_4, OFF);
    WaitFixedTimeSeconds(X32_4);
    RestartEvent();
L20:
    SetEventFlagID(X0_4, OFF);
    SetEventFlagID(X4_4, OFF);
    RestartEvent();
});

$Event(2051450709, Restart, function(X0_4, X4_4, X8_4) {
    WaitFixedTimeFrames(1);
    WaitFor(EventFlag(X0_4));
    SetEventFlagID(X4_4, ON);
    WaitFixedTimeSeconds(X8_4);
L0:
    SetEventFlagID(X0_4, OFF);
    SetEventFlagID(X4_4, OFF);
    RestartEvent();
});

$Event(2051450710, Restart, function(X0_4, X4_4, X8_4, X12_4, X16_4, X20_4, X24_4, X28_4, X32_4, X36_4, X40_4, X44_4, X48_4, X52_4, X56_4, X60_4) {
    DisableNetworkSync();
    WaitFixedTimeFrames(1);
    if (PlayerIsInOwnWorld()) {
    }
L10:
    DisableCharacter(X0_4);
    SetCharacterBackreadState(X0_4, true);
    SetCharacterTalkRange(X0_4, 17);
    SetEventFlagID(X56_4, OFF);
    GotoIf(S0, !EventFlag(X8_4));
    GotoIf(L20, EventFlag(X20_4));
S0:
    flag = EventFlag(X8_4) && !EventFlag(X16_4);
    if (!flag) {
        WaitFor(flag);
        RestartEvent();
    }
L0:
    GotoIf(L1, EventFlag(X4_4));
    Goto(L20);
L1:
    EnableCharacter(X0_4);
    SetCharacterBackreadState(X0_4, false);
    EnableCharacterInvincibility(X0_4);
    ForceAnimationPlayback(X0_4, X12_4, false, false, false);
    DisableCharacterGravity(X0_4);
    WaitFor(CharacterBackreadStatus(X0_4) && EventFlag(X4_4));
    WaitFixedTimeRealFrames(1);
    if (X52_4 == 0) {
        ResetCharacterPosition(X0_4);
    } else {
        IssueShortWarpRequest(X0_4, TargetEntityType.Area, X52_4, -1);
    }
    SetCharacterTeamType(X0_4, TeamType.FriendlyNPC);
    GotoIf(S1, EventFlag(X28_4));
    GotoIf(L20, !EventFlag(X24_4));
    SetEventFlagID(X28_4, ON);
    Goto(L20);
S1:
    GotoIf(L20, (EventFlag(X32_4) && EventFlag(X40_4)) || EventFlag(X60_4));
    SetEventFlagID(X32_4, ON);
    SetEventFlagID(X36_4, ON);
    ForceAnimationPlayback(X0_4, X44_4, false, false, false);
    SetCharacterTalkRange(X0_4, X48_4);
    Goto(L20);
L20:
    WaitFor(!EventFlag(X8_4) || EventFlag(X16_4));
    RestartEvent();
});

$Event(2051450721, Restart, function(X0_4, X4_4, X8_4, X12_4, X16_4, X20_4, X24_4, X28_4, X32_4) {
    WaitFixedTimeFrames(1);
    if (!EventFlag(X4_4)) {
        if (!EventFlag(X8_4)) {
L1:
            WaitFor(EventFlag(X4_4) || EventFlag(X8_4));
            if (EventFlag(X4_4)) {
                WaitFixedTimeSeconds(X12_4);
                SetEventFlagID(X24_4, ON);
                DisableCharacter(X0_4);
                WaitFixedTimeSeconds(X32_4);
                SetCharacterBackreadState(X0_4, true);
            } else {
                ForceAnimationPlayback(X0_4, X16_4, false, false, false);
                WaitFixedTimeSeconds(X20_4);
                SetEventFlagID(X24_4, ON);
            }
        }
    }
L20:
    if (EventFlag(X8_4)) {
        SetEventFlagID(X28_4, ON);
    }
    EndEvent();
});

$Event(2051450722, Restart, function(X0_4, X4_4) {
    DisableNetworkSync();
    WaitFixedTimeFrames(1);
    EndIf(EventFlag(X0_4));
    WaitFor(EventFlag(X4_4));
    SetEventFlagID(X0_4, ON);
    EndEvent();
});

$Event(2051450711, Restart, function(X0_4, X4_4, X8_4, X12_4, X16_4, X20_4, X24_4) {
    DisableNetworkSync();
    WaitFixedTimeFrames(1);
    if (PlayerIsInOwnWorld()) {
    }
L10:
    if (!EventFlag(X4_4)) {
        WaitFor(EventFlag(X4_4));
        RestartEvent();
    }
L0:
    GotoIf(L3, EventFlag(X8_4));
    GotoIf(L4, EventFlag(X12_4));
L1:
L3:
    WaitFor(EventFlag(X16_4) && EventFlag(X24_4));
    SetCharacterTalkRange(X0_4, X20_4);
    Goto(L20);
L4:
    DisableCharacter(X0_4);
    SetCharacterBackreadState(X0_4, true);
    Goto(L20);
L20:
    WaitFor(!EventFlag(X4_4));
    RestartEvent();
});

$Event(2051450712, Restart, function(X0_4, X4_4, X8_4, X12_4, X16_4, X20_4, X24_4, X28_4, X32_4) {
    WaitFixedTimeFrames(1);
    EndIf(!EventFlag(X0_4));
    if (EventFlag(X4_4)) {
        SetEventFlagID(X32_4, OFF);
        EndEvent();
    }
    WaitFor(!EventFlag(X16_4) && InArea(10000, X8_4));
    SetEventFlagID(X16_4, ON);
    if (PlayerIsInOwnWorld()) {
        SetEventFlagID(X32_4, ON);
    }
    ReproduceAssetAnimation(X20_4, X24_4);
    DisableObjAct(X20_4, X28_4);
    WaitFixedTimeFrames(1);
    WaitFor(!InArea(10000, X8_4) && !InArea(10000, X12_4));
    RestartEvent();
});

$Event(2051450713, Restart, function(X0_4, X4_4, X8_4) {
    EndIf(!PlayerIsInOwnWorld());
    EndIf(EventFlag(X8_4));
    WaitFixedTimeFrames(1);
    EndIf(EventFlag(X4_4));
    WaitFor(EventFlag(X0_4));
    SetNetworkconnectedEventFlagID(X4_4, ON);
    RestartEvent();
});

$Event(2051450714, Restart, function(X0_4, X4_4) {
    EndIf(!PlayerIsInOwnWorld());
    WaitFixedTimeFrames(1);
    EndIf(EventFlag(X4_4));
    WaitFor(EventFlag(X0_4));
    SetNetworkconnectedEventFlagID(X4_4, ON);
    RestartEvent();
});

$Event(2051450715, Restart, function(X0_4, X4_4, X8_4, X12_4, X16_4, X20_4, X24_4, X28_4, X32_4, X36_4, X40_4) {
    WaitFixedTimeFrames(2);
    if (!EventFlag(X32_4) || EventFlag(X24_4)) {
        flagObj &= EventFlag(X12_4) && EventFlag(2051452739);
        if (!flagObj) {
            SetEventFlagID(X16_4, OFF);
        }
    }
    flag = EventFlag(X12_4) && EventFlag(2051452739);
    flag2 = EventFlag(X16_4) && EventFlag(X16_4) && EventFlag(X32_4) && !EventFlag(X36_4);
    flag3 = EventFlag(X16_4) && !EventFlag(X20_4) && EventFlag(X32_4) && EventFlag(X36_4);
    flag4 = EventFlag(X20_4) && !EventFlag(X24_4);
    if (flag || flag3 || flag4 || flag2) {
        ReproduceAssetAnimation(X0_4, X4_4);
        DisableObjAct(X0_4, X8_4);
        EndEvent();
    }
    if (EventFlag(X28_4)) {
        ReproduceAssetAnimation(X0_4, 0);
        DisableObjAct(X0_4, X8_4);
        WaitFor(EventFlag(X12_4));
        EnableObjAct(X0_4, X8_4);
        WaitFor(ObjActEventFlag(X40_4));
        SetEventFlagID(X16_4, ON);
        SetEventFlagID(2051459250, ON);
        EndEvent();
    }
    if (!EventFlag(X32_4)) {
        ReproduceAssetAnimation(X0_4, 0);
        DisableObjAct(X0_4, X8_4);
        EndEvent();
    }
    if (EventFlag(X32_4)) {
        ReproduceAssetAnimation(X0_4, 0);
        EnableObjAct(X0_4, X8_4);
        EndIf(EventFlag(X16_4));
    }
    flagObj &= EventFlag(X36_4) && ObjActEventFlag(X40_4);
    WaitFor(flagObj || (EventFlag(X32_4) && ObjActEventFlag(X40_4)));
    SetEventFlagID(X16_4, ON);
    EndEvent();
});

$Event(2051450716, Restart, function(X0_4, X4_4, X8_4) {
    WaitFixedTimeFrames(1);
    SetNetworkconnectedEventFlagID(X0_4, ON);
    EndIf(EventFlag(X4_4));
    WaitFor(!EventFlag(X4_4) && EventFlag(X8_4));
    SetNetworkconnectedEventFlagID(X0_4, OFF);
    WaitFor(EventFlag(X4_4));
    RestartEvent();
});

$Event(2051450717, Restart, function(X0_4, X4_4) {
    EndIf(!PlayerIsInOwnWorld());
    WaitFixedTimeFrames(1);
    EndIf(EventFlag(X4_4));
    WaitFor(EventFlag(X0_4));
    SetNetworkconnectedEventFlagID(X4_4, ON);
    RestartEvent();
});

$Event(2051450718, Restart, function(X0_4, X4_4) {
    EndIf(!PlayerIsInOwnWorld());
    WaitFixedTimeFrames(1);
    EndIf(EventFlag(X4_4));
    WaitFor(EventFlag(X0_4));
    SetNetworkconnectedEventFlagID(X4_4, ON);
    RestartEvent();
});

$Event(2051450719, Restart, function(X0_4, X4_4, X8_4) {
    EndIf(!PlayerIsInOwnWorld());
    WaitFixedTimeFrames(1);
    EndIf(EventFlag(X0_4));
    WaitFor(EventFlag(X4_4) || EventFlag(X8_4));
    SetEventFlagID(X0_4, ON);
    RestartEvent();
});

$Event(2051450725, Restart, function(X0_4, X4_4, X8_4) {
    EndIf(!PlayerIsInOwnWorld());
    WaitFor(EventFlag(X8_4) && EventFlag(X0_4));
    SetNetworkconnectedEventFlagID(X4_4, ON);
});
