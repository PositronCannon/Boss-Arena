// ==EMEVD==
// @docs    er-common.emedf.json
// @compress    DCX_KRAK
// @game    Sekiro
// @string    "N:\\GR\\data\\Param\\event\\common_func.emevd\u0000N:\\GR\\data\\Param\\event\\m60.emevd\u0000N:\\GR\\data\\Param\\event\\common_macro.emevd\u0000\u0000\u0000\u0000\u0000"
// @linked    [0,82,148]
// @version    3.4.2
// ==/EMEVD==

$Event(0, Default, function() {
    InitializeCommonEvent(0, 90001001, 0);
    RegisterBonfire(1039440000, 1039441950, 0, 0, 0, 5);
    InitializeCommonEvent(0, 90005261, 1039440200, 1039442200, 1084227584, 0, -1);
    InitializeCommonEvent(0, 90005261, 1039440201, 1039442200, 1084227584, 1069547520, -1);
    InitializeCommonEvent(0, 90005261, 1039440202, 1039442200, 1084227584, 1065353216, -1);
    InitializeCommonEvent(0, 90005261, 1039440203, 1039442200, 1084227584, 0, -1);
    InitializeCommonEvent(0, 90005616, 530240, 1039442710);
    InitializeCommonEvent(0, 90005780, 1039440800, 1039442160, 1039442161, 1039440750, 20, 1039442720, 11109648, 1, 0);
    InitializeCommonEvent(0, 90005781, 1039440800, 1039442160, 1039442161, 1039440750);
    InitializeCommonEvent(0, 90005783, 1039440800, 1039442160, 1039442161, 1039440750, 1039442720, 1039442160, 0);
    InitializeCommonEvent(0, 90005703, 1039440700, 3661, 3662, 1043399301, 1043399314, 3660, 3663, -1);
    InitializeCommonEvent(0, 90005704, 1039440700, 1043399314, 3660, 1043399301, 3);
    InitializeCommonEvent(0, 90005702, 1039440700, 3663, 3660, 3663);
    InitializeEvent(0, 1039443700, 1039440700);
    InitializeEvent(0, 1039443701, 0);
    InitializeEvent(0, 1039443702, 0);
    InitializeEvent(0, 1039443705, 0);
    InitializeEvent(0, 1039443706, 0);
    InitializeEvent(0, 1039443707, 0);
    InitializeEvent(0, 1039443720, 1039440705, 1039440708);
    InitializeCommonEvent(0, 90005704, 1039440705, 3821, 3820, 1039449251, 3);
    InitializeCommonEvent(0, 90005703, 1039440705, 3821, 3822, 1039449251, 3821, 3820, 3823, -1);
    InitializeCommonEvent(0, 90005704, 1039440708, 3821, 3820, 1039449251, 3);
    InitializeCommonEvent(0, 90005703, 1039440708, 3821, 3822, 1039449251, 3821, 3820, 3823, -1);
    InitializeEvent(0, 1039443721, 1039440706);
    InitializeCommonEvent(0, 90005704, 1039440706, 3821, 3820, 1039449251, 3);
    InitializeCommonEvent(0, 90005703, 1039440706, 3821, 3822, 1039449251, 3821, 3820, 3823, -1);
    InitializeEvent(0, 1039443722, 1039440707);
    InitializeCommonEvent(0, 90005704, 1039440707, 3821, 3820, 1039449251, 3);
    InitializeCommonEvent(0, 90005703, 1039440707, 3821, 3822, 1039449251, 3821, 3820, 3823, -1);
    InitializeEvent(0, 1039443724, 1039440705);
    InitializeCommonEvent(0, 90005709, 1039440705, 905, 603000);
    InitializeCommonEvent(0, 90005709, 1039440705, 200, 603051);
    InitializeEvent(0, 1039443725, 1039440706);
    InitializeCommonEvent(0, 90005709, 1039440706, 905, 603000);
    InitializeCommonEvent(0, 90005709, 1039440706, 200, 603051);
    InitializeEvent(0, 1039443726, 1039440707);
    InitializeCommonEvent(0, 90005709, 1039440707, 905, 603000);
    InitializeCommonEvent(0, 90005709, 1039440707, 200, 603051);
    InitializeEvent(0, 1039443732, 1039440708);
    InitializeCommonEvent(0, 90005709, 1039440708, 905, 603000);
    InitializeCommonEvent(0, 90005709, 1039440708, 200, 603051);
    InitializeCommonEvent(0, 90005750, 1039441705, 4110, 104600, 400460, 400460, 3829, 0);
    InitializeEvent(0, 1039443727, 0);
    InitializeEvent(0, 1039443728, 1039441720, 1039441721, 1039441722, 1039441723);
    InitializeEvent(0, 1039443740, 1039440730);
    InitializeCommonEvent(0, 90005702, 1039440730, 1039440736, 1039440735, 1039440736);
    InitializeCommonEvent(0, 90005704, 1039440730, 1039449284, 3820, 1039449294, 3);
    InitializeCommonEvent(0, 90005703, 1039440730, 3821, 3822, 1039449294, 1039449284, 3820, 3823, -1);
    InitializeEvent(0, 1039443741, 1039440731);
    InitializeCommonEvent(0, 90005702, 1039440731, 1039440738, 1039440737, 1039440738);
    InitializeCommonEvent(0, 90005704, 1039440731, 1039449284, 3820, 1039449294, 3);
    InitializeCommonEvent(0, 90005703, 1039440731, 3821, 3822, 1039449294, 1039449284, 3820, 3823, -1);
    InitializeEvent(0, 1039443742, 1039440740);
    InitializeCommonEvent(0, 90005702, 1039440740, 1039440746, 1039440745, 1039440746);
    InitializeCommonEvent(0, 90005704, 1039440740, 1039449284, 3820, 1039449294, 3);
    InitializeCommonEvent(0, 90005703, 1039440740, 3821, 3822, 1039449294, 1039449284, 3820, 3823, -1);
    InitializeEvent(0, 1039443743, 1039440741);
    InitializeCommonEvent(0, 90005702, 1039440741, 1039440748, 1039440747, 1039440748);
    InitializeCommonEvent(0, 90005704, 1039440741, 1039449284, 3820, 1039449294, 3);
    InitializeCommonEvent(0, 90005703, 1039440741, 3821, 3822, 1039449294, 1039449284, 3820, 3823, -1);
    InitializeEvent(0, 1039443744, 1039440742);
    InitializeCommonEvent(0, 90005702, 1039440742, 1039440750, 1039440749, 1039440750);
    InitializeCommonEvent(0, 90005704, 1039440742, 1039449284, 3820, 1039449294, 3);
    InitializeCommonEvent(0, 90005703, 1039440742, 3821, 3822, 1039449294, 1039449284, 3820, 3823, -1);
    InitializeEvent(0, 1039443745, 1039440743);
    InitializeCommonEvent(0, 90005702, 1039440743, 1039440752, 1039440751, 1039440752);
    InitializeCommonEvent(0, 90005704, 1039440743, 1039449284, 3820, 1039449294, 3);
    InitializeCommonEvent(0, 90005703, 1039440743, 3821, 3822, 1039449294, 1039449284, 3820, 3823, -1);
    InitializeEvent(0, 1039443746, 1039440744);
    InitializeCommonEvent(0, 90005702, 1039440744, 1039440754, 1039440753, 1039440754);
    InitializeCommonEvent(0, 90005704, 1039440744, 1039449284, 3820, 1039449294, 3);
    InitializeCommonEvent(0, 90005703, 1039440744, 3821, 3822, 1039449294, 1039449284, 3820, 3823, -1);
    InitializeEvent(0, 1039443729, 0);
    InitializeEvent(0, 1039443730, 0);
    InitializeEvent(0, 1039443731, 0);
    InitializeCommonEvent(0, 90005704, 1039440710, 3441, 3440, 1039449301, 3);
    InitializeCommonEvent(0, 90005703, 1039440710, 3441, 3442, 1039449301, 3441, 3440, 3444, -1);
    InitializeCommonEvent(0, 90005702, 1039440710, 3443, 3440, 3444);
    InitializeCommonEvent(0, 90005702, 1039440711, 3443, 3440, 3444);
    InitializeEvent(0, 1039443710, 1039440710);
    InitializeEvent(0, 1039443711, 1039440711);
    InitializeEvent(0, 1039443712, 1039440711, 1039449315);
    InitializeEvent(0, 1039443713, 0);
    InitializeEvent(0, 1039442341, 1039440800, 1039443240, 1039443241, 1039443242, 1039443230, 1039443231, 1039443232, 15300, 15310, 15311, 15312);
    InitializeEvent(0, 1039442342, 1039440800, 1039440800, 15302, 1039442803, 1039440350, 15310, 15311, 15312, 1039442803, 1039442804, 1039442805, 1039440351);
    InitializeEvent(0, 1039442343, 1039440800, 1039442800, 1039442801, 1039442802, 15310, 15311, 15312);
    InitializeEvent(0, 1039442344, 1039440800, 1039440800, 1039445250);
    InitializeEvent(0, 1039442345, 1039440800, 1039442810);
    InitializeCommonEvent(0, 90005870, 1039440800, 904950601, 24);
    InitializeCommonEvent(0, 90005860, 1039440800, 0, 1039440800, 0, 30240, 0);
});

$Event(50, Default, function() {
    SetCharacterBackreadState(1039440705, true);
    SetCharacterBackreadState(1039440706, true);
    SetCharacterBackreadState(1039440710, true);
    SetCharacterBackreadState(1039440711, true);
    SetCharacterBackreadState(1039440720, true);
});

$Event(1039442341, Restart, function(X0_4, X4_4, X8_4, X12_4, X16_4, X20_4, X24_4, X28_4, X32_4, X36_4, X40_4) {
    if (EventFlag(1039440800)) {
        DisableGenerator(X4_4);
        DisableGenerator(X8_4);
        DisableGenerator(X12_4);
        DisableGenerator(X16_4);
        DisableGenerator(X20_4);
        DisableGenerator(X24_4);
        EndEvent();
    }
L0:
    WaitFor(CharacterHasSpEffect(X0_4, X28_4) && !EventFlag(X0_4));
    if (CharacterHasSpEffect(X0_4, X32_4)) {
        EnableGenerator(X4_4);
        EnableGenerator(X16_4);
        EnableGenerator(X20_4);
        EnableGenerator(X24_4);
    }
    if (CharacterHasSpEffect(X0_4, X36_4)) {
        EnableGenerator(X8_4);
        EnableGenerator(X16_4);
        EnableGenerator(X20_4);
        EnableGenerator(X24_4);
    }
    if (CharacterHasSpEffect(X0_4, X40_4)) {
        EnableGenerator(X12_4);
        EnableGenerator(X16_4);
        EnableGenerator(X20_4);
        EnableGenerator(X24_4);
    }
    WaitFixedTimeSeconds(1);
    DisableGenerator(X4_4);
    DisableGenerator(X8_4);
    DisableGenerator(X12_4);
    DisableGenerator(X16_4);
    DisableGenerator(X20_4);
    DisableGenerator(X24_4);
    WaitFixedTimeSeconds(1);
    RestartEvent();
});

$Event(1039442342, Restart, function(X0_4, X4_4, X8_4, X12_4, X16_4, X20_4, X24_4, X28_4, X32_4, X36_4, X40_4, X44_4) {
    EndIf(EventFlag(X4_4));
    WaitFor(CharacterHasSpEffect(X0_4, X8_4));
    BatchSetNetworkconnectedEventFlags(X16_4, X44_4, OFF);
    RandomlySetEventFlagInRange(X16_4, X44_4, ON);
    GotoIf(L1, CharacterHasSpEffect(X0_4, X20_4));
    GotoIf(L2, CharacterHasSpEffect(X0_4, X24_4));
    GotoIf(L3, CharacterHasSpEffect(X0_4, X28_4));
    WarpCharacterAndCopyFloor(X0_4, TargetEntityType.Area, X12_4, -1, X0_4);
    Goto(L0);
L1:
    GotoIf(S0, EventFlag(X16_4));
    WarpCharacterAndCopyFloor(X0_4, TargetEntityType.Area, X36_4, -1, X0_4);
    Goto(L0);
S0:
    WarpCharacterAndCopyFloor(X0_4, TargetEntityType.Area, X40_4, -1, X0_4);
    Goto(L0);
L2:
    GotoIf(S1, EventFlag(X16_4));
    WarpCharacterAndCopyFloor(X0_4, TargetEntityType.Area, X32_4, -1, X0_4);
    Goto(L0);
S1:
    WarpCharacterAndCopyFloor(X0_4, TargetEntityType.Area, X40_4, -1, X0_4);
    Goto(L0);
L3:
    GotoIf(S2, EventFlag(X16_4));
    WarpCharacterAndCopyFloor(X0_4, TargetEntityType.Area, X32_4, -1, X0_4);
    Goto(L0);
S2:
    WarpCharacterAndCopyFloor(X0_4, TargetEntityType.Area, X36_4, -1, X0_4);
    Goto(L0);
L0:
    ForceAnimationPlayback(X0_4, 3022, true, false, false);
    RequestCharacterAIReplan(X0_4);
    WaitFixedTimeSeconds(5);
    RestartEvent();
});

$Event(1039442343, Restart, function(X0_4, X4_4, X8_4, X12_4, X16_4, X20_4, X24_4) {
    EndIf(EventFlag(1039440800));
    area = InArea(X0_4, X4_4);
    area2 = InArea(X0_4, X8_4);
    area3 = InArea(X0_4, X12_4);
    WaitFor(area || area2 || area3);
    if (area.Passed) {
        SetSpEffect(X0_4, X16_4);
    }
L2:
    if (area2.Passed) {
        SetSpEffect(X0_4, X20_4);
    }
L3:
    if (area3.Passed) {
        SetSpEffect(X0_4, X24_4);
    }
L4:
    WaitFixedTimeSeconds(1);
    RestartEvent();
});

$Event(1039442344, Restart, function(X0_4, X4_4, X8_4) {
    if (EventFlag(X0_4)) {
        DisableCharacter(X8_4);
        DisableCharacterCollision(X8_4);
        ForceCharacterDeath(X8_4, false);
        EndEvent();
    }
L0:
    WaitFor(CharacterDead(X4_4));
    WaitFor(mainGroupAbuse);
    ForceCharacterDeath(X8_4, false);
    DisableGenerator(1039443240);
    DisableGenerator(1039443241);
    DisableGenerator(1039443242);
    DisableGenerator(1039443230);
    DisableGenerator(1039443231);
    DisableGenerator(1039443232);
    WaitFixedTimeSeconds(2);
    ForceCharacterDeath(X8_4, false);
    WaitFixedTimeSeconds(7);
    DisableCharacter(X8_4);
    DisableCharacterCollision(X8_4);
    EndEvent();
});

$Event(1039442345, Restart, function(X0_4, X4_4) {
    DisableNetworkSync();
    EndIf(EventFlag(X0_4));
    WaitFor(CharacterTargetedBy(X0_4, 20000) && !InArea(20000, X4_4));
    ClearCharactersAITarget(X0_4);
    WaitFixedTimeSeconds(5);
    RestartEvent();
});

$Event(1039443700, Restart, function(X0_4) {
    WaitFixedTimeFrames(1);
    DisableNetworkSync();
    if (PlayerIsInOwnWorld()) {
        if (EventFlag(3660)) {
            SetEventFlagID(1043399303, OFF);
        }
    }
L19:
    if (!EventFlag(3669)) {
        DisableCharacter(X0_4);
        SetCharacterBackreadState(X0_4, true);
        WaitFor(EventFlag(3669));
        RestartEvent();
    }
L6:
    if (EventFlag(1039449214)) {
        IssueShortWarpRequest(X0_4, TargetEntityType.Area, 1039442705, -1);
    }
    GotoIf(L1, EventFlag(3660));
    GotoIf(L2, EventFlag(3661));
    GotoIf(L4, EventFlag(3663));
L1:
    EnableCharacter(X0_4);
    SetCharacterBackreadState(X0_4, false);
    ForceAnimationPlayback(X0_4, 930010, false, false, false);
    if (!EventFlag(1039449214)) {
        ForceAnimationPlayback(X0_4, 930018, false, false, false);
    }
    Goto(L20);
L2:
    EnableCharacter(X0_4);
    SetCharacterBackreadState(X0_4, false);
    SetCharacterTeamType(X0_4, TeamType.HostileNPC);
    Goto(L20);
L4:
    ForceCharacterTreasure(X0_4);
    DisableCharacter(X0_4);
    SetCharacterBackreadState(X0_4, true);
    Goto(L20);
L20:
    WaitFor(!EventFlag(3669));
    RestartEvent();
});

$Event(1039443701, Restart, function() {
    WaitFixedTimeFrames(1);
    EndIf(!EventFlag(3660));
    EnableCharacterImmortality(1039440700);
    DisableCharacterHPBarDisplay(1039440700);
    WaitForEventFlag(ON, TargetEventFlagType.EventFlag, 1039449214);
    DisableCharacterImmortality(1039440700);
    EnableCharacterHPBarDisplay(1039440700);
    EndEvent();
});

$Event(1039443702, Restart, function() {
    EndIf(!PlayerIsInOwnWorld());
    WaitForEventFlag(ON, TargetEventFlagType.EventFlag, 3669);
    SetNetworkconnectedEventFlagID(1039442702, OFF);
    SetNetworkconnectedEventFlagID(1039442703, OFF);
    WaitFor(
        EventFlag(3669)
            && !EventFlag(1039449206)
            && EntityInRadiusOfEntity(10000, 1039440700, 70, 1));
    SetNetworkconnectedEventFlagID(1039442702, ON);
    WaitFixedTimeSeconds(20);
    RestartEvent();
});

$Event(1039443705, Restart, function() {
    EndIf(EventFlag(1039449214));
    WaitFor(CharacterHasSpEffect(1039440700, 420));
    SetNetworkconnectedEventFlagID(1039449207, ON);
    EndEvent();
});

$Event(1039443706, Restart, function() {
    EndIf(!PlayerIsInOwnWorld());
    EndIf(EventFlag(1039449214));
    SetEventFlagID(1043399314, ON);
    WaitFor(EventFlag(1039449214));
    SetEventFlagID(1043399314, OFF);
    EndEvent();
});

$Event(1039443707, Restart, function() {
    EndIf(!PlayerIsInOwnWorld());
    EndIf(!EventFlag(3669));
    WaitForEventFlag(ON, TargetEventFlagType.EventFlag, 1035539204);
    SetNetworkconnectedEventFlagID(3678, ON);
    EndEvent();
});

$Event(1039443710, Restart, function(X0_4) {
    DisableNetworkSync();
    WaitFixedTimeFrames(1);
    if (PlayerIsInOwnWorld()) {
        if (EventFlag(3440) && EventFlag(11109405)) {
            SetEventFlagID(11109405, OFF);
        }
    }
L10:
    DisableCharacter(X0_4);
    SetCharacterBackreadState(X0_4, true);
    if (!EventFlag(3450)) {
        WaitFor(EventFlag(3450));
        RestartEvent();
    }
L5:
    GotoIf(L1, EventFlag(3440));
    GotoIf(L2, EventFlag(3441));
    GotoIf(L3, EventFlag(3442));
    GotoIf(L4, EventFlag(3443));
L1:
    SetCharacterBackreadState(X0_4, false);
    EnableCharacter(X0_4);
    SetCharacterTeamType(X0_4, TeamType.FriendlyNPC);
    ForceAnimationPlayback(X0_4, 90102, false, false, false);
    GotoIf(L20, mainGroupAbuse);
L2:
    SetCharacterBackreadState(X0_4, false);
    EnableCharacter(X0_4);
    SetCharacterTeamType(X0_4, TeamType.HostileNPC);
    Goto(L20);
L3:
    SetCharacterBackreadState(X0_4, false);
    EnableCharacter(X0_4);
    SetCharacterTeamType(X0_4, TeamType.HostileNPC);
    Goto(L20);
L4:
    ForceCharacterTreasure(X0_4);
    DisableCharacter(X0_4);
    SetCharacterBackreadState(X0_4, true);
    Goto(L20);
L20:
    WaitFor(!EventFlag(3450));
    RestartEvent();
});

$Event(1039443711, Restart, function(X0_4) {
    DisableNetworkSync();
    WaitFixedTimeFrames(1);
    if (PlayerIsInOwnWorld()) {
        if (EventFlag(3440) && EventFlag(11109405)) {
            SetEventFlagID(11109405, OFF);
        }
    }
L10:
    DisableCharacter(X0_4);
    SetCharacterBackreadState(X0_4, true);
    DisableAsset(1039441710);
    if (!EventFlag(3451)) {
        WaitFor(EventFlag(3451));
        RestartEvent();
    }
L5:
    GotoIf(L1, EventFlag(3440));
    GotoIf(L2, EventFlag(3441));
    GotoIf(L3, EventFlag(3442));
    GotoIf(L4, EventFlag(3443));
L1:
    SetCharacterBackreadState(X0_4, false);
    EnableCharacter(X0_4);
    EnableCharacterImmortality(X0_4);
    EnableAsset(1039441710);
    DisableCharacterHPBarDisplay(X0_4);
    SetCharacterTeamType(X0_4, TeamType.FriendlyNPC);
    ForceAnimationPlayback(X0_4, 90103, false, false, false);
    GotoIf(L20, mainGroupAbuse);
L2:
    SetCharacterBackreadState(X0_4, false);
    EnableCharacter(X0_4);
    SetCharacterTeamType(X0_4, TeamType.HostileNPC);
    Goto(L20);
L3:
    SetCharacterBackreadState(X0_4, false);
    EnableCharacter(X0_4);
    SetCharacterTeamType(X0_4, TeamType.HostileNPC);
    Goto(L20);
L4:
    GotoIf(S0, EventFlag(1039449316));
    EnableCharacter(X0_4);
    SetCharacterBackreadState(X0_4, false);
    EnableAsset(1039441710);
    ForceAnimationPlayback(X0_4, 90104, false, false, false);
    DisableCharacterCollision(X0_4);
    Goto(L20);
S0:
    DisableCharacter(X0_4);
    SetCharacterBackreadState(X0_4, true);
    EnableAsset(1039441710);
    ForceCharacterTreasure(X0_4);
    Goto(L20);
L20:
    WaitFor(!EventFlag(3451));
    RestartEvent();
});

$Event(1039443712, Restart, function(X0_4, X4_4) {
    WaitFixedTimeFrames(1);
    EndIf(!PlayerIsInOwnWorld());
    EndIf(!EventFlag(3451));
    EndIf(EventFlag(X4_4));
    WaitFor(EventFlag(X4_4) || HasDamageType(X0_4, 10000, DamageType.Unspecified));
    BatchSetNetworkconnectedEventFlags(3440, 3444, OFF);
    SetNetworkconnectedEventFlagID(3443, ON);
    SaveRequest();
    DisableCharacterCollision(X0_4);
    ForceAnimationPlayback(X0_4, 90200, false, false, false);
    EndEvent();
});

$Event(1039443713, Restart, function() {
    EndIf(EventFlag(3443));
    EndIf(!PlayerIsInOwnWorld());
    WaitFor(PlayerIsInOwnWorld() && CharacterHPValue(1039440710) == 0);
    EnableCharacterDefaultBackread(1039440710);
    WaitFor(ElapsedSeconds(10));
    DisableCharacterDefaultBackread(1039440710);
    EndEvent();
});

$Event(1039443720, Restart, function(X0_4, X4_4) {
    DisableNetworkSync();
    WaitFixedTimeFrames(1);
    if (PlayerIsInOwnWorld()) {
        if (EventFlag(3820) && EventFlag(1039449253)) {
            SetEventFlagID(1039449253, OFF);
        }
    }
L10:
    DisableCharacter(X0_4);
    SetCharacterBackreadState(X0_4, true);
    DisableCharacter(X4_4);
    SetCharacterBackreadState(X4_4, true);
    if (!(EventFlag(3825) || EventFlag(3826) || (EventFlag(3828) && EventFlag(1039449296)))) {
        WaitFor(EventFlag(3825) || EventFlag(3826) || (EventFlag(3828) && EventFlag(1039449296)));
        RestartEvent();
    }
L0:
    GotoIf(L1, EventFlag(3820));
    GotoIf(L2, EventFlag(3821));
    GotoIf(L3, EventFlag(3822));
    GotoIf(L4, EventFlag(3823));
L1:
    if (!EventFlag(1039442715)) {
        EnableCharacter(X0_4);
        SetCharacterBackreadState(X0_4, false);
        ForceAnimationPlayback(X0_4, 930011, false, false, false);
        IssueShortWarpRequest(X0_4, TargetEntityType.Area, 1039442700, -1);
        EnableCharacterImmortality(X0_4);
    }
    if (EventFlag(1039442715)) {
        EnableCharacter(X4_4);
        SetCharacterBackreadState(X4_4, false);
        ForceAnimationPlayback(X4_4, 930024, false, false, false);
        EnableCharacterImmortality(X4_4);
        SetNetworkconnectedEventFlagID(1039442716, ON);
    }
    Goto(L20);
L2:
    DisableCharacter(X0_4);
    SetCharacterBackreadState(X0_4, true);
    DisableCharacter(X4_4);
    SetCharacterBackreadState(X4_4, true);
    Goto(L20);
L3:
    DisableCharacter(X0_4);
    SetCharacterBackreadState(X0_4, true);
    DisableCharacter(X4_4);
    SetCharacterBackreadState(X4_4, true);
    Goto(L20);
L4:
    ForceCharacterTreasure(X0_4);
    DisableCharacter(X0_4);
    SetCharacterBackreadState(X0_4, true);
    Goto(L20);
L20:
    WaitFor(
        (!EventFlag(3825) && !EventFlag(3826) && !EventFlag(3828))
            || EventFlagState(CHANGE, TargetEventFlagType.EventFlag, 1039442715));
    RestartEvent();
});

$Event(1039443721, Restart, function(X0_4) {
    DisableNetworkSync();
    WaitFixedTimeFrames(1);
    if (PlayerIsInOwnWorld()) {
        if (EventFlag(3820) && EventFlag(1039449253)) {
            SetEventFlagID(1039449253, OFF);
        }
    }
L10:
    DisableCharacter(X0_4);
    SetCharacterBackreadState(X0_4, true);
    if (!EventFlag(3827)) {
        WaitFor(EventFlag(3827));
        RestartEvent();
    }
L0:
    GotoIf(L1, EventFlag(3820));
    GotoIf(L2, EventFlag(3821));
    GotoIf(L3, EventFlag(3822));
    GotoIf(L4, EventFlag(3823));
L1:
    EnableCharacter(X0_4);
    SetCharacterBackreadState(X0_4, false);
    ForceAnimationPlayback(X0_4, 930012, false, false, false);
    EnableCharacterImmortality(X0_4);
    Goto(L20);
L2:
    DisableCharacter(X0_4);
    SetCharacterBackreadState(X0_4, true);
    Goto(L20);
L3:
    DisableCharacter(X0_4);
    SetCharacterBackreadState(X0_4, true);
    Goto(L20);
L4:
    ForceCharacterTreasure(X0_4);
    DisableCharacter(X0_4);
    SetCharacterBackreadState(X0_4, true);
    Goto(L20);
L20:
    WaitFor(!EventFlag(3827));
    RestartEvent();
});

$Event(1039443722, Restart, function(X0_4) {
    DisableNetworkSync();
    WaitFixedTimeFrames(1);
    if (PlayerIsInOwnWorld()) {
        if (EventFlag(3820) && EventFlag(1039449253)) {
            SetEventFlagID(1039449253, OFF);
        }
    }
L10:
    DisableCharacter(X0_4);
    SetCharacterBackreadState(X0_4, true);
    if (!(EventFlag(3828) && !EventFlag(1039449296))) {
        WaitFor(EventFlag(3828) && !EventFlag(1039449296));
        RestartEvent();
    }
L0:
    GotoIf(L1, EventFlag(3820));
    GotoIf(L2, EventFlag(3821));
    GotoIf(L3, EventFlag(3822));
    GotoIf(L4, EventFlag(3823));
L1:
    EnableCharacter(X0_4);
    SetCharacterBackreadState(X0_4, false);
    ForceAnimationPlayback(X0_4, 930014, false, false, false);
    EnableCharacterImmortality(X0_4);
    Goto(L20);
L2:
    DisableCharacter(X0_4);
    SetCharacterBackreadState(X0_4, true);
    Goto(L20);
L3:
    DisableCharacter(X0_4);
    SetCharacterBackreadState(X0_4, true);
    Goto(L20);
L4:
    ForceCharacterTreasure(X0_4);
    DisableCharacter(X0_4);
    SetCharacterBackreadState(X0_4, true);
    Goto(L20);
L20:
    WaitFor(!EventFlag(3828));
    RestartEvent();
});

$Event(1039443724, Restart, function(X0_4) {
    EndIf(EventFlag(3821));
    EndIf(EventFlag(3822));
    WaitFor(AnyBatchEventFlags(3821, 3822));
    ForceAnimationPlayback(X0_4, 20027, false, false, false);
    SetCharacterTeamType(X0_4, TeamType.Disabled);
    EndEvent();
});

$Event(1039443725, Restart, function(X0_4) {
    EndIf(EventFlag(3821));
    EndIf(EventFlag(3822));
    WaitFor(AnyBatchEventFlags(3821, 3822));
    ForceAnimationPlayback(X0_4, 20030, false, false, false);
    SetCharacterTeamType(X0_4, TeamType.Disabled);
    EndEvent();
});

$Event(1039443726, Restart, function(X0_4) {
    EndIf(EventFlag(3821));
    EndIf(EventFlag(3822));
    WaitFor(AnyBatchEventFlags(3821, 3822));
    ForceAnimationPlayback(X0_4, 20033, false, false, false);
    SetCharacterTeamType(X0_4, TeamType.Disabled);
    EndEvent();
});

$Event(1039443727, Restart, function() {
    WaitFixedTimeFrames(1);
    EndIf(!EventFlag(3450));
    EndIf(!EventFlag(3440));
    EndIf(!EventFlag(3820));
    EndIf(EventFlag(1039449278));
    EndIf(!PlayerIsInOwnWorld());
    if (!EventFlag(1039449274)) {
        SetNetworkconnectedEventFlagID(1039449274, ON);
        EndEvent();
    }
    if (!EventFlag(1039449275)) {
        SetNetworkconnectedEventFlagID(1039449275, ON);
        EndEvent();
    }
    if (!EventFlag(1039449276)) {
        SetNetworkconnectedEventFlagID(1039449276, ON);
        EndEvent();
    }
    if (!EventFlag(1039449277)) {
        SetNetworkconnectedEventFlagID(1039449277, ON);
        EndEvent();
    }
    if (!EventFlag(1039449278)) {
        SetNetworkconnectedEventFlagID(1039449278, ON);
        EndEvent();
    }
    EndEvent();
});

$Event(1039443728, Restart, function(X0_4, X4_4, X8_4, X12_4) {
    WaitFixedTimeFrames(1);
    DisableAsset(X0_4);
    DisableAsset(X4_4);
    DisableAsset(X8_4);
    DisableAsset(X12_4);
    EndIf(!(EventFlag(3827) || EventFlag(3828) || (EventFlag(3829) && EventFlag(1039449270))));
    EnableAsset(X0_4);
    EnableAsset(X4_4);
    EnableAsset(X8_4);
    EnableAsset(X12_4);
    flag &= EventFlag(1039440736);
    if (flag) {
        DisableAsset(X0_4);
    }
    flag &= EventFlag(1039440746);
    if (flag) {
        DisableAsset(X8_4);
    }
    if (EventFlag(1039440738)) {
        DisableAsset(X4_4);
    }
    if (EventFlag(1039440748) && EventFlag(1039440750) && EventFlag(1039440752)) {
        DisableAsset(X12_4);
    }
    DisableCharacter(1039440730);
    SetCharacterBackreadState(1039440730, true);
    DisableCharacter(1039440731);
    SetCharacterBackreadState(1039440731, true);
    DisableCharacter(1039440740);
    SetCharacterBackreadState(1039440740, true);
    DisableCharacter(1039440741);
    SetCharacterBackreadState(1039440741, true);
    DisableCharacter(1039440742);
    SetCharacterBackreadState(1039440742, true);
    DisableCharacter(1039440743);
    SetCharacterBackreadState(1039440743, true);
    DisableCharacter(1039440744);
    SetCharacterBackreadState(1039440744, true);
    EndEvent();
});

$Event(1039443729, Restart, function() {
    EndIf(!PlayerIsInOwnWorld());
    WaitFixedTimeRealFrames(1);
    EndIf(EventFlag(3822) || EventFlag(3442));
    flag |= EventFlag(3821) || (EventFlag(3441) && EventFlag(3450));
    if (!EventFlag(1039440736)) {
        flag2 |= EventFlag(1039440736);
    }
    if (!EventFlag(1039440738)) {
        flag2 |= EventFlag(1039440738);
    }
    if (!EventFlag(1039440746)) {
        flag2 |= EventFlag(1039440746);
    }
    if (!EventFlag(1039440748)) {
        flag2 |= EventFlag(1039440748);
    }
    if (!EventFlag(1039440750)) {
        flag2 |= EventFlag(1039440750);
    }
    if (!EventFlag(1039440752)) {
        flag2 |= EventFlag(1039440752);
    }
    if (!EventFlag(1039440754)) {
        flag2 |= EventFlag(1039440754);
    }
    flag |= flag2;
    WaitFor(flag);
    SetNetworkconnectedEventFlagID(1039449251, ON);
    if (EventFlag(3450)) {
        SetNetworkconnectedEventFlagID(1039449301, ON);
    }
    SetSpEffect(1039440730, 15220);
    SetSpEffect(1039440731, 15220);
    SetSpEffect(1039440740, 15220);
    SetSpEffect(1039440741, 15220);
    SetSpEffect(1039440742, 15220);
    SetSpEffect(1039440743, 15220);
    SetSpEffect(1039440744, 15220);
    EndEvent();
});

$Event(1039443730, Restart, function() {
    EndIf(!PlayerIsInOwnWorld());
    WaitFixedTimeRealFrames(1);
    EndIf(EventFlag(3822) && EventFlag(3442));
    WaitFor(
        (EventFlag(3443) && EventFlag(3450))
            || (EventFlag(1039440736)
                && EventFlag(1039440738)
                && EventFlag(1039440746)
                && EventFlag(1039440748)
                && EventFlag(1039440750)
                && EventFlag(1039440752)
                && EventFlag(1039440754)));
    BatchSetNetworkconnectedEventFlags(3820, 3823, OFF);
    SetNetworkconnectedEventFlagID(3822, ON);
    if (EventFlag(3450) && !EventFlag(3443)) {
        BatchSetNetworkconnectedEventFlags(3440, 3443, OFF);
        SetNetworkconnectedEventFlagID(3442, ON);
    }
    SetSpEffect(1039440730, 15220);
    SetSpEffect(1039440731, 15220);
    SetSpEffect(1039440740, 15220);
    SetSpEffect(1039440741, 15220);
    SetSpEffect(1039440742, 15220);
    SetSpEffect(1039440743, 15220);
    SetSpEffect(1039440744, 15220);
    EndEvent();
});

$Event(1039443731, Restart, function() {
    WaitFixedTimeRealFrames(1);
    EndIf(!PlayerIsInOwnWorld());
    WaitFor(EventFlag(3825) || EventFlag(3826) || EventFlag(3828));
    EndIf(EventFlag(1039449289));
    BatchSetNetworkconnectedEventFlags(1039442730, 1039442739, OFF);
    SetNetworkconnectedEventFlagID(1039442715, OFF);
    GotoIf(L1, EventFlag(3825));
    GotoIf(L2, EventFlag(3826));
    GotoIf(L3, EventFlag(3828));
L1:
    GotoIf(L20, EventFlag(1039449258));
    EndEvent();
L2:
    GotoIf(L20, 
        (EventFlag(1039449261) && !EventFlag(11109430))
            || (EventFlag(1039449261) && !EventFlag(3443) && !EventFlag(3063) && !EventFlag(11109430))
            || (EventFlag(1039449263) && EventFlag(11109430) && !EventFlag(3450))
            || (EventFlag(1039449263) && EventFlag(3443) && EventFlag(3063) && !EventFlag(3450))
            || (EventFlag(1039449266) && EventFlag(3450)));
    EndEvent();
L3:
    GotoIf(L20, EventFlag(1039449282));
    EndEvent();
L20:
    RandomlySetEventFlagInRange(1039442730, 1039442739, ON);
    if (AnyBatchEventFlags(1039442730, 1039442732)) {
        SetNetworkconnectedEventFlagID(1039442715, ON);
    }
    RestartIf(
        EventFlagState(CHANGE, TargetEventFlagType.EventFlag, 3825)
            || EventFlagState(CHANGE, TargetEventFlagType.EventFlag, 3826)
            || EventFlagState(CHANGE, TargetEventFlagType.EventFlag, 3828)
            || EventFlagState(CHANGE, TargetEventFlagType.EventFlag, 3450));
});

$Event(1039443732, Restart, function(X0_4) {
    EndIf(EventFlag(3821));
    EndIf(EventFlag(3822));
    WaitFor(AnyBatchEventFlags(3821, 3822));
    ForceAnimationPlayback(X0_4, 20030, false, false, false);
    SetCharacterTeamType(X0_4, TeamType.Disabled);
    EndEvent();
});

$Event(1039443740, Restart, function(X0_4) {
    DisableNetworkSync();
    WaitFixedTimeFrames(1);
    if (PlayerIsInOwnWorld()) {
        if (!AnyBatchEventFlags(1039440735, 1039440736)) {
            BatchSetNetworkconnectedEventFlags(1039440735, 1039440736, OFF);
            SetNetworkconnectedEventFlagID(1039440735, ON);
        }
    }
L10:
    DisableCharacter(X0_4);
    SetCharacterBackreadState(X0_4, true);
    GotoIf(L1, EventFlag(3821));
    GotoIf(L2, EventFlag(3822));
    Goto(L5);
L1:
    EnableCharacter(X0_4);
    SetCharacterBackreadState(X0_4, false);
    SetCharacterTeamType(X0_4, TeamType.HostileNPC);
    Goto(L5);
L2:
    EnableCharacter(X0_4);
    SetCharacterBackreadState(X0_4, false);
    SetCharacterTeamType(X0_4, TeamType.HostileNPC);
    Goto(L5);
L5:
    GotoIf(L3, EventFlag(1039440735));
    GotoIf(L4, EventFlag(1039440736));
L3:
    EnableCharacter(X0_4);
    SetCharacterBackreadState(X0_4, false);
    Goto(L20);
L4:
    DisableCharacter(X0_4);
    SetCharacterBackreadState(X0_4, true);
    Goto(L20);
L20:
    EndEvent();
});

$Event(1039443741, Restart, function(X0_4) {
    DisableNetworkSync();
    WaitFixedTimeFrames(1);
    if (PlayerIsInOwnWorld()) {
        if (!AnyBatchEventFlags(1039440737, 1039440738)) {
            BatchSetNetworkconnectedEventFlags(1039440737, 1039440738, OFF);
            SetNetworkconnectedEventFlagID(1039440737, ON);
        }
    }
L10:
    DisableCharacter(X0_4);
    SetCharacterBackreadState(X0_4, true);
    GotoIf(L1, EventFlag(3821));
    GotoIf(L2, EventFlag(3822));
    Goto(L5);
L1:
    EnableCharacter(X0_4);
    SetCharacterBackreadState(X0_4, false);
    SetCharacterTeamType(X0_4, TeamType.HostileNPC);
    Goto(L5);
L2:
    EnableCharacter(X0_4);
    SetCharacterBackreadState(X0_4, false);
    SetCharacterTeamType(X0_4, TeamType.HostileNPC);
    Goto(L5);
L5:
    GotoIf(L3, EventFlag(1039440737));
    GotoIf(L4, EventFlag(1039440738));
L3:
    EnableCharacter(X0_4);
    SetCharacterBackreadState(X0_4, false);
    Goto(L20);
L4:
    DisableCharacter(X0_4);
    SetCharacterBackreadState(X0_4, true);
    Goto(L20);
L20:
    EndEvent();
});

$Event(1039443742, Restart, function(X0_4) {
    DisableNetworkSync();
    WaitFixedTimeFrames(1);
    if (PlayerIsInOwnWorld()) {
        if (!AnyBatchEventFlags(1039440745, 1039440746)) {
            BatchSetNetworkconnectedEventFlags(1039440745, 1039440746, OFF);
            SetNetworkconnectedEventFlagID(1039440745, ON);
        }
    }
L10:
    DisableCharacter(X0_4);
    SetCharacterBackreadState(X0_4, true);
    GotoIf(L1, EventFlag(3821));
    GotoIf(L2, EventFlag(3822));
    Goto(L5);
L1:
    EnableCharacter(X0_4);
    SetCharacterBackreadState(X0_4, false);
    SetCharacterTeamType(X0_4, TeamType.HostileNPC);
    Goto(L5);
L2:
    EnableCharacter(X0_4);
    SetCharacterBackreadState(X0_4, false);
    SetCharacterTeamType(X0_4, TeamType.HostileNPC);
    Goto(L5);
L5:
    GotoIf(L3, EventFlag(1039440745));
    GotoIf(L4, EventFlag(1039440746));
L3:
    EnableCharacter(X0_4);
    SetCharacterBackreadState(X0_4, false);
    ForceAnimationPlayback(X0_4, 30022, false, false, false);
    Goto(L20);
L4:
    DisableCharacter(X0_4);
    SetCharacterBackreadState(X0_4, true);
    Goto(L20);
L20:
    EndEvent();
});

$Event(1039443743, Restart, function(X0_4) {
    DisableNetworkSync();
    WaitFixedTimeFrames(1);
    if (PlayerIsInOwnWorld()) {
        if (!AnyBatchEventFlags(1039440747, 1039440748)) {
            BatchSetNetworkconnectedEventFlags(1039440747, 1039440748, OFF);
            SetNetworkconnectedEventFlagID(1039440747, ON);
        }
    }
L10:
    DisableCharacter(X0_4);
    SetCharacterBackreadState(X0_4, true);
    GotoIf(L1, EventFlag(3821));
    GotoIf(L2, EventFlag(3822));
    Goto(L5);
L1:
    EnableCharacter(X0_4);
    SetCharacterBackreadState(X0_4, false);
    SetCharacterTeamType(X0_4, TeamType.HostileNPC);
    Goto(L5);
L2:
    EnableCharacter(X0_4);
    SetCharacterBackreadState(X0_4, false);
    SetCharacterTeamType(X0_4, TeamType.HostileNPC);
    Goto(L5);
L5:
    GotoIf(L3, EventFlag(1039440747));
    GotoIf(L4, EventFlag(1039440748));
L3:
    EnableCharacter(X0_4);
    SetCharacterBackreadState(X0_4, false);
    ForceAnimationPlayback(X0_4, 30024, false, false, false);
    Goto(L20);
L4:
    DisableCharacter(X0_4);
    SetCharacterBackreadState(X0_4, true);
    Goto(L20);
L20:
    EndEvent();
});

$Event(1039443744, Restart, function(X0_4) {
    DisableNetworkSync();
    WaitFixedTimeFrames(1);
    if (PlayerIsInOwnWorld()) {
        if (!AnyBatchEventFlags(1039440749, 1039440750)) {
            BatchSetNetworkconnectedEventFlags(1039440749, 1039440750, OFF);
            SetNetworkconnectedEventFlagID(1039440749, ON);
        }
    }
L10:
    DisableCharacter(X0_4);
    SetCharacterBackreadState(X0_4, true);
    GotoIf(L1, EventFlag(3821));
    GotoIf(L2, EventFlag(3822));
    Goto(L5);
L1:
    EnableCharacter(X0_4);
    SetCharacterBackreadState(X0_4, false);
    SetCharacterTeamType(X0_4, TeamType.HostileNPC);
    Goto(L5);
L2:
    EnableCharacter(X0_4);
    SetCharacterBackreadState(X0_4, false);
    SetCharacterTeamType(X0_4, TeamType.HostileNPC);
    Goto(L5);
L5:
    GotoIf(L3, EventFlag(1039440749));
    GotoIf(L4, EventFlag(1039440750));
L3:
    EnableCharacter(X0_4);
    SetCharacterBackreadState(X0_4, false);
    ForceAnimationPlayback(X0_4, 30022, false, false, false);
    Goto(L20);
L4:
    DisableCharacter(X0_4);
    SetCharacterBackreadState(X0_4, true);
    Goto(L20);
L20:
    EndEvent();
});

$Event(1039443745, Restart, function(X0_4) {
    DisableNetworkSync();
    WaitFixedTimeFrames(1);
    if (PlayerIsInOwnWorld()) {
        if (!AnyBatchEventFlags(1039440751, 1039440752)) {
            BatchSetNetworkconnectedEventFlags(1039440751, 1039440752, OFF);
            SetNetworkconnectedEventFlagID(1039440751, ON);
        }
    }
L10:
    DisableCharacter(X0_4);
    SetCharacterBackreadState(X0_4, true);
    GotoIf(L1, EventFlag(3821));
    GotoIf(L2, EventFlag(3822));
    Goto(L5);
L1:
    EnableCharacter(X0_4);
    SetCharacterBackreadState(X0_4, false);
    SetCharacterTeamType(X0_4, TeamType.HostileNPC);
    Goto(L5);
L2:
    EnableCharacter(X0_4);
    SetCharacterBackreadState(X0_4, false);
    SetCharacterTeamType(X0_4, TeamType.HostileNPC);
    Goto(L5);
L5:
    GotoIf(L3, EventFlag(1039440751));
    GotoIf(L4, EventFlag(1039440752));
L3:
    EnableCharacter(X0_4);
    SetCharacterBackreadState(X0_4, false);
    ForceAnimationPlayback(X0_4, 30022, false, false, false);
    Goto(L20);
L4:
    DisableCharacter(X0_4);
    SetCharacterBackreadState(X0_4, true);
    Goto(L20);
L20:
    EndEvent();
});

$Event(1039443746, Restart, function(X0_4) {
    DisableNetworkSync();
    WaitFixedTimeFrames(1);
    if (PlayerIsInOwnWorld()) {
        if (!AnyBatchEventFlags(1039440753, 1039440754)) {
            BatchSetNetworkconnectedEventFlags(1039440753, 1039440754, OFF);
            SetNetworkconnectedEventFlagID(1039440753, ON);
        }
    }
L10:
    DisableCharacter(X0_4);
    SetCharacterBackreadState(X0_4, true);
    GotoIf(L1, EventFlag(3821));
    GotoIf(L2, EventFlag(3822));
    Goto(L5);
L1:
    EnableCharacter(X0_4);
    SetCharacterBackreadState(X0_4, false);
    SetCharacterTeamType(X0_4, TeamType.HostileNPC);
    Goto(L5);
L2:
    EnableCharacter(X0_4);
    SetCharacterBackreadState(X0_4, false);
    SetCharacterTeamType(X0_4, TeamType.HostileNPC);
    Goto(L5);
L5:
    GotoIf(L3, EventFlag(1039440753));
    GotoIf(L4, EventFlag(1039440754));
L3:
    EnableCharacter(X0_4);
    SetCharacterBackreadState(X0_4, false);
    ForceAnimationPlayback(X0_4, 30025, false, false, false);
    Goto(L20);
L4:
    DisableCharacter(X0_4);
    SetCharacterBackreadState(X0_4, true);
    Goto(L20);
L20:
    EndEvent();
});


