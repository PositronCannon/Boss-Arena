// ==EMEVD==
// @docs    er-common.emedf.json
// @compress    DCX_KRAK
// @game    Sekiro
// @string    "N:\\GR\\data\\Param\\event\\common_func.emevd\u0000N:\\GR\\data\\Param\\event\\common_macro.emevd\u0000\u0000\u0000\u0000\u0000\u0000"
// @linked    [0,82]
// @version    3.4.2
// ==/EMEVD==

$Event(0, Default, function() {
    //inf hp/fp/stam
    InitializeCommonEvent(0, 90001001, 0);
    RegisterBonfire(1050360000, 1050361950, 0, 0, 0, 5);
    InitializeCommonEvent(0, 90005100, 76458, 76417, 1050361980, 77410, 2, 78410, 78411, 78412, 78413, 78414, 78415, 78416, 78417, 78418, 78419);
    if (EventFlag(57)) {
        InitializeCommonEvent(0, 90005694, 1050362500, 1050361500, 200, 0, 802004070, 1065353216, 0, 1065353216);
    }
    if (EventFlag(56)) {
        InitializeCommonEvent(0, 90005694, 1050362500, 1050361500, 200, 0, 802004060, 1065353216, 0, 1065353216);
    }
    if (EventFlag(55)) {
        InitializeCommonEvent(0, 90005694, 1050362500, 1050361500, 200, 0, 802004050, 1065353216, 0, 1065353216);
    }
    if (EventFlag(54)) {
        InitializeCommonEvent(0, 90005694, 1050362500, 1050361500, 200, 0, 802004040, 1065353216, 0, 1065353216);
    }
    if (EventFlag(53)) {
        InitializeCommonEvent(0, 90005694, 1050362500, 1050361500, 200, 0, 802004030, 1065353216, 0, 1065353216);
    }
    if (EventFlag(52)) {
        InitializeCommonEvent(0, 90005694, 1050362500, 1050361500, 200, 0, 802004020, 1065353216, 0, 1065353216);
    }
    if (EventFlag(51)) {
        InitializeCommonEvent(0, 90005694, 1050362500, 1050361500, 200, 0, 802004010, 1065353216, 0, 1065353216);
    }
    if (EventFlag(50)) {
        InitializeCommonEvent(0, 90005694, 1050362500, 1050361500, 200, 0, 802004000, 1065353216, 0, 1065353216);
    }
    if (EventFlag(57)) {
        InitializeCommonEvent(0, 90005694, 1050362502, 1050361502, 200, 0, 802004070, 1065353216, 0, 1065353216);
    }
    if (EventFlag(56)) {
        InitializeCommonEvent(0, 90005694, 1050362502, 1050361502, 200, 0, 802004060, 1065353216, 0, 1065353216);
    }
    if (EventFlag(55)) {
        InitializeCommonEvent(0, 90005694, 1050362502, 1050361502, 200, 0, 802004050, 1065353216, 0, 1065353216);
    }
    if (EventFlag(54)) {
        InitializeCommonEvent(0, 90005694, 1050362502, 1050361502, 200, 0, 802004040, 1065353216, 0, 1065353216);
    }
    if (EventFlag(53)) {
        InitializeCommonEvent(0, 90005694, 1050362502, 1050361502, 200, 0, 802004030, 1065353216, 0, 1065353216);
    }
    if (EventFlag(52)) {
        InitializeCommonEvent(0, 90005694, 1050362502, 1050361502, 200, 0, 802004020, 1065353216, 0, 1065353216);
    }
    if (EventFlag(51)) {
        InitializeCommonEvent(0, 90005694, 1050362502, 1050361502, 200, 0, 802004010, 1065353216, 0, 1065353216);
    }
    if (EventFlag(50)) {
        InitializeCommonEvent(0, 90005694, 1050362502, 1050361502, 200, 0, 802004000, 1065353216, 0, 1065353216);
    }
    if (EventFlag(57)) {
        InitializeCommonEvent(0, 90005694, 1050362508, 1050361508, 200, 0, 802004070, 1065353216, 0, 1065353216);
    }
    if (EventFlag(56)) {
        InitializeCommonEvent(0, 90005694, 1050362508, 1050361508, 200, 0, 802004060, 1065353216, 0, 1065353216);
    }
    if (EventFlag(55)) {
        InitializeCommonEvent(0, 90005694, 1050362508, 1050361508, 200, 0, 802004050, 1065353216, 0, 1065353216);
    }
    if (EventFlag(54)) {
        InitializeCommonEvent(0, 90005694, 1050362508, 1050361508, 200, 0, 802004040, 1065353216, 0, 1065353216);
    }
    if (EventFlag(53)) {
        InitializeCommonEvent(0, 90005694, 1050362508, 1050361508, 200, 0, 802004030, 1065353216, 0, 1065353216);
    }
    if (EventFlag(52)) {
        InitializeCommonEvent(0, 90005694, 1050362508, 1050361508, 200, 0, 802004020, 1065353216, 0, 1065353216);
    }
    if (EventFlag(51)) {
        InitializeCommonEvent(0, 90005694, 1050362508, 1050361508, 200, 0, 802004010, 1065353216, 0, 1065353216);
    }
    if (EventFlag(50)) {
        InitializeCommonEvent(0, 90005694, 1050362508, 1050361508, 200, 0, 802004000, 1065353216, 0, 1065353216);
    }
    if (EventFlag(57)) {
        InitializeCommonEvent(0, 90005694, 1050362509, 1050361509, 200, 0, 802004070, 1065353216, 0, 1065353216);
    }
    if (EventFlag(56)) {
        InitializeCommonEvent(0, 90005694, 1050362509, 1050361509, 200, 0, 802004060, 1065353216, 0, 1065353216);
    }
    if (EventFlag(55)) {
        InitializeCommonEvent(0, 90005694, 1050362509, 1050361509, 200, 0, 802004050, 1065353216, 0, 1065353216);
    }
    if (EventFlag(54)) {
        InitializeCommonEvent(0, 90005694, 1050362509, 1050361509, 200, 0, 802004040, 1065353216, 0, 1065353216);
    }
    if (EventFlag(53)) {
        InitializeCommonEvent(0, 90005694, 1050362509, 1050361509, 200, 0, 802004030, 1065353216, 0, 1065353216);
    }
    if (EventFlag(52)) {
        InitializeCommonEvent(0, 90005694, 1050362509, 1050361509, 200, 0, 802004020, 1065353216, 0, 1065353216);
    }
    if (EventFlag(51)) {
        InitializeCommonEvent(0, 90005694, 1050362509, 1050361509, 200, 0, 802004010, 1065353216, 0, 1065353216);
    }
    if (EventFlag(50)) {
        InitializeCommonEvent(0, 90005694, 1050362509, 1050361509, 200, 0, 802004000, 1065353216, 0, 1065353216);
    }
    if (EventFlag(57)) {
        InitializeCommonEvent(0, 90005694, 1050362511, 1050361511, 200, 0, 802004070, 1065353216, 0, 1065353216);
    }
    if (EventFlag(56)) {
        InitializeCommonEvent(0, 90005694, 1050362511, 1050361511, 200, 0, 802004060, 1065353216, 0, 1065353216);
    }
    if (EventFlag(55)) {
        InitializeCommonEvent(0, 90005694, 1050362511, 1050361511, 200, 0, 802004050, 1065353216, 0, 1065353216);
    }
    if (EventFlag(54)) {
        InitializeCommonEvent(0, 90005694, 1050362511, 1050361511, 200, 0, 802004040, 1065353216, 0, 1065353216);
    }
    if (EventFlag(53)) {
        InitializeCommonEvent(0, 90005694, 1050362511, 1050361511, 200, 0, 802004030, 1065353216, 0, 1065353216);
    }
    if (EventFlag(52)) {
        InitializeCommonEvent(0, 90005694, 1050362511, 1050361511, 200, 0, 802004020, 1065353216, 0, 1065353216);
    }
    if (EventFlag(51)) {
        InitializeCommonEvent(0, 90005694, 1050362511, 1050361511, 200, 0, 802004010, 1065353216, 0, 1065353216);
    }
    if (EventFlag(50)) {
        InitializeCommonEvent(0, 90005694, 1050362511, 1050361511, 200, 0, 802004000, 1065353216, 0, 1065353216);
    }
    InitializeEvent(0, 1050362400, 1050365400, 1049362400);
    InitializeCommonEvent(0, 90005251, 1050360201, 1094713344, 0, -1);
    InitializeCommonEvent(0, 90005251, 1050360202, 1109393408, 0, -1);
    InitializeCommonEvent(0, 90005251, 1050360204, 1109393408, 0, -1);
    InitializeCommonEvent(0, 90005251, 1050360205, 1092616192, 0, -1);
    InitializeCommonEvent(0, 90005250, 1050360206, 1049362400, 0, -1);
    InitializeCommonEvent(0, 90005250, 1050360207, 1049362400, 0, -1);
    InitializeCommonEvent(0, 90005250, 1050360208, 1049362400, 0, -1);
    InitializeCommonEvent(0, 90005250, 1050360209, 1049362400, 0, -1);
    InitializeCommonEvent(0, 90005250, 1050360210, 1049362400, 0, -1);
    InitializeCommonEvent(0, 90005250, 1050360211, 1049362400, 0, -1);
    InitializeCommonEvent(0, 90005251, 1050360300, 1094713344, 0, -1);
    InitializeCommonEvent(0, 90005250, 1050360310, 1049362400, 0, -1);
    InitializeCommonEvent(0, 90005490, 1050360400, 1050360401, 1050361400, 0, 0, 1050362400, 1);
    InitializeCommonEvent(0, 90005490, 1050360402, 1050360403, 1050361402, 0, 0, 1050362402, 1);
    InitializeEvent(0, 1050362580, 0);
    InitializeCommonEvent(0, 90005605, 1050361610, 2372412, 1051360600, 0, 1050362650, 1050362651, 1050362652, 9410, 30040, 0, 0);
    InitializeCommonEvent(0, 90005605, 1050361612, 2372412, 1051360600, 0, 1050362653, 1050362654, 1050362655, 9410, 30040, 0, 0);
});

$Event(50, Default, function() {
    InitializeEvent(0, 1050362600, 0);
});

$Event(1050362400, Restart, function(X0_4, X4_4) {
    ClearSpEffect(X0_4, 5662);
    SetSpEffect(X0_4, 4802);
    EndIf(EventFlag(1050362400));
    SetSpEffect(X0_4, 5662);
    WaitFor(
        ((CharacterType(10000, TargetType.BlackPhantom) && CharacterHasSpEffect(10000, 3710))
            || CharacterType(10000, TargetType.Alive)
            || CharacterType(10000, TargetType.GrayPhantom)
            || CharacterType(10000, TargetType.WhitePhantom))
            && (HasDamageType(X0_4, 10000, DamageType.Unspecified)
                || HasDamageType(X0_4, 35000, DamageType.Unspecified)
                || HasDamageType(35000, X0_4, DamageType.Unspecified)
                || EntityInRadiusOfEntity(10000, X0_4, 10, 1)
                || EntityInRadiusOfEntity(35000, X0_4, 10, 1)
                || InArea(10000, X4_4)
                || InArea(35000, X4_4)));
    SetNetworkconnectedEventFlagID(1050362400, ON);
    ClearSpEffect(X0_4, 5662);
});

$Event(1050362600, Restart, function() {
    DisableCharacterAI(1050365200);
    DisableCharacterCollision(1050365200);
});

$Event(1050362580, Default, function() {
    RegisterLadder(1050360580, 1050360581, 1050361580);
    RegisterLadder(1050360582, 1050360583, 1050361582);
    RegisterLadder(1050360584, 1050360585, 1050361584);
    RegisterLadder(1050360586, 1050360587, 1050361586);
    RegisterLadder(1050360588, 1050360589, 1050361588);
});
