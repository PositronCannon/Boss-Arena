// ==EMEVD==
// @docs    er-common.emedf.json
// @compress    DCX_KRAK
// @game    Sekiro
// @string    "N:\\GR\\data\\Param\\event\\common_func.emevd\u0000N:\\GR\\data\\Param\\event\\common_macro.emevd\u0000\u0000\u0000\u0000\u0000\u0000"
// @linked    [0,82]
// @version    3.4.2
// ==/EMEVD==

$Event(0, Default, function() {
    
    RegisterBonfire(1035500002, 1035501953, 0, 0, 0, 5);
    InitializeCommonEvent(0, 90005100, 76214, 76214, 1035501983, 77220, 4, 78220, 78221, 78222, 78223, 78224, 78225, 78226, 78227, 78228, 78229);
    RegisterBonfire(1035500000, 1035501950, 0, 0, 0, 5);
    RegisterBonfire(1035500001, 1035501951, 0, 0, 0, 5);
    InitializeCommonEvent(0, 900005610, 1035501650, 100, 800, 0);
    InitializeEvent(0, 1035502200, 1035502700);
    InitializeCommonEvent(0, 9005810, 1035500800, 76232, 1035500952, 1035501952, 1084227584);
    InitializeCommonEvent(0, 90005300, 1035500322, 1035500322, 40220, 0, 0);
    InitializeCommonEvent(0, 90005300, 1035500320, 1035500320, 40250, 0, 0);
    InitializeEvent(0, 1035502580, 0);
    InitializeCommonEvent(0, 90005501, 1035500510, 1035500511, 4, 1035501510, 1035501511, 1035501512, 1035500512);
    InitializeEvent(0, 1035502510, 0);
    InitializeEvent(0, 1035502500, 0);
    InitializeCommonEvent(0, 90005511, 1035500560, 1035501560, 1035503560, 99020, 0);
    InitializeCommonEvent(0, 90005512, 1035500560, 1035502560, 1035502561);
    InitializeCommonEvent(0, 90005201, 1035500200, 30000, 20000, 1077936128, 0, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005201, 1035500210, 30000, 20000, 1077936128, 0, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005201, 1035500211, 30000, 20000, 1077936128, 0, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005251, 1035500217, 1092616192, 0, -1);
    InitializeCommonEvent(0, 90005201, 1035500218, 30000, 20000, 1077936128, 0, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005210, 1035500219, 30000, 20000, 1035502200, 1092616192, 1084227584, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005201, 1035500220, 30000, 20000, 1084227584, 1065353216, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005210, 1035500222, 30003, 20003, 1035502222, 1098907648, 0, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005210, 1035500223, 30000, 20000, 1035502200, 1092616192, 1077936128, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005210, 1035500224, 30000, 20000, 1035502200, 1092616192, 1082130432, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005210, 1035500225, 30000, 20000, 1035502200, 1088421888, 1073741824, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005201, 1035500226, 30000, 20000, 1084227584, 1065353216, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005210, 1035500227, 30000, 20000, 1035502200, 1092616192, 1082130432, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005210, 1035500228, 30000, 20000, 1035502200, 1086324736, 1073741824, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005210, 1035500229, 30000, 20000, 1035502200, 1092616192, 1084227584, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005210, 1035500230, 30000, 20000, 1035502200, 1092616192, 1082130432, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005201, 1035500240, 30000, 20000, 1077936128, 0, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005201, 1035500241, 30000, 20000, 1077936128, 0, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005201, 1035500244, 30000, 20000, 1077936128, 0, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005201, 1035500252, 30000, 20000, 1077936128, 0, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005201, 1035500254, 30000, 20000, 1077936128, 0, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005201, 1035500255, 30000, 20000, 1077936128, 0, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005201, 1035500256, 30000, 20000, 1077936128, 0, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005201, 1035500258, 30000, 20000, 1077936128, 0, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005201, 1035500278, 30000, 20000, 1084227584, 0, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005201, 1035500279, 30000, 20000, 1084227584, 0, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005201, 1035500280, 30000, 20000, 1084227584, 0, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005201, 1035500281, 30000, 20000, 1084227584, 0, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005201, 1035500282, 30000, 20000, 1084227584, 0, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005201, 1035500283, 30000, 20000, 1084227584, 0, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005201, 1035500284, 30000, 20000, 1084227584, 0, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005200, 1035500290, 30000, 20000, 1035502299, 0, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005200, 1035500291, 30000, 20000, 1035502291, 0, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005200, 1035500292, 30000, 20000, 1035502292, 0, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005251, 1035500303, 1097859072, 0, -1);
    InitializeCommonEvent(0, 90005261, 1035500310, 1035502311, 1099956224, 0, -1);
    InitializeCommonEvent(0, 90005250, 1035500313, 1035502313, 0, -1);
    InitializeCommonEvent(0, 90005250, 1035500314, 1035502314, 0, -1);
    InitializeCommonEvent(0, 90005250, 1035500342, 1035502342, 0, 0);
    InitializeCommonEvent(0, 90005200, 1035500350, 30003, 20003, 1035502350, 0, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005210, 1035500353, 30003, 20003, 1035502354, 1101004800, 0, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005210, 1035500354, 30003, 20003, 1035502354, 1101004800, 0, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005200, 1035500356, 30003, 20003, 1035502356, 0, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005250, 1035500390, 1035502390, 0, -1);
    InitializeCommonEvent(0, 90005250, 1035500391, 1035502391, 0, -1);
    InitializeCommonEvent(0, 90005251, 1035500395, 1084227584, 0, -1);
    InitializeCommonEvent(0, 90005250, 1035500400, 1035502400, 0, -1);
    InitializeCommonEvent(0, 90005250, 1035500401, 1035502400, 0, -1);
    InitializeCommonEvent(0, 90005250, 1035500402, 1035502402, 0, -1);
    InitializeCommonEvent(0, 90005250, 1035500409, 1035502409, 0, -1);
    InitializeCommonEvent(0, 90005260, 1035500410, 1035502410, 1109917696, 0, -1);
    InitializeCommonEvent(0, 90005250, 1035500411, 1035502411, 0, -1);
    InitializeCommonEvent(0, 90005250, 1035500412, 1035502412, 0, -1);
    InitializeCommonEvent(0, 90005250, 1035500413, 1035502412, 0, -1);
    InitializeCommonEvent(0, 90005200, 1035500414, 30006, 20006, 1035502414, 0, 0, 0, 0, 0);
    InitializeCommonEvent(0, 90005251, 1035500415, 1099431936, 0, -1);
    InitializeCommonEvent(0, 90005250, 1035500416, 1035502416, 0, -1);
    InitializeCommonEvent(0, 90005260, 1035500423, 1035502410, 1109393408, 0, -1);
    InitializeEvent(0, 1035502401, 0);
    InitializeEvent(0, 1035502400, 1035500407, 1035502407, 0, -1);
    InitializeEvent(1, 1035502400, 1035500408, 1035502407, 0, -1);
    InitializeEvent(2, 1035502400, 1035500419, 1035502419, 0, -1);
    InitializeEvent(3, 1035502400, 1035500420, 1035502420, 0, -1);
    InitializeEvent(4, 1035502400, 1035500421, 1035502420, 0, -1);
    InitializeEvent(5, 1035502400, 1035500422, 1035502422, 0, -1);
    InitializeEvent(6, 1035502400, 1035500424, 1035502422, 1084227584, -1);
    InitializeEvent(7, 1035502400, 1035500425, 1035502425, 0, -1);
    InitializeEvent(8, 1035502400, 1035500426, 1035502420, 0, -1);
    InitializeEvent(9, 1035502400, 1035500427, 1035502419, 0, -1);
    InitializeEvent(10, 1035502400, 1035500428, 1035502420, 0, -1);
    InitializeEvent(0, 1035502849, 0);
    InitializeEvent(0, 1035500800, 0);
    InitializeEvent(0, 1035502810, 0);
    InitializeEvent(0, 1035502840, 0);
    InitializeEvent(0, 1035502841, 0);
    InitializeEvent(0, 1035502842, 0);
    InitializeEvent(0, 1035502210, 1035501600, 1035502600, 1035500399);
    InitializeEvent(1, 1035502210, 1035501601, 1035502601, 1035500399);
    InitializeEvent(2, 1035502210, 1035501602, 1035502602, 1035500399);
    InitializeEvent(3, 1035502210, 1035501603, 1035502603, 1035500399);
    InitializeEvent(4, 1035502210, 1035501604, 1035502604, 1035500399);
    InitializeEvent(5, 1035502210, 1035501605, 1035502605, 1035500399);
    InitializeEvent(6, 1035502210, 1035501606, 1035502606, 1035500399);
    InitializeEvent(7, 1035502210, 1035501608, 1035502608, 1035500399);
    InitializeEvent(0, 1035500700, 1035500700, 1035500702, 1035500704, 1035500706, 1035501702);
    InitializeEvent(0, 1035500701, 1035500701, 1035500703, 1035500705, 1035500707, 1035501701);
    InitializeEvent(0, 1035500702, 0);
    InitializeEvent(0, 1035500703, 1035502705, 1035502720);
    InitializeEvent(1, 1035500703, 1035502706, 1035502721);
    InitializeCommonEvent(0, 90005750, 1035501700, 4110, 101490, 400149, 400149, 1035509215, 0);
    InitializeCommonEvent(0, 90005750, 1035501700, 4110, 101495, 400149, 400149, 1035509216, 0);
    InitializeCommonEvent(0, 90005706, 1035500710, 90102, 0);
});

$Event(50, Default, function() {
    SetCharacterBackreadState(1035500700, true);
    SetCharacterBackreadState(1035500701, true);
    SetCharacterBackreadState(1035500702, true);
    SetCharacterBackreadState(1035500703, true);
    SetCharacterBackreadState(1035500704, true);
    SetCharacterBackreadState(1035500705, true);
    SetCharacterBackreadState(1035500706, true);
    SetCharacterBackreadState(1035500707, true);
    SetCharacterBackreadState(1035500710, true);
    EnableAssetInvunerability(1035501702);
    InitializeEvent(0, 1035502514, 0);
});

$Event(1035502200, Restart, function(X0_4) {
    DisableNetworkSync();
    WaitFixedTimeSeconds(0.1);
    WaitFor(InArea(20000, X0_4) && !HasMultiplayerState(MultiplayerState.Invasion));
    SetSpEffect(20000, 9621);
    WaitFixedTimeSeconds(0.1);
    WaitFor(!InArea(20000, X0_4) || HasMultiplayerState(MultiplayerState.Invasion));
    WaitFixedTimeSeconds(0.1);
    ClearSpEffect(20000, 9621);
    RestartEvent();
});

$Event(1035502210, Restart, function(X0_4, X4_4, X8_4) {
    EndIf(EventFlag(X4_4));
    EndIf(AssetDestroyed(X0_4, Equal, 1));
    CreateBulletOwner(X8_4);
    chrSp = (CharacterType(10000, TargetType.BlackPhantom) && CharacterHasSpEffect(10000, 3710))
        || CharacterType(10000, TargetType.Alive)
        || CharacterType(10000, TargetType.GrayPhantom)
        || CharacterType(10000, TargetType.WhitePhantom);
    dmgArea = HasDamageType(X0_4, 20000, DamageType.Unspecified) || EntityInRadiusOfEntity(X0_4, 20000, 2, 1);
    WaitFor(dmgArea && chrSp);
    RequestAssetDestruction(X0_4, 0);
    if (EventFlag(50)) {
        ShootBullet(X8_4, X0_4, 100, 802402000, 0, 0, 0);
    }
    if (EventFlag(51)) {
        ShootBullet(X8_4, X0_4, 100, 802402010, 0, 0, 0);
    }
    if (EventFlag(52)) {
        ShootBullet(X8_4, X0_4, 100, 802402020, 0, 0, 0);
    }
    if (EventFlag(53)) {
        ShootBullet(X8_4, X0_4, 100, 802402030, 0, 0, 0);
    }
    if (EventFlag(54)) {
        ShootBullet(X8_4, X0_4, 100, 802402040, 0, 0, 0);
    }
    if (EventFlag(55)) {
        ShootBullet(X8_4, X0_4, 100, 802402050, 0, 0, 0);
    }
    if (EventFlag(56)) {
        ShootBullet(X8_4, X0_4, 100, 802402060, 0, 0, 0);
    }
    if (EventFlag(57)) {
        ShootBullet(X8_4, X0_4, 100, 802402070, 0, 0, 0);
    }
    EndEvent();
});

$Event(1035502401, Restart, function() {
    EnableNetworkSync();
    WaitFor(PlayerIsInOwnWorld() && InArea(10000, 1035502499));
    SetNetworkconnectedEventFlagID(1035502499, ON);
});

$Event(1035502400, Restart, function(X0_4, X4_4, X8_4, X12_4) {
    EnableNetworkSync();
    EndIf(ThisEventSlot());
    DisableCharacterAI(X0_4);
    chrSp = (CharacterType(10000, TargetType.BlackPhantom) && CharacterHasSpEffect(10000, 3710))
        || CharacterType(10000, TargetType.Alive)
        || CharacterType(10000, TargetType.GrayPhantom)
        || CharacterType(10000, TargetType.WhitePhantom);
    flagArea = EventFlag(1035502499) && InArea(10000, X4_4);
    sp = CharacterHasSpEffect(X0_4, 481)
        && !CharacterHasSpEffect(X0_4, 90100)
        && !CharacterHasSpEffect(X0_4, 90110)
        && !CharacterHasSpEffect(X0_4, 90160);
    sp2 = CharacterHasSpEffect(X0_4, 482)
        && !CharacterHasSpEffect(X0_4, 90100)
        && !CharacterHasSpEffect(X0_4, 90120)
        && !CharacterHasSpEffect(X0_4, 90160)
        && !CharacterHasSpEffect(X0_4, 90162);
    sp3 = CharacterHasSpEffect(X0_4, 483)
        && !CharacterHasSpEffect(X0_4, 90100)
        && !CharacterHasSpEffect(X0_4, 90140)
        && !CharacterHasSpEffect(X0_4, 90160)
        && !CharacterHasSpEffect(X0_4, 90161);
    sp4 = CharacterHasSpEffect(X0_4, 484)
        && !CharacterHasSpEffect(X0_4, 90100)
        && !CharacterHasSpEffect(X0_4, 90130)
        && !CharacterHasSpEffect(X0_4, 90161)
        && !CharacterHasSpEffect(X0_4, 90162);
    sp5 = CharacterHasSpEffect(X0_4, 487)
        && !CharacterHasSpEffect(X0_4, 90100)
        && !CharacterHasSpEffect(X0_4, 90150)
        && !CharacterHasSpEffect(X0_4, 90160);
    flagAreaChrSp = flagArea && chrSp;
    WaitFor(
        HasDamageType(X0_4, 0, DamageType.Unspecified)
            || CharacterHasStateInfo(X0_4, 436)
            || CharacterHasStateInfo(X0_4, 2)
            || CharacterHasStateInfo(X0_4, 5)
            || CharacterHasStateInfo(X0_4, 6)
            || CharacterHasStateInfo(X0_4, 260)
            || sp
            || sp2
            || sp3
            || sp4
            || sp5
            || flagAreaChrSp);
    SetNetworkconnectedThisEventSlot(ON);
    if (flagAreaChrSp.Passed) {
        WaitFixedTimeSeconds(X8_4);
        if (Signed(X12_4) != -1) {
            ForceAnimationPlayback(X0_4, X12_4, true, false, false);
        }
    }
L1:
    EnableCharacterAI(X0_4);
});

$Event(1035502510, Default, function() {
    InitializeCommonEvent(0, 90005500, 1035500510, 1035500511, 4, 1035501510, 1035501511, 1035503511, 1035501512, 1035503512, 1035502511, 1035502512, 1035500512, 1035500513, 0);
});

$Event(1035502514, Default, function() {
    EndIf(EventFlag(1035500514));
    SetEventFlagID(1035500514, ON);
    SetEventFlagID(1035500510, OFF);
});

$Event(1035502580, Default, function() {
    RegisterLadder(1035500580, 1035500581, 1035501580);
    RegisterLadder(1035500582, 1035500583, 1035501582);
    RegisterLadder(1035500584, 1035500585, 1035501584);
    RegisterLadder(1035500586, 1035500587, 1035501586);
});

$Event(1035502500, Restart, function() {
    DisableAsset(1035501200);
    DisableAsset(1035501201);
    DisableAsset(1035506400);
});

$Event(1035500800, Restart, function() {
    EndIf(EventFlag(1035500800));
    WaitFor(CharacterHPValue(1035500800) <= 0);
    WaitFixedTimeSeconds(4);
    PlaySE(1035500800, SoundType.SFX, 888880000);
    WaitFor(CharacterDead(1035500800));
    HandleBossDefeatAndDisplayBanner(1035500800, TextBannerType.GreatEnemyFelled);
    WaitFixedTimeSeconds(6);
    WarpPlayer(11, 10, 0, 0, 11102021, -11100);
});

$Event(1035502810, Restart, function() {
    if (EventFlag(1035500800)) {
        DisableCharacter(1035500800);
        DisableCharacterCollision(1035500800);
        ForceCharacterDeath(1035500800, false);
        EndEvent();
    }
L0:
    DisableCharacterAI(1035500800);
    if (!EventFlag(1035500801)) {
        DisableCharacter(1035500800);
        ForceAnimationPlayback(1035500800, 30000, true, false, false);
        WaitFor(
            (PlayerIsInOwnWorld() && InArea(10000, 1035502801))
                || HasDamageType(1035500800, 10000, DamageType.Unspecified));
        SetNetworkconnectedEventFlagID(1035500801, ON);
        EnableCharacter(1035500800);
        ForceAnimationPlayback(1035500800, 20010, false, false, true);
    } else {
L1:
        WaitFor((InArea(10000, 1035502800) || InArea(10000, 1035502802)) && EventFlag(1035502805));
    }
L2:
    EnableCharacterAI(1035500800);
    SetNetworkUpdateRate(1035500800, true, CharacterUpdateFrequency.AlwaysUpdate);
    DisplayBossHealthBar(Enabled, 1035500800, 0, 903253500);
});

$Event(1035502840, Restart, function() {
    EndIf(!PlayerIsInOwnWorld());
    EndIf(EventFlag(1035500800));
    WaitFor(
        InArea(1035500800, 1035502840)
            && !EventFlag(1035502821)
            && !EventFlag(1035502822)
            && !EventFlag(1035502823)
            && !EventFlag(1035502824)
            && !EventFlag(1035502825)
            && !EventFlag(1035502826)
            && (InArea(10000, 1035502841)
                || InArea(10000, 1035502842)
                || InArea(10000, 1035502843)
                || InArea(10000, 1035502844)
                || InArea(10000, 1035502845)));
    GotoIf(L0, InArea(10000, 1035502841));
    GotoIf(L1, InArea(10000, 1035502842));
    GotoIf(L0, InArea(10000, 1035502843));
    GotoIf(L1, InArea(10000, 1035502844));
    GotoIf(L4, InArea(10000, 1035502845));
L0:
    if (EventFlag(1035502839)) {
        SetNetworkconnectedEventFlagID(1035502822, ON);
    }
    if (!EventFlag(1035502839)) {
        SetNetworkconnectedEventFlagID(1035502824, ON);
    }
    Goto(L9);
L1:
    if (EventFlag(1035502839)) {
        SetNetworkconnectedEventFlagID(1035502821, ON);
    }
    if (!EventFlag(1035502839)) {
        SetNetworkconnectedEventFlagID(1035502823, ON);
    }
    Goto(L9);
L4:
    if (EventFlag(1035502839)) {
        SetNetworkconnectedEventFlagID(1035502825, ON);
    }
    if (!EventFlag(1035502839)) {
        SetNetworkconnectedEventFlagID(1035502826, ON);
    }
    Goto(L9);
L9:
    WaitFixedTimeSeconds(1);
    RestartEvent();
});

$Event(1035502841, Restart, function() {
    EndIf(EventFlag(1035500800));
    WaitFor(
        EventFlag(1035502821)
            || EventFlag(1035502822)
            || EventFlag(1035502823)
            || EventFlag(1035502824)
            || EventFlag(1035502825)
            || EventFlag(1035502826));
    SetSpEffect(1035500800, 13806);
    DisableCharacterCollision(1035500800);
    WaitFixedTimeSeconds(1);
    GotoIf(L1, EventFlag(1035502821));
    GotoIf(L2, EventFlag(1035502822));
    GotoIf(L3, EventFlag(1035502823));
    GotoIf(L4, EventFlag(1035502824));
    GotoIf(L5, EventFlag(1035502825));
    GotoIf(L6, EventFlag(1035502826));
L1:
    IssueShortWarpRequest(1035500800, TargetEntityType.Area, 1035502821, -1);
    Goto(L9);
L2:
    IssueShortWarpRequest(1035500800, TargetEntityType.Area, 1035502822, -1);
    Goto(L9);
L3:
    IssueShortWarpRequest(1035500800, TargetEntityType.Area, 1035502823, -1);
    Goto(L9);
L4:
    IssueShortWarpRequest(1035500800, TargetEntityType.Area, 1035502824, -1);
    Goto(L9);
L5:
    IssueShortWarpRequest(1035500800, TargetEntityType.Area, 1035502825, -1);
    Goto(L9);
L6:
    IssueShortWarpRequest(1035500800, TargetEntityType.Area, 1035502826, -1);
    Goto(L9);
L9:
    EnableCharacterCollision(1035500800);
    ClearSpEffect(1035500800, 13806);
    ForceAnimationPlayback(1035500800, 20010, false, false, false);
    WaitFixedTimeSeconds(1);
    if (PlayerIsInOwnWorld()) {
        SetNetworkconnectedEventFlagID(1035502821, OFF);
        SetNetworkconnectedEventFlagID(1035502822, OFF);
        SetNetworkconnectedEventFlagID(1035502823, OFF);
        SetNetworkconnectedEventFlagID(1035502824, OFF);
        SetNetworkconnectedEventFlagID(1035502825, OFF);
        SetNetworkconnectedEventFlagID(1035502826, OFF);
    }
    RestartEvent();
});

$Event(1035502842, Restart, function() {
    EndIf(EventFlag(1035500800));
    DisableNetworkSync();
    EndIf(!PlayerIsInOwnWorld());
    WaitFor(EventFlag(1035502810));
    SetNetworkconnectedEventFlagID(1035502839, ON);
    WaitFixedTimeSeconds(3);
    SetNetworkconnectedEventFlagID(1035502839, OFF);
    WaitFixedTimeSeconds(5);
    SetNetworkconnectedEventFlagID(1035502839, ON);
    WaitFixedTimeSeconds(4);
    SetNetworkconnectedEventFlagID(1035502839, OFF);
    WaitFixedTimeSeconds(1);
    SetNetworkconnectedEventFlagID(1035502839, ON);
    WaitFixedTimeSeconds(6);
    SetNetworkconnectedEventFlagID(1035502839, OFF);
    WaitFixedTimeSeconds(7);
    RestartEvent();
});

$Event(1035502849, Restart, function() {
    InitializeCommonEvent(0, 9005800, 1035500800, 1035501800, 1035502800, 1035502805, 1035505800, 10000, 1035500801, 1035502801);
    InitializeCommonEvent(0, 9005801, 1035500800, 1035501800, 1035502800, 1035502805, 1035502806, 10000);
    InitializeCommonEvent(0, 9005811, 1035500800, 1035501800, 3, 1035500801);
    InitializeCommonEvent(0, 9005813, 1035500800, 1035501801, 3, 0, 3);
    InitializeCommonEvent(0, 9005822, 1035500800, 920200, 1035502805, 1035502806, 1035500801, 0, 0, 0);
});

$Event(1035500700, Restart, function(X0_4, X4_4, X8_4, X12_4, X16_4) {
    DisableNetworkSync();
    WaitFixedTimeFrames(1);
    if (PlayerIsInOwnWorld()) {
        BatchSetNetworkconnectedEventFlags(1035502700, 1035502702, OFF);
        if (EventFlag(1035509205)) {
            RandomlySetEventFlagInRange(1035502700, 1035502702, ON);
        } else {
            SetNetworkconnectedEventFlagID(1035502701, ON);
        }
        if (EventFlag(1035509202)) {
            BatchSetNetworkconnectedEventFlags(1035502700, 1035502702, OFF);
            SetNetworkconnectedEventFlagID(1035502700, ON);
        }
        if (EventFlag(1035509203)) {
            BatchSetNetworkconnectedEventFlags(1035502700, 1035502702, OFF);
            SetNetworkconnectedEventFlagID(1035502701, ON);
        }
        if (EventFlag(1035509204)) {
            BatchSetNetworkconnectedEventFlags(1035502700, 1035502702, OFF);
            SetNetworkconnectedEventFlagID(1035502702, ON);
        }
    }
L19:
    GotoIf(L5, EventFlag(3565));
    GotoIf(L6, EventFlag(3566));
    GotoIf(L7, EventFlag(3567));
    GotoIf(L8, EventFlag(3568));
    DisableCharacter(X0_4);
    SetCharacterBackreadState(X0_4, true);
    DisableCharacter(X4_4);
    SetCharacterBackreadState(X4_4, true);
    DisableCharacter(X8_4);
    SetCharacterBackreadState(X8_4, true);
    DisableCharacter(X12_4);
    SetCharacterBackreadState(X12_4, true);
    DisableAssetInvunerability(X16_4);
    WaitFor(AnyBatchEventFlags(3565, 3568));
    RestartEvent();
L5:
L6:
L7:
L8:
    EnableCharacter(X0_4);
    SetCharacterBackreadState(X0_4, false);
    EnableCharacter(X4_4);
    SetCharacterBackreadState(X4_4, false);
    EnableCharacter(X8_4);
    SetCharacterBackreadState(X8_4, false);
    EnableCharacter(X12_4);
    SetCharacterBackreadState(X12_4, false);
    ForceAnimationPlayback(X4_4, 930010, false, false, false);
    ForceAnimationPlayback(X8_4, 930010, false, false, false);
    ForceAnimationPlayback(X12_4, 930010, false, false, false);
    EnableAssetInvunerability(X16_4);
    RequestAssetRestoration(X16_4);
    if (EventFlag(1035502700)) {
        ForceAnimationPlayback(X0_4, 930024, false, false, false);
    }
    if (EventFlag(1035502701)) {
        ForceAnimationPlayback(X0_4, 930026, false, false, false);
    }
    if (EventFlag(1035502702)) {
        ForceAnimationPlayback(X0_4, 930028, false, false, false);
    }
    Goto(L20);
L20:
    WaitFor(!AnyBatchEventFlags(3565, 3568));
    RestartEvent();
});

$Event(1035500701, Restart, function(X0_4, X4_4, X8_4, X12_4, X16_4) {
    DisableNetworkSync();
    WaitFixedTimeFrames(1);
    if (PlayerIsInOwnWorld()) {
    }
L19:
    if (!EventFlag(3569)) {
        DisableCharacter(X0_4);
        SetCharacterBackreadState(X0_4, true);
        DisableCharacter(X4_4);
        SetCharacterBackreadState(X4_4, true);
        DisableCharacter(X8_4);
        SetCharacterBackreadState(X8_4, true);
        DisableCharacter(X12_4);
        DisableAsset(X16_4);
        WaitFor(EventFlag(3569));
        RestartEvent();
    }
L9:
    EnableCharacter(X0_4);
    SetCharacterBackreadState(X0_4, false);
    EnableCharacter(X4_4);
    SetCharacterBackreadState(X4_4, false);
    EnableCharacter(X8_4);
    SetCharacterBackreadState(X8_4, false);
    EnableCharacter(X12_4);
    SetCharacterBackreadState(X12_4, false);
    EnableAsset(X16_4);
    ForceAnimationPlayback(X4_4, 930009, false, false, false);
    ForceAnimationPlayback(X8_4, 930009, false, false, false);
    ForceAnimationPlayback(X12_4, 930009, false, false, false);
    ForceAnimationPlayback(X0_4, 30019, false, false, false);
    SetCharacterTalkRange(X0_4, 100);
    Goto(L20);
L20:
    WaitFor(!EventFlag(3569));
    RestartEvent();
});

$Event(1035500702, Restart, function() {
    EndIf(!PlayerIsInOwnWorld());
    SetEventFlagID(1035509208, OFF);
    WaitFor(
        EventValue(67470, 8) >= 1
            && EventValue(66450, 8) >= 1
            && EventValue(130290, 8) >= 3
            && EventValue(130300, 8) >= 2
            && EventValue(130340, 8) >= 1
            && EventValue(130350, 8) >= 1
            && EventValue(130360, 8) >= 1
            && EventValue(130370, 8) >= 2
            && EventValue(130380, 8) >= 1
            && EventValue(130390, 8) >= 1
            && EventValue(69900, 8) >= 1);
    SetEventFlagID(1035509208, ON);
    EndEvent();
});

$Event(1035500703, Restart, function(X0_4, X4_4) {
    EndIf(!PlayerIsInOwnWorld());
    WaitFor(EventFlag(3569) && InArea(10000, X4_4) && PlayerIsInOwnWorld());
    SetEventFlagID(X0_4, ON);
});


